<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Expanding on ASP.NET BasePages from Eric Wise | Raymond Lewallen</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/raymondlewallen/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/raymondlewallen/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/raymondlewallen/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/raymondlewallen/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/raymondlewallen/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Raymond Lewallen' href='http://codebetter.com/raymondlewallen/' />
<link rel='start' title='Moving some blog entries' href='http://codebetter.com/raymondlewallen/2004/12/01/moving-some-blog-entries/' />
<link rel='prev' title='YooHoo, I&#8217;m over here now!' href='http://codebetter.com/raymondlewallen/2005/02/02/yoohoo-im-over-here-now/' />
<link rel='next' title='XP Programming book' href='http://codebetter.com/raymondlewallen/2005/02/04/xp-programming-book/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/' />
<link rel='shortlink' href='http://codebetter.com/raymondlewallen/?p=38' />
<link rel="stylesheet" href="http://codebetter.com/raymondlewallen/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/raymondlewallen/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-38" class="post-38 post type-post status-publish format-standard hentry category-net-development category-patterns-and-practices">
					<h1 class="entry-title">Expanding on ASP.NET BasePages from Eric Wise</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/raymondlewallen/author/raymondlewallen/" title="View all posts by raymondlewallen">raymondlewallen</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/" title="8:25 pm" rel="bookmark"><span class="entry-date">February 2, 2005</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/raymondlewallen/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/raymondlewallen/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/raymondlewallen/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>Eric Wise wrote a post on <a href="http://codebetter.com/blogs/eric.wise/archive/2005/02/02/50334.aspx">BasePages and inheritance</a> in Asp.Net.  Great post, and you should read it before reading this one, as this is an expansion of what he started.</p>
<p>I made a comment about how I do the same thing but also include a way to access the session.  First lets take a look at the code Eric provided, with a few additions that supply access to a custom session manager:</p>
<div><PRE><br />
<span style='color:blue'>using</span> System;</p>
<p><span style='color:blue'>public</span> <span style='color:blue'>class</span> BasePage : System.Web.UI.Page<br />
    {<br />
        <span style='color:blue'>public</span> ApplicationSessionManager UserInstance;</p>
<p>        <span style='color:blue'>private</span> <span style='color:blue'>string</span> _connectstring = <span style='color:#0000ff'>&#8220;&#8221;</span>;<br />
        <span style='color:blue'>protected</span> <span style='color:blue'>string</span> connectstring<br />
        {<br />
            get<br />
            {<br />
                <span style='color:blue'>if</span>(_connectstring == <span style='color:#0000ff'>&#8220;&#8221;</span>)<br />
                {<br />
                    <span style='color:#808080'>//Get Connection string</span></p>
<p>                }<br />
                <span style='color:blue'>return</span> _connectstring;<br />
            }<br />
        }</p>
<p>        <span style='color:blue'>public</span> BasePage() : <span style='color:blue'>base</span>()<br />
        {<br />
            <span style='color:blue'>base</span>.Init += <span style='color:blue'>new</span> System.EventHandler(PreInit);<br />
        }</p>
<p>        <span style='color:blue'>protected</span> <span style='color:blue'>void</span> PreInit(<span style='color:blue'>object</span> sender, System.EventArgs e)<br />
        {<br />
            UserInstance = ApplicationSessionManager.Instance;<br />
        }<br />
    }</pre>
</div>
<p>Now lets look at the singleton ApplicationSessionManager class that goes with it.  I do this primarily so that the use of the session object doesn't get out of control.  I recently did a code review on an Asp.Net project that had over 45 distinct session variables.  What a nightmare to maintain and keep track of!  This happened because there was not solid implementation like below to define what the session should be and what should exist in it.  Also, this ApplicationSessionManager class provides a strongly-typed way to access session information, as you can see below.  No more (int)Session["MyInteger"] occurs, which saves quite a bit because you don't have to be knowledgable of the object type stored in session.  Using the singleton below provides you that strongly-typed interface.  Now lets take a look at it:</p>
<div><PRE><br />
<span style='color:blue'>using</span> System;<br />
<span style='color:blue'>using</span> System.Web;</p>
<p>    [Serializable()]<br />
    <span style='color:blue'>public</span> <span style='color:blue'>class</span> ApplicationSessionManager<br />
    {<br />
        <span style='color:blue'>private</span> ApplicationSessionManager()<br />
        {<br />
        }</p>
<p>        <span style='color:blue'>public</span> <span style='color:blue'>static</span> ApplicationSessionManager Instance<br />
        {<br />
            get<br />
            {<br />
                HttpContext context = HttpContext.Current;<br />
                ApplicationSessionManager theSession;<br />
                <span style='color:blue'>if</span> (!(context.Session[<span style='color:#0000ff'>"TheSession"</span>] == <span style='color:blue'>null</span> &amp;&amp; (context.Session[<span style='color:#0000ff'>"TheSession"</span>] <span style='color:blue'>is</span> ApplicationSessionManager)))<br />
                {<br />
                    theSession = ((ApplicationSessionManager)(context.Session[<span style='color:#0000ff'>"TheSession"</span>]));<br />
                }<br />
                <span style='color:blue'>else</span><br />
                {<br />
                    theSession = <span style='color:blue'>new</span> ApplicationSessionManager();<br />
                    context.Session[<span style='color:#0000ff'>"TheSession"</span>] = theSession;<br />
                }<br />
                <span style='color:blue'>return</span> theSession;<br />
            }<br />
        }</p>
<p>        <span style='color:blue'>public</span> <span style='color:blue'>void</span> Abandon()<br />
        {<br />
            HttpContext.Current.Session.Abandon();<br />
        }</p>
<p>        <span style='color:blue'>public</span> <span style='color:blue'>void</span> Clear()<br />
        {<br />
            HttpContext.Current.Session.Clear();<br />
        }</p>
<p>        <span style='color:blue'>private</span> <span style='color:blue'>string</span> clientName;<br />
        <span style='color:blue'>public</span> <span style='color:blue'>string</span> ClientName<br />
        {<br />
            get<br />
            {<br />
                <span style='color:blue'>return</span> clientName;<br />
            }<br />
            set<br />
            {<br />
                <span style='color:blue'>if</span> (value == <span style='color:blue'>null</span>)<br />
                {<br />
                    <span style='color:blue'>throw</span> <span style='color:blue'>new</span> ArgumentNullException(<span style='color:#0000ff'>"ClientName"</span>, <span style='color:#0000ff'>"Cannot store a null value in session."</span>);<br />
                }<br />
                clientName = value;<br />
            }<br />
        }<br />
    }
</pre>
</div>
<p>As you can see, all you need to do is add a property for each item you want to store in session, and really the only thing stored in session is the ApplicationSessionManager class itself, in this case, under the name "TheSession".  This is a very common way to approach this scenario and has been in use since the release of .Net.</p>
<p>And finally, a WebForm1.aspx.vb to go along with it</p>
<div><PRE><br />
<span style='color:blue'>using</span> System;<br />
<span style='color:blue'>using</span> System.Collections;<br />
<span style='color:blue'>using</span> System.ComponentModel;<br />
<span style='color:blue'>using</span> System.Data;<br />
<span style='color:blue'>using</span> System.Drawing;</p>
<p><span style='color:blue'>using</span> System.Web;<br />
<span style='color:blue'>using</span> System.Web.SessionState;<br />
<span style='color:blue'>using</span> System.Web.UI;<br />
<span style='color:blue'>using</span> System.Web.UI.WebControls;<br />
<span style='color:blue'>using</span> System.Web.UI.HtmlControls;</p>
<p><span style='color:blue'>namespace</span> BaseWebProject<br />
{<br />
    <span style='color:#808080'>/// &lt;summary&gt;</span></p>
<p>    <span style='color:#808080'>/// Summary description for WebForm1.</span><br />
    <span style='color:#808080'>/// &lt;/summary&gt;</span><br />
    <span style='color:blue'>public</span> <span style='color:blue'>class</span> WebForm1 : BasePage<br />
    {<br />
        <span style='color:blue'>private</span> <span style='color:blue'>void</span> Page_Load(<span style='color:blue'>object</span> sender, System.EventArgs e)<br />
        {<br />
            <span style='color:#808080'>// Put user code to initialize the page here</span></p>
<p>            UserInstance.ClientName = <span style='color:#0000ff'>"Raymond Lewallen"</span>;<br />
        }</p>
<p>        #region Web Form Designer generated code<br />
        <span style='color:blue'>override</span> <span style='color:blue'>protected</span> <span style='color:blue'>void</span> OnInit(EventArgs e)<br />
        {<br />
            <span style='color:#808080'>//</span><br />
            <span style='color:#808080'>// CODEGEN: This call is required by the ASP.NET Web Form Designer.</span><br />
            <span style='color:#808080'>//</span></p>
<p>            InitializeComponent();<br />
            <span style='color:blue'>base</span>.OnInit(e);<br />
        }</p>
<p>        <span style='color:#808080'>/// &lt;summary&gt;</span><br />
        <span style='color:#808080'>/// Required method for Designer support - do not modify</span><br />
        <span style='color:#808080'>/// the contents of this method with the code editor.</span><br />
        <span style='color:#808080'>/// &lt;/summary&gt;</span></p>
<p>        <span style='color:blue'>private</span> <span style='color:blue'>void</span> InitializeComponent()<br />
        {<br />
            <span style='color:blue'>this</span>.Load += <span style='color:blue'>new</span> System.EventHandler(<span style='color:blue'>this</span>.Page_Load);<br />
        }<br />
        #endregion<br />
    }<br />
}</pre>
</div>
<p>Probably not much need for me to elaborate on what is going on here, as it is pretty striaght-forward.  This type of scenario works extremely well for expanding out and adding core functionallity for all your pages.  Again, see Eric's post for some elaboration on the BasePage inheritance technique.</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/raymondlewallen/category/net-development/" title="View all posts in .Net Development" rel="category tag">.Net Development</a>, <a href="http://codebetter.com/raymondlewallen/category/patterns-and-practices/" title="View all posts in Patterns and Practices" rel="category tag">Patterns and Practices</a>. Bookmark the <a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/" title="Permalink to Expanding on ASP.NET BasePages from Eric Wise" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/feed/" title="Comments RSS to Expanding on ASP.NET BasePages from Eric Wise" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-38 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/raymondlewallen/2005/02/02/yoohoo-im-over-here-now/" rel="prev"><span class="meta-nav">&larr;</span> YooHoo, I&#8217;m over here now!</a></div>
					<div class="nav-next"><a href="http://codebetter.com/raymondlewallen/2005/02/04/xp-programming-book/" rel="next">XP Programming book <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">9 Responses to <em>Expanding on ASP.NET BasePages from Eric Wise</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-74">
		<div id="comment-74">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">J. Doe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-74">October 6, 2009 at 8:54 pm</a></div>

		<div class="comment-body"><p>I am getting an object reference error:</p>
<p>UserInstance.ClientName = &#8220;Raymond Lewallen&#8221;;</p>
<p>Any thoughts? Its static so im not sure why.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-73">
		<div id="comment-73">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.woundexpert.com/' rel='external nofollow' class='url'>Wil Welsh</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-73">May 1, 2006 at 12:50 am</a></div>

		<div class="comment-body"><p>The left half of the if statement is missing a closing &#8220;)&#8221;  If you copy &#038; paste as it is on the web page here, it will give a null reference exception everytime you try and get an instance.  It does this because everytime it will evaluate to true &#038; return you null from the session.  It will never evalutate to false &#038; create a new session.</p>
<p>I did some rewriting on the basepage class here, its a little cleaner because resharper comes up complaining about hiding the preinit via inheritance and demanding a &#8220;new&#8221; qualifier on it every time you open the file up.</p>
<p>public class BasePageRoot : System.Web.UI.Page<br />
    {<br />
        public ApplicationSessionManager UserInstance;</p>
<p>        public BasePageRoot() : base()<br />
        {<br />
            this.PreInit += new EventHandler(BasePageRoot_PreInit);<br />
        }</p>
<p>        void BasePageRoot_PreInit(object sender, EventArgs e)<br />
        {<br />
            //MasterPageFile = &#8220;~/PaidCustomer.master&#8221;;<br />
            UserInstance =  ApplicationSessionManager.Instance;<br />
        }<br />
    }</p>
<p>Don&#8217;t mind the root business&#8230; I have a heirarchy of basepages that inherit from each other, like </p>
<p>JSfirm.Basepages.JobSeeker.Open<br />
JSfirm.Basepages.JobSeeker.Secure<br />
JSfirm.Basepages.Employer.Open<br />
JSfirm.Basepages.Employer.Secure</p>
<p> which all inherit from the baseroot.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-72">
		<div id="comment-72">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.codebetter.com/blogs/raymond.lewallen' rel='external nofollow' class='url'>Raymond Lewallen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-72">March 14, 2006 at 12:07 am</a></div>

		<div class="comment-body"><p>Tom,</p>
<p>The &#8220;if&#8221; statement looks correct to me.  When I did this last year, I copied and pasted that right out of working code.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-71">
		<div id="comment-71">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Tom</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-71">March 14, 2006 at 12:03 am</a></div>

		<div class="comment-body"><p>is it just me or is the &#8220;if&#8221; statement within the Instance function of the ApplicationSessionManager incorrect?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-70">
		<div id="comment-70">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codbetter.com/blogs/brendan.tompkins' rel='external nofollow' class='url'>Brendan Tompkins</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-70">February 3, 2005 at 1:27 pm</a></div>

		<div class="comment-body"><p>Raymond, </p>
<p>Yeah! Have all of these coders reading these new blogs is amazing!  I&#8217;m having fun.</p>
<p>I&#8217;m going to do a new post, because I have a lot more to say about this&#8230;</p>
<p>B</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-69">
		<div id="comment-69">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/raymond.lewallen' rel='external nofollow' class='url'>Raymond Lewallen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-69">February 3, 2005 at 11:52 am</a></div>

		<div class="comment-body"><p>Ben,</p>
<p>Yes, we also have a security model in our BasePage, but covering everything you can implement into a BasePage for web forms would take dozens of posts, so I only covered a session wrapper here.  In the near future I&#8217;ll talk about a security model that can be implemented into the BasePage as well.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-68">
		<div id="comment-68">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/ben.reichelt/' rel='external nofollow' class='url'>ben</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-68">February 3, 2005 at 12:24 am</a></div>

		<div class="comment-body"><p>We use the same concept as you published here, and we also put some security logic into the base page&#8217;s OnLoad method, it gives you the benefit of security and its completely transparent to the developer writing the pages.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-67">
		<div id="comment-67">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.codebetter.com/blog/raymond.lewallen' rel='external nofollow' class='url'>Raymond Lewallen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-67">February 2, 2005 at 9:57 pm</a></div>

		<div class="comment-body"><p>Brendan,</p>
<p>The small community of Codebetter.com is already paying off very well. A post by Eric not 6 hours ago has gotten him, Salik, me and you all involved and discussing base page inheritence and what goes along with it, without having to wade through 150 other posts. We&#8217;ve since discovered that we each build different implementations of session wrappers (expected, of course), both with their good and bad behaviors. </p>
<p>The thing you mentioned about mine is the same thing I don&#8217;t like about your model: the instance. I do really like the implementation of the multiple places to store State information. I&#8217;ve been brainstorming lately about a way to re-implement a caching pattern into the BasePage scenario, based on our application requirements. I fully agree that perhaps we can each take the models we have and put them together somehow to come up with a more solidified solution to the scenarios. </p>
<p>I do agree that you can end up with very large objects with my model, depending on the application. I can&#8217;t elaborate on the project I work on due to the nature of the project and client, but the model works out well if you were to be aware of our circumstances and requirements. In the meantime, we can work on combining our models and perhaps the models of some others who can comment to come up with a really great pattern for all scenarios for storing State information.<br /></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-66">
		<div id="comment-66">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/weblogs/brendan.tompkins' rel='external nofollow' class='url'>Brendan Tompkins</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#comment-66">February 2, 2005 at 9:05 pm</a></div>

		<div class="comment-body"><p>Raymond,</p>
<p>I agree that a strongly typed wrapper around the session object is the way to go.  I blogged about this a while back, and use something similar to this  at work:</p>
<p><a target="_new" href="http://codebetter.com/blogs/brendan.tompkins/archive/2004/01/21/5856.aspx">http://codebetter.com/blogs/brendan.tompkins/archive/2004/01/21/5856.aspx</a></p>
<p>What I like about your model, is that you don&#8217;t have to instance your state obejct, it just lives as part of the page class.  What I don&#8217;t like is that you end up with a very large object, with slots for every possible session obejct, which doesn&#8217;t scale well either. </p>
<p>The state object I&#8217;ve created also allows you to store your State in different places (ViewState, Application, Cache) &#8230; Perhaps I&#8217;ll blog about this tomorrow, when I have more time.</p>
<p>Wonder if we could put our heads together, and get the best of both worlds somehow&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/raymondlewallen/2005/02/02/expanding-on-asp-net-basepages-from-eric-wise/#respond" style="display:none;">Cancel reply</a></small></h3>
									<p class="must-log-in">You must be <a href="http://codebetter.com/raymondlewallen/wp-login.php?redirect_to=http%3A%2F%2Fcodebetter.com%2Fraymondlewallen%2F2005%2F02%2F02%2Fexpanding-on-asp-net-basepages-from-eric-wise%2F">logged in</a> to post a comment.</p>												</div><!-- #respond -->
						
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.245 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-26 19:09:59 -->
<!-- super cache -->