<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Learn from my mistakes &#8211; refactoring and fixing design smells using common patterns | Raymond Lewallen</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/raymondlewallen/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/raymondlewallen/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/raymondlewallen/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/raymondlewallen/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/raymondlewallen/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Raymond Lewallen' href='http://codebetter.com/raymondlewallen/' />
<link rel='start' title='Moving some blog entries' href='http://codebetter.com/raymondlewallen/2004/12/01/moving-some-blog-entries/' />
<link rel='prev' title='Hoping the insurance company programmers are REALLY good at what they do' href='http://codebetter.com/raymondlewallen/2006/04/26/hoping-the-insurance-company-programmers-are-really-good-at-what-they-do/' />
<link rel='next' title='Common patterns posters to decorate with' href='http://codebetter.com/raymondlewallen/2006/05/03/common-patterns-posters-to-decorate-with/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/' />
<link rel='shortlink' href='http://codebetter.com/raymondlewallen/?p=247' />
<link rel="stylesheet" href="http://codebetter.com/raymondlewallen/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/raymondlewallen/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-247" class="post-247 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Learn from my mistakes &#8211; refactoring and fixing design smells using common patterns</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/raymondlewallen/author/raymondlewallen/" title="View all posts by raymondlewallen">raymondlewallen</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/" title="2:56 am" rel="bookmark"><span class="entry-date">May 2, 2006</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/raymondlewallen/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/raymondlewallen/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/raymondlewallen/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>So I’m working in a maintenance release right now.&nbsp; Very little<br />
added functionality.&nbsp; My current release at work is primarily to<br />
adjust to domain logic changes.&nbsp; This starts by adjusting the unit<br />
tests to accomodate the changed logic, and then fixing the code to fix<br />
the tests.&nbsp; Still, due to the nature of the changes, a lot of<br />
regression testing will still be involved.</p>
<p>This release also gives me an opportunity to go back and fix some<br />
serious design errors that I have lazily let make their way into the<br />
code.&nbsp; I want to cover a few these now, tell you why they are<br />
design mistakes, and how to fix them.&nbsp; Feel free to leave nasty<br />
comments here and add me to your wall of coding shame for some of<br />
these.&nbsp; For the most part, I was being lazy, but recognizing these<br />
mistakes and fixing them as soon as I have the opportunity should award<br />
me back some brownie points, right?</p>
<p><strong>Poor use of some static classes</strong></p>
<p>Static classes are something that you usually don’t find too often<br />
in a framework, and rightly so.&nbsp; They are there to only support<br />
the instance classes of the rest of your framework, but there is a<br />
right way and wrong way to do that.&nbsp; Of the several static classes<br />
I have, the majority are designed correctly, but two of them are not.</p>
<p>Here’s the design mistake: I have 2 static classes that are a<br />
catch-all for miscellaneous methods that support the framework.&nbsp;<br />
Let’s say you have an application for tracking car sales.&nbsp; To<br />
mimic the design mistake, I have a static class such as the following:</p>
</p>
<fieldset>Static Class GlobalMethods<br />&nbsp;&nbsp;&nbsp;&nbsp; GenerateNewCarId() : Int32 // generates a new Car ID<br />&nbsp;&nbsp;&nbsp;&nbsp; GenerateNewCustomerId() : Int32 // generates a new Customer ID<br />&nbsp;&nbsp;&nbsp;&nbsp; VerifyEmail(email)&nbsp; : Boolean // verifies a customer&nbsp;email address using RegEx<br />&nbsp;&nbsp;&nbsp;&nbsp; Age(dateOfBirth) : Int32 // returns a Customers Age</fieldset>
</p>
<p>Now, each of these are fine being static methods, but they are for<br />
the most part, unrelated.&nbsp; Better organization needs to occur<br />
here.&nbsp; I should create a new static class in the namespace for the<br />
Cars and another in the namespace for the Customers, and move each Id<br />
method to its corresponding static class so its coupled with the rest<br />
of its entities.&nbsp;&nbsp;The Age function can be moved to the<br />
Customer instance class itself, where the dateOfBirth is already stored<br />
as part of the state of the object and we can remove the parameter from<br />
the function.&nbsp; VerifyEmail can perhaps be made a private method<br />
inside the Customer instance class, and be called when we load the<br />
object state, or simply {get} the Email property.&nbsp; How to handle<br />
the logic if the VerifyEmail fails is dependant upon your particular<br />
situation.&nbsp; My actual code isn’t this blatently bad, but you get<br />
the idea.</p>
<p><strong>Reducing If/Then and Switch logic</strong></p>
<p>I could talk about this, but Jeremy has an excellent post on using the <a href="/blogs/jeremy.miller/archive/2006/04/11/142665.aspx" target="_blank">Strategy Pattern</a>, which is I need to implement into some code that has become bloated and overly complex.</p>
<p><strong>These next few pieces of design problems are all coupled together to reach a common goal.</strong></p>
<p><strong>Unify Interfaces</strong></p>
<p>The idea around unifying&nbsp;classes (the actual refactoring<br />
applied here is referred to as Unify interface) revolves around<br />
evolving subclasses without evolving your interfaces or<br />
superclass.&nbsp; As my application has evolved, so has a number of<br />
classes that either implement an interface or inherit a<br />
superclass.&nbsp; The added methods to the subclasses don’t exist in<br />
the superclass, such as the following:</p>
</p>
<fieldset>Public Class Vehicle<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NumberOfWheels : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Doors : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Color : ColorEnum<br />&nbsp;&nbsp;&nbsp;&nbsp; Weight : Int32 </p>
<p>Public Class Car : Vehicle<br />&nbsp;&nbsp;&nbsp;&nbsp; ToHtml() : String<br />&nbsp;&nbsp;&nbsp;&nbsp; NumberOfWheels : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Doors : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Color : ColorEnum<br />&nbsp;&nbsp;&nbsp;&nbsp; Weight : Int32</p>
</fieldset>
<p>As you can see, my subclass contains a method, ToHtml, that returns<br />
a description value to display on a webpage, that doesn’t exist in the<br />
superclass.&nbsp; To unify the interfaces of both, I need to copy the<br />
missing methods to the superclass.&nbsp; Now my superclass Vehicle<br />
looks like this:</p>
</p>
<fieldset>Public Class Vehicle<br />&nbsp;&nbsp;&nbsp;&nbsp; ToHtml() :&nbsp;String<br />&nbsp;&nbsp;&nbsp;&nbsp; NumberOfWheels : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Doors : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Color : ColorEnum<br />&nbsp;&nbsp;&nbsp;&nbsp; Weight : Int32</fieldset>
</p>
<p>Now my subclass and my superclass share a common set of functionality, i.e. a common interface.
</p>
<p><strong>Extract Interfaces</strong></p>
<p>Now that this is done,&nbsp;I’m ready for another refactoring to take place: <a href="http://www.refactoring.com/catalog/extractInterface.html" target="_blank">Extract Interface</a>.&nbsp; So now I’m left with the following:</p>
</p>
<fieldset>Public Inteface IVehicle<br />&nbsp;&nbsp;&nbsp;&nbsp; ToHtml() : String<br />&nbsp;&nbsp;&nbsp;&nbsp; NumberOfWheels : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Doors : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Color : ColorEnum<br />&nbsp;&nbsp;&nbsp;&nbsp; Weight : Int32 </p>
<p>Public Class Vehicle : IVehicle<br />&nbsp;&nbsp;&nbsp;&nbsp; ToHtml() : String<br />&nbsp;&nbsp;&nbsp;&nbsp; NumberOfWheels : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Doors : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Color : ColorEnum<br />&nbsp;&nbsp;&nbsp;&nbsp; Weight : Int32</p>
<p>Public Class Car : Vehicle<br />&nbsp;&nbsp;&nbsp;&nbsp; ToHtml() : String<br />&nbsp;&nbsp;&nbsp;&nbsp; NumberOfWheels : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Doors : Int32<br />&nbsp;&nbsp;&nbsp;&nbsp; Color : ColorEnum<br />&nbsp;&nbsp;&nbsp;&nbsp; Weight : Int32</p>
</fieldset>
<p>Now I’m much closer to a better design than what I started with for this set of classes.</p>
<p><strong>Make unit testing easier</strong></p>
<p>To take it one step further, imagine a class that relies on the Car<br />
object to do its work.&nbsp; And let’s also say we have a unit test on<br />
this class, but in order for the test to work, we have to have a<br />
connection to the database.&nbsp; Well, we don’t like that very much,<br />
so a good way to remove that database layer is to use <a href="/blogs/jeremy.miller/archive/2005/10/06/132825.aspx" target="_blank">dependency injection</a>.&nbsp; Take the following class:</p>
</p>
<fieldset>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;color: blue;font-family: 'Courier New'">class</span><span style="font-size: 10pt;font-family: 'Courier New'"> <span style="color: teal">Ticket</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: teal">Car </span>_car;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: teal">Int32</span> _carId;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> Ticket() {}</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> Ticket(<span style="color: teal">Int32</span> carId)</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_carId = carId;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">void</span> Load()</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// do something to load the car</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// object using the carid, if it</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// is &gt; 0</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp; </span>}</span></p>
</fieldset>
<p>In order to test this class and its methods (that I didn&#8217;t bother<br />
adding for the examples, but there are other methods on the class we<br />
need to test), we must have a Car object, but the only way we can get<br />
it right now is to load one from the database after calling the<br />
constuctor that takes a carId parameter.&nbsp; Not very good.&nbsp; Big<br />
design mistake on my part, and I have plenty of places where this needs<br />
to be fixed in my code.&nbsp; Take time to curse me under your breathe<br />
right now.
</p>
<p>How do we fix it?&nbsp; If you read the above link, and you should<br />
have, you know the answer.&nbsp; We implement dependency injection into<br />
the equation.&nbsp; We are going to use a mock Car object, give that<br />
object to the Ticket class, and use that mock object to do our unit<br />
testing, rather than requiring a connection to the database.&nbsp; When<br />
we’re done, and again, you know how all this ties in because you read<br />
the above link, we end up with this:</p>
</p>
<fieldset>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;color: blue;font-family: 'Courier New'">class</span><span style="font-size: 10pt;font-family: 'Courier New'"> <span style="color: teal">Ticket</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: teal">IVehicle</span> _car;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">private</span> <span style="color: teal">Int32</span> _carId;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> Ticket() {}</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> Ticket(<span style="color: teal">Int32</span> carId)</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_carId = carId;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> Ticket(<span style="color: teal">IVehicle</span> car)</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>_car = car;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue">public</span> <span style="color: blue">void</span> Load()</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// do something to load the car</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// object using the carid, if it</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green">// is &gt; 0</span></span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>
<p class="MsoNormal" style="margin: 0in 0in 0pt"><span style="font-size: 10pt;font-family: 'Courier New'"><span>&nbsp;&nbsp;&nbsp; </span>}</span></p>
</fieldset>
<p>Now we can just give the Ticket class a Car to use to do its<br />
testing.&nbsp; This wouldn’t have been possible if I hadn’t gone<br />
through the above Unify Interfaces and Extract Interface refactorings<br />
first.</p>
<p>So there are the major design smells that I’m going to be fixing<br />
over the next two months.&nbsp; I hope you read this, learn from my<br />
design laziness and mistakes so that you don’t have to have a<br />
maintenance release.&nbsp; The people signing your paycheck really,<br />
really hate maintenance releases, because they are paying you for ZERO<br />
or minimal functionality for that release.&nbsp; Its best to avoid<br />
these mistakes altogether, but incase you need to sneak in a few<br />
similar fixes, hopefully my above roadmap will help you out.</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/raymondlewallen/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/" title="Permalink to Learn from my mistakes &#8211; refactoring and fixing design smells using common patterns" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/feed/" title="Comments RSS to Learn from my mistakes &#8211; refactoring and fixing design smells using common patterns" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-247 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/raymondlewallen/2006/04/26/hoping-the-insurance-company-programmers-are-really-good-at-what-they-do/" rel="prev"><span class="meta-nav">&larr;</span> Hoping the insurance company programmers are REALLY good at what they do</a></div>
					<div class="nav-next"><a href="http://codebetter.com/raymondlewallen/2006/05/03/common-patterns-posters-to-decorate-with/" rel="next">Common patterns posters to decorate with <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">6 Responses to <em>Learn from my mistakes &#8211; refactoring and fixing design smells using common patterns</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-1817">
		<div id="comment-1817">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.codebetter.com/blogs/raymond.lewallen' rel='external nofollow' class='url'>rlewallen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/#comment-1817">May 2, 2006 at 5:54 pm</a></div>

		<div class="comment-body"><p>Eric,</p>
<p>My Vehicle class serves as a base class with base functionality for subclasses that will derive from it.  Car, truck, van, motorcycle etc can all inherit from Vehicle, and either choose to inherit the default behavior (if the default value for the Doors property in Vehicle is Zero, then motorcycle will not need to override the property).  It allows me flexibility and the ability to expand the subclasses by simply adding new functionality to the base class.  Overriding Object.ToString in Vehicle is a good example of adding new behavior without changing every single subclass, unless required.</p>
<p>In this particular example, IVehicle was extracted from Vehicle in order to provide a means of unit testing via dependency injection, which is much more preferred over requiring a database connection to fill the Car object.  I, personally, and this is just personal preference, do not use interfaces all that often except in cases like stated for unit testing, because they don&#8217;t provide the flexibility that abstract classes do.  Keep in mind, now that I do have the interface IVehicle, if I did add functionality to Vehicle, another Unify Interface refactoring would need to occur to make Car conform to the interface and provide the ability to completely test Car.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1816">
		<div id="comment-1816">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Eric Marthinsen</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/#comment-1816">May 2, 2006 at 3:35 pm</a></div>

		<div class="comment-body"><p>Can you expand on your logic for implementing the IVehicle interface and the Vehicle base class? It looks like you&#8217;ve added a level of abstraction on top of another level of abstraction. What&#8217;s your motivation?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-1815">
		<div id="comment-1815">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.codebetter.com/blogs/raymond.lewallen' rel='external nofollow' class='url'>rlewallen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/#comment-1815">May 2, 2006 at 12:36 pm</a></div>

		<div class="comment-body"><p>Udi, it was just an example.  Put whatever you want to in there to simulate the need for going through the above refactorings.  Call it CalculateMilage or CalculateSpeed(rpm, gear, tireSize).</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1814">
		<div id="comment-1814">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.codebetter.com/blogs/raymond.lewallen' rel='external nofollow' class='url'>rlewallen</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/#comment-1814">May 2, 2006 at 12:34 pm</a></div>

		<div class="comment-body"><p>Nice Matt.  I don&#8217;t actually create Id&#8217;s in my logic, I was just using it as an example, but no doubt what you&#8217;ve posted is of great help to others.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-1813">
		<div id="comment-1813">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.UdiDahan.com' rel='external nofollow' class='url'>Udi Dahan - The Software Simplist</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/#comment-1813">May 2, 2006 at 8:38 am</a></div>

		<div class="comment-body"><p>ToHTML ?! What does that have to do with cars, vehicles, etc? What about separating presentation from logic?</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1812">
		<div id="comment-1812">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.mattberther.com' rel='external nofollow' class='url'>Matt Berther</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/#comment-1812">May 2, 2006 at 3:56 am</a></div>

		<div class="comment-body"><p>Hi Raymond,</p>
<p>Instead of using a static class for your identifiers, I have done something like this for my domain identity creation&#8230;</p>
<p>public class EntityID<br />
{<br />
    private string id;</p>
<p>    public EntityID(string id)<br />
    {<br />
        this.id = id;<br />
    }</p>
<p>    public string Id<br />
    {<br />
        get { return id; }<br />
    }<br />
}</p>
<p>public interface EntityIDFactory<br />
{<br />
    EntityID GetNextID();<br />
}</p>
<p>public class GuidEntityIDFactory<br />
{<br />
    public EntityID GetNextID()<br />
    {<br />
        return new EntityID(Guid.NewGuid().ToString());<br />
    }<br />
}</p>
<p>And then, anything that needs to generate an ID could take an EntityIDFactory in its constructor&#8230; This allows you to mock this up much easier, which is always a bonus for unit testing&#8230; especially if your real EntityIDFactory makes a database call.</p>
<p>The other thing that you notice here is that Im putting an object around the EntityID&#8230; a *real* bonus if that ID ever changes (say, a composite ID or something).</p>
<p>If that happens, I only have to go to the EntityID class to change it rather than futz with a whole bunch of methods.</p>
<p>Whenever possible, I look to put an object around any primitive types that represent domain concepts.</p>
<p>Just my $.02&#8230; YMMV&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/raymondlewallen/2006/05/02/learn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns/#respond" style="display:none;">Cancel reply</a></small></h3>
									<p class="must-log-in">You must be <a href="http://codebetter.com/raymondlewallen/wp-login.php?redirect_to=http%3A%2F%2Fcodebetter.com%2Fraymondlewallen%2F2006%2F05%2F02%2Flearn-from-my-mistakes-refactoring-and-fixing-design-smells-using-common-patterns%2F">logged in</a> to post a comment.</p>												</div><!-- #respond -->
						
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.250 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-26 19:00:43 -->
<!-- super cache -->