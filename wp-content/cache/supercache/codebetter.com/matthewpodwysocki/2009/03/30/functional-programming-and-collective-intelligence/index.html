<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Functional Programming and Collective Intelligence | Matthew Podwysocki</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/matthewpodwysocki/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/matthewpodwysocki/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/matthewpodwysocki/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/matthewpodwysocki/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/matthewpodwysocki/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Matthew Podwysocki' href='http://codebetter.com/matthewpodwysocki/' />
<link rel='start' title='let Matt = CodeBetter + 1' href='http://codebetter.com/matthewpodwysocki/2008/04/24/let-matt-codebetter-1/' />
<link rel='prev' title='Talking Functional Programming with Erik Meijer' href='http://codebetter.com/matthewpodwysocki/2009/03/25/talking-functional-programming-with-erik-meijer/' />
<link rel='next' title='Functional Programming and Collective Intelligence &#8211; II' href='http://codebetter.com/matthewpodwysocki/2009/04/01/functional-programming-and-collective-intelligence-ii/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/matthewpodwysocki/2009/03/30/functional-programming-and-collective-intelligence/' />
<link rel='shortlink' href='http://codebetter.com/matthewpodwysocki/?p=123' />
<link rel="stylesheet" href="http://codebetter.com/matthewpodwysocki/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/matthewpodwysocki/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/matthewpodwysocki/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-123" class="post-123 post type-post status-publish format-standard hentry category-f category-functional-programming category-haskell">
					<h1 class="entry-title">Functional Programming and Collective Intelligence</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/matthewpodwysocki/author/matthewpodwysocki/" title="View all posts by matthewpodwysocki">matthewpodwysocki</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/matthewpodwysocki/2009/03/30/functional-programming-and-collective-intelligence/" title="5:32 am" rel="bookmark"><span class="entry-date">March 30, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/matthewpodwysocki/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/matthewpodwysocki/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/matthewpodwysocki/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>During some of my talks about functional programming, and in turn, F#, many do ask “Why Functional Programming?” and “Why use F#?” and both are very good questions.&#160; Many of the people using F# today are in fields such as finance, insurance, science and academia.&#160; Today, I hope to dive into a subject for which it is well suited.&#160; If you’ve been following me on Twitter, I’ve been talking a bit and showing off a bit of code on today’s subject.</p>
<p>One of my recent interests besides the concurrency issues is around <a href="http://en.wikipedia.org/wiki/Collective_intelligence">“Collective Intelligence”</a>, which is a shared group of intelligence that emerges from collaboration and competition of many individuals.&#160;&#160;&#160; With the increasing number of sites and people contributing data either intentionally or incidentally, it has given us a vast amount of data which can give us insight into any number of things such as user experience, marketing effectiveness, personal tastes and so on.&#160; Examples of large data sets that we can use for machine learning are the <a href="http://www.netflixprize.com/">Netflix Prize Data</a> and the <a href="http://www.guardian.co.uk/data-store">Guardian Data Store</a> among others. </p>
<p>The recent release of the <a href="http://www.guardian.co.uk/data-store">Guardian Data Store</a> has given us a great opportunity to not only analyze such data as population statistics, world health, education, migration and even such things as 1000 songs to hear before you die, but to visualize them in pretty interesting ways as well.&#160; Another noted functional programming blogger, <a href="http://strangelights.com">Robert Pickering</a>, has made the foray into <a href="http://strangelights.com/blog/archive/2009/03/19/1635.aspx">analyzing and visualizing world health data using F#</a>.&#160; </p>
<p>Why functional languages are a good fit here is around the conciseness of the language and the ability to explore data quickly.&#160; The exploratory nature of functional languages such as Haskell and F# allow us to prototype rapidly through the use of a console, without ever having to launch an IDE such as Visual Studio.&#160; Instead, we can quickly explore and transform the data in very interesting ways without a lot of overhead.&#160; Not only that, but the conciseness of the language and data structures well suited for exploration help us with such things as lists, tuples, maps, sets and so on.</p>
<p>What are the techniques needed for this?&#160; There are two good books that have been released recently on the subject that are well worth owning:</p>
<ul>
<li><a href="http://www.amazon.com/Programming-Collective-Intelligence-Building-Applications/dp/0596529325/">Programming Collective Intelligence: Building Smart Web 2.0 Applications – Toby Segaran</a> </li>
<li><a href="http://www.amazon.com/Collective-Intelligence-Action-Satnam-Alag/dp/1933988312/">Collective Intelligence in Action – Satnam Alag</a> </li>
<li><a href="http://www.amazon.com/Algorithms-Intelligent-Web-Haralambos-Marmanis/dp/1933988665/">Algorithms of the Intelligent Web – Haralambos Marmanis and Dmitry Babenko</a> </li>
</ul>
<p>Both of these books form an excellent foundation for getting started and give many great examples on how you can start leveraging your data to find many interesting things.&#160; With that in mind, let’s take a quick example from the Programming Collective Intelligence book, but this time using F# instead of Python, in which the book examples are written.</p>
<h2>Getting Started</h2>
<p>A challenge I give myself often is to take many of these examples, written in not only other languages, but other paradigms (imperative/object oriented) and redo the logic in a functional programming style using either Haskell or F#.&#160; We can apply such things as higher-order functions, immutable data structures and other functional aspects as we solve the problems.&#160; In this case, I chose F# to get started.&#160; In this challenge, we’re going to get user preferences and calculate similar users.&#160; First, let’s define the data set we’ll be using:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">let</span><span style="color: #000000"> critics </span><span style="color: #000000">=</span><span style="color: #000000">
  Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Lisa Rose</span><span style="color: #800000">"</span><span style="color: #000000">,
                Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Lady in the Water</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">2.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Snakes on a Plane</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.5</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">Just My Luck</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Superman Returns</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.5</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">You, Me and Dupree</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">2.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">The Night Listener</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">)];);
               (</span><span style="color: #800000">"</span><span style="color: #800000">Gene Seymour</span><span style="color: #800000">"</span><span style="color: #000000">,
                Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Lady in the Water</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Snakes on a Plane</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.5</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">Just My Luck</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">1.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Superman Returns</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">5.0</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">You, Me and Dupree</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">The Night Listener</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">)];);
               (</span><span style="color: #800000">"</span><span style="color: #800000">Michael Phillips</span><span style="color: #800000">"</span><span style="color: #000000">,
                Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Lady in the Water</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">2.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Snakes on a Plane</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">Superman Returns</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">The Night Listener</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">4.0</span><span style="color: #000000">)];);
               (</span><span style="color: #800000">"</span><span style="color: #800000">Claudia Puig</span><span style="color: #800000">"</span><span style="color: #000000">,
                Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Snakes on a Plane</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Just My Luck</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">2.0</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">Superman Returns</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">4.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">You, Me and Dupree</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">2.5</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">The Night Listener</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">4.0</span><span style="color: #000000">)];);
               (</span><span style="color: #800000">"</span><span style="color: #800000">Mick LaSalle</span><span style="color: #800000">"</span><span style="color: #000000">,
                Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Lady in the Water</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Snakes on a Plane</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">4.0</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">Just My Luck</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">2.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Superman Returns</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">You, Me and Dupree</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">2.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">The Night Listener</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">)];);
               (</span><span style="color: #800000">"</span><span style="color: #800000">Jack Matthews</span><span style="color: #800000">"</span><span style="color: #000000">,
                Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Lady in the Water</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Snakes on a Plane</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">4.0</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">Superman Returns</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">5.0</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">You, Me and Dupree</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.5</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">The Night Listener</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">3.0</span><span style="color: #000000">)];);
               (</span><span style="color: #800000">"</span><span style="color: #800000">Matt</span><span style="color: #800000">"</span><span style="color: #000000">,
                Map.of_list [(</span><span style="color: #800000">"</span><span style="color: #800000">Snakes on a Plane</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">4.5</span><span style="color: #000000">);(</span><span style="color: #800000">"</span><span style="color: #800000">Superman Returns</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">4.0</span><span style="color: #000000">);
                             (</span><span style="color: #800000">"</span><span style="color: #800000">You, Me and Dupree</span><span style="color: #800000">"</span><span style="color: #000000">, </span><span style="color: #800080">1.0</span><span style="color: #000000">)];);]  </span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>This data set gives us a map of critics and their ratings of given movies.&#160; At the bottom, I have my preferences listed as well which is to aid in our selection.&#160; You could imagine using this style of data set for your own data as well with such things as user name and items bought, browsed, and rating.&#160; Now that the data set is in place, we can then calculate how similar people are in their tastes through the calculation of a similarity score.&#160; In this example, we have two scoring algorithms, the <a href="http://en.wikipedia.org/wiki/Euclidean_distance">Euclidean distance</a> and <a href="http://en.wikipedia.org/wiki/Pearson_product-moment_correlation_coefficient">Pearson product-moment correlation coefficient</a>.&#160; </p>
<p>The first algorithm we’ll use is the Euclidean distance algorithm, which takes the items that people have ranked in common and uses them as axes on a chart.&#160; To calculate between two people on the chart, take the difference in each axis, square them and add them together, and finally take the square root of the sum.&#160; This function will always return values between 0 and 1, with 1 being identical and 0 having nothing in common.&#160; To accomplish this in F# might look something like the following:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #008000">//</span><span style="color: #008000"> Returns a distance-based similarity score for p1 and p2</span><span style="color: #008000">
</span><span style="color: #0000FF">let</span><span style="color: #000000"> sim_distance (prefs:Map</span><span style="color: #000000">&lt;</span><span style="color: #000000">string, Map</span><span style="color: #000000">&lt;</span><span style="color: #000000">string, float</span><span style="color: #000000">&gt;&gt;</span><span style="color: #000000">) p1 p2  </span><span style="color: #000000">=</span><span style="color: #000000">
  </span><span style="color: #008000">//</span><span style="color: #008000"> Get the list of shared items</span><span style="color: #008000">
</span><span style="color: #000000">  </span><span style="color: #0000FF">let</span><span style="color: #000000"> si </span><span style="color: #000000">=</span><span style="color: #000000"> Map.fold_right (</span><span style="color: #0000FF">fun</span><span style="color: #000000"> k _ acc </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">
                             </span><span style="color: #0000FF">if</span><span style="color: #000000"> prefs.[p2].ContainsKey k </span><span style="color: #0000FF">then</span><span style="color: #000000">
                               Set.add k acc
                             </span><span style="color: #0000FF">else</span><span style="color: #000000"> acc) prefs.[p1] Set.empty
  </span><span style="color: #008000">//</span><span style="color: #008000"> No ratings in common, return 0</span><span style="color: #008000">
</span><span style="color: #000000">  </span><span style="color: #0000FF">if</span><span style="color: #000000"> Set.is_empty si </span><span style="color: #0000FF">then</span><span style="color: #000000"> </span><span style="color: #800080">0</span><span style="color: #000000">.
  </span><span style="color: #0000FF">else</span><span style="color: #000000">
    </span><span style="color: #008000">//</span><span style="color: #008000"> Add up the squares of all the differences</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">let</span><span style="color: #000000"> sum_of_squares </span><span style="color: #000000">=</span><span style="color: #000000">
      List.sum [</span><span style="color: #0000FF">for</span><span style="color: #000000"> item </span><span style="color: #0000FF">in</span><span style="color: #000000"> si </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">
                  pown (prefs.[p1].[item] </span><span style="color: #000000">-</span><span style="color: #000000"> prefs.[p2].[item]) </span><span style="color: #800080">2</span><span style="color: #000000">]
    </span><span style="color: #800080">1</span><span style="color: #000000">. </span><span style="color: #000000">/</span><span style="color: #000000"> (</span><span style="color: #800080">1</span><span style="color: #000000">. </span><span style="color: #000000">+</span><span style="color: #000000"> sqrt sum_of_squares) </span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>We first capture the similarity by performing a right fold over the first person’s preferences and if the second person has the key, we add to our collection, else we return the accumulator in a Set.&#160; After determining that there are ratings in common, we then calculate the sum of the squares of the differences between the first and second person.&#160; And then finally return 1 over the 1 + the square root of our sum of squares.</p>
<p>Note that we could have instead of using List.sum with a list comprehension, we could have also used a left fold which would accomplish the same goal.&#160; The left fold approach is more efficient as it doesn’t create a second list, but obviously the list comprehension is much easier to read.&#160; We could have implemented it as the following:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #0000FF">let</span><span style="color: #000000"> sum_of_squares</span><span style="color: #800000">'</span><span style="color: #800000"> =</span><span style="color: #800000">
</span><span style="color: #000000">  Map.fold_left (</span><span style="color: #0000FF">fun</span><span style="color: #000000"> acc k _ </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000"> acc </span><span style="color: #000000">+</span><span style="color: #000000">
                                (pown (prefs.[p1].[k] </span><span style="color: #000000">-</span><span style="color: #000000"> prefs.[p2].[k]) </span><span style="color: #800080">2</span><span style="color: #000000">))</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Let’s now calculate the similarity between Mick LaSalle and Jack Matthews ratings by the following in F# interactive:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">&gt;</span><span style="color: #000000"> sim_distance critics </span><span style="color: #800000">"</span><span style="color: #800000">Mick LaSalle</span><span style="color: #800000">"</span><span style="color: #000000"> </span><span style="color: #800000">"</span><span style="color: #800000">Jack Matthews</span><span style="color: #800000">"</span><span style="color: #000000">;;
val it : float </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #800080">0.2857142857</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>We can observe from the results that Mick and Jack’s preferences aren’t that similar at all.&#160; But, let’s try another, more sophisticated approach with the Pearson product-moment correlation coefficient.&#160; This correlation coefficient measures how well our two sets of data fit into a straight line.&#160; This is more sophisticated than the previous because it can give better results when the data isn’t normalized.&#160; </p>
<p>In order to calculate this, we first find the movies rated by both critics, then calculates the sum, then the sum of the squares, and then the sum of the products of their ratings.&#160; Finally, we apply the Pearson formula which is better explained in code as shown below in F#:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #008000">//</span><span style="color: #008000"> Returns the Pearson correlation coefficient for p1 and p2</span><span style="color: #008000">
</span><span style="color: #0000FF">let</span><span style="color: #000000"> sim_pearson (prefs:Map</span><span style="color: #000000">&lt;</span><span style="color: #000000">string, Map</span><span style="color: #000000">&lt;</span><span style="color: #000000">string, float</span><span style="color: #000000">&gt;&gt;</span><span style="color: #000000">) p1 p2 </span><span style="color: #000000">=</span><span style="color: #000000">
  </span><span style="color: #008000">//</span><span style="color: #008000"> Get the list of mutually rated items</span><span style="color: #008000">
</span><span style="color: #000000">  </span><span style="color: #0000FF">let</span><span style="color: #000000"> si </span><span style="color: #000000">=</span><span style="color: #000000"> Map.fold_right (</span><span style="color: #0000FF">fun</span><span style="color: #000000"> k _ acc </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">
                             </span><span style="color: #0000FF">if</span><span style="color: #000000"> prefs.[p2].ContainsKey k </span><span style="color: #0000FF">then</span><span style="color: #000000">
                               Set.add k acc
                             </span><span style="color: #0000FF">else</span><span style="color: #000000"> acc) prefs.[p1] Set.empty

  </span><span style="color: #008000">//</span><span style="color: #008000"> if they are no ratings in common, return 0</span><span style="color: #008000">
</span><span style="color: #000000">  </span><span style="color: #0000FF">let</span><span style="color: #000000"> n </span><span style="color: #000000">=</span><span style="color: #000000"> float si.Count
  </span><span style="color: #0000FF">if</span><span style="color: #000000"> n </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #800080">0</span><span style="color: #000000">. </span><span style="color: #0000FF">then</span><span style="color: #000000"> </span><span style="color: #800080">0</span><span style="color: #000000">.
  </span><span style="color: #0000FF">else</span><span style="color: #000000">
    </span><span style="color: #008000">//</span><span style="color: #008000"> Sums of all the preferences</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">let</span><span style="color: #000000"> sum1 </span><span style="color: #000000">=</span><span style="color: #000000">  List.sum [</span><span style="color: #0000FF">for</span><span style="color: #000000"> it </span><span style="color: #0000FF">in</span><span style="color: #000000"> si </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000"> prefs.[p1].[it]]
    </span><span style="color: #0000FF">let</span><span style="color: #000000"> sum2 </span><span style="color: #000000">=</span><span style="color: #000000">  List.sum [</span><span style="color: #0000FF">for</span><span style="color: #000000"> it </span><span style="color: #0000FF">in</span><span style="color: #000000"> si </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000"> prefs.[p2].[it]]    

    </span><span style="color: #008000">//</span><span style="color: #008000"> Sums of the squares</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">let</span><span style="color: #000000"> sum1Sq </span><span style="color: #000000">=</span><span style="color: #000000"> List.sum [</span><span style="color: #0000FF">for</span><span style="color: #000000"> it </span><span style="color: #0000FF">in</span><span style="color: #000000"> si </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000"> pown prefs.[p1].[it] </span><span style="color: #800080">2</span><span style="color: #000000">]
    </span><span style="color: #0000FF">let</span><span style="color: #000000"> sum2Sq </span><span style="color: #000000">=</span><span style="color: #000000"> List.sum [</span><span style="color: #0000FF">for</span><span style="color: #000000"> it </span><span style="color: #0000FF">in</span><span style="color: #000000"> si </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000"> pown prefs.[p2].[it] </span><span style="color: #800080">2</span><span style="color: #000000">]  

    </span><span style="color: #008000">//</span><span style="color: #008000"> Sum of the products</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">let</span><span style="color: #000000"> pSum </span><span style="color: #000000">=</span><span style="color: #000000"> List.sum [</span><span style="color: #0000FF">for</span><span style="color: #000000"> it </span><span style="color: #0000FF">in</span><span style="color: #000000"> si </span><span style="color: #0000FF">-&gt;</span><span style="color: #000000"> prefs.[p1].[it] </span><span style="color: #000000">*</span><span style="color: #000000"> prefs.[p2].[it]]

    </span><span style="color: #008000">//</span><span style="color: #008000"> Calculate r (Pearson score)</span><span style="color: #008000">
</span><span style="color: #000000">    </span><span style="color: #0000FF">let</span><span style="color: #000000"> num </span><span style="color: #000000">=</span><span style="color: #000000"> pSum </span><span style="color: #000000">-</span><span style="color: #000000"> (sum1 </span><span style="color: #000000">*</span><span style="color: #000000"> sum2 </span><span style="color: #000000">/</span><span style="color: #000000"> n)
    </span><span style="color: #0000FF">let</span><span style="color: #000000"> den </span><span style="color: #000000">=</span><span style="color: #000000"> sqrt ((sum1Sq </span><span style="color: #000000">-</span><span style="color: #000000"> (pown sum1 </span><span style="color: #800080">2</span><span style="color: #000000">) </span><span style="color: #000000">/</span><span style="color: #000000"> n) </span><span style="color: #000000">*</span><span style="color: #000000">
                    (sum2Sq </span><span style="color: #000000">-</span><span style="color: #000000"> (pown sum2 </span><span style="color: #800080">2</span><span style="color: #000000">) </span><span style="color: #000000">/</span><span style="color: #000000"> n ))
    </span><span style="color: #0000FF">if</span><span style="color: #000000"> den </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #800080">0</span><span style="color: #000000">. </span><span style="color: #0000FF">then</span><span style="color: #000000"> </span><span style="color: #800080">0</span><span style="color: #000000">.
    </span><span style="color: #0000FF">else</span><span style="color: #000000">
      num </span><span style="color: #000000">/</span><span style="color: #000000"> den</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>This function, unlike the Euclidean distance, will return between –1 and 1 with 1 meaning they have identical matches.&#160; We can now calculate much as we did above for the sim_distance function as below:</p>
<div style="padding-bottom: 0px;margin: 0px;padding-left: 0px;padding-right: 0px;float: none;padding-top: 0px" class="wlWriterEditableSmartContent">
<pre style="background-color:#FFFFFF;overflow: auto"><span style="color: #000000">&gt;</span><span style="color: #000000"> sim_pearson critics </span><span style="color: #800000">"</span><span style="color: #800000">Mick LaSalle</span><span style="color: #800000">"</span><span style="color: #000000"> </span><span style="color: #800000">"</span><span style="color: #800000">Jack Matthews</span><span style="color: #800000">"</span><span style="color: #000000">;;
val it : float </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #800080">0.2112885637</span></pre>
<p><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>As you notice, there’s a bit of a difference between the two, but yet there are more algorithms out there that we can use for this.&#160; But, I think this is a good stopping point for now, and we can pick up later on how to rank the critics as well as make recommendations all using our above formulas.</p>
<h2>Conclusion</h2>
<p>The field of machine learning and Collective Intelligence is a pretty interesting field.&#160; By applying functional programming constructs to these, we are able to concisely apply formulas using higher order functions and immutable data structures.&#160; You’ll note that no for loops, explicit recursion or mutable data structures were harmed during this blog post.&#160; This example as translated from the Programming Collective Intelligence book gives us a great example of applied functional programming and F# in turn.</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/matthewpodwysocki/category/f/" title="View all posts in F#" rel="category tag">F#</a>, <a href="http://codebetter.com/matthewpodwysocki/category/functional-programming/" title="View all posts in Functional Programming" rel="category tag">Functional Programming</a>, <a href="http://codebetter.com/matthewpodwysocki/category/haskell/" title="View all posts in Haskell" rel="category tag">Haskell</a>. Bookmark the <a href="http://codebetter.com/matthewpodwysocki/2009/03/30/functional-programming-and-collective-intelligence/" title="Permalink to Functional Programming and Collective Intelligence" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/matthewpodwysocki/2009/03/30/functional-programming-and-collective-intelligence/feed/" title="Comments RSS to Functional Programming and Collective Intelligence" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-123 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/matthewpodwysocki/2009/03/25/talking-functional-programming-with-erik-meijer/" rel="prev"><span class="meta-nav">&larr;</span> Talking Functional Programming with Erik Meijer</a></div>
					<div class="nav-next"><a href="http://codebetter.com/matthewpodwysocki/2009/04/01/functional-programming-and-collective-intelligence-ii/" rel="next">Functional Programming and Collective Intelligence &#8211; II <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-308">
					<div id="dsq-comment-header-308" class="dsq-comment-header">
						<cite id="dsq-cite-308">
								<span id="dsq-author-user-308">Tony</span>
							</cite>
					</div>
					<div id="dsq-comment-body-308" class="dsq-comment-body">
						<div id="dsq-comment-message-308" class="dsq-comment-message"><p>Any way you can post the all the source code?</p>
<p>Thanks,<br />
Tony</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-309">
					<div id="dsq-comment-header-309" class="dsq-comment-header">
						<cite id="dsq-cite-309">
	http://codebetter.com/members/Matthew.Podwysocki/default.aspx							<span id="dsq-author-user-309">Matthew.Podwysocki</span>
							</cite>
					</div>
					<div id="dsq-comment-body-309" class="dsq-comment-body">
						<div id="dsq-comment-message-309" class="dsq-comment-message"><p>@Tony,</p>
<p>Yes, that is the intention as I get GitHub stood up.</p>
<p>Matt</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-310">
					<div id="dsq-comment-header-310" class="dsq-comment-header">
						<cite id="dsq-cite-310">
	http://www.jamisonwhite.com							<span id="dsq-author-user-310">Jamison White</span>
							</cite>
					</div>
					<div id="dsq-comment-body-310" class="dsq-comment-body">
						<div id="dsq-comment-message-310" class="dsq-comment-message"><p>I am implementing these in VB and LINQ. Do you think F# will get better performance?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-311">
					<div id="dsq-comment-header-311" class="dsq-comment-header">
						<cite id="dsq-cite-311">
	http://codebetter.com/members/Matthew.Podwysocki/default.aspx							<span id="dsq-author-user-311">Matthew.Podwysocki</span>
							</cite>
					</div>
					<div id="dsq-comment-body-311" class="dsq-comment-body">
						<div id="dsq-comment-message-311" class="dsq-comment-message"><p>@Jamison,</p>
<p>Not necessarily better performance, but I will get more concise code using F# than VB and that&#8217;s where it counts.</p>
<p>Matt</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/matthewpodwysocki/2009/03/30/functional-programming-and-collective-intelligence/ ';
	var disqus_identifier = '123 /blogs/matthew.podwysocki/archive/2009/03/30/functional-programming-and-collective-intelligence.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'matthewpodwysocki';
	var disqus_title = "Functional Programming and Collective Intelligence";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=123');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/matthewpodwysocki/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/matthewpodwysocki\/2009\/03\/30\/functional-programming-and-collective-intelligence\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.267 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-26 18:50:34 -->
<!-- super cache -->