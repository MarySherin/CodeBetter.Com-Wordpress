<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>High Test Coverage Ratio is a good thing, Anyway! | Patrick Smacchia</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/patricksmacchia/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/patricksmacchia/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/patricksmacchia/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/patricksmacchia/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/patricksmacchia/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Patrick Smacchia' href='http://codebetter.com/patricksmacchia/' />
<link rel='start' title='Benefit from the C# and VB.NET compilers perf' href='http://codebetter.com/patricksmacchia/2007/06/20/benefit-from-the-c-and-vb-net-compilers-perf/' />
<link rel='prev' title='Analyze and explore the evolution of .NET Framework by yourself' href='http://codebetter.com/patricksmacchia/2009/06/01/analyze-and-explore-the-evolution-of-net-framework-by-yourself/' />
<link rel='next' title='I love 100% coverage!' href='http://codebetter.com/patricksmacchia/2009/06/13/i-love-100-coverage/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/patricksmacchia/2009/06/07/high-test-coverage-ratio-is-a-good-thing-anyway/' />
<link rel='shortlink' href='http://codebetter.com/patricksmacchia/?p=121' />
<link rel="stylesheet" href="http://codebetter.com/patricksmacchia/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/codebetter/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/patricksmacchia/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-121" class="post-121 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">High Test Coverage Ratio is a good thing, Anyway!</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/patricksmacchia/author/patricksmacchia/" title="View all posts by patricksmacchia">patricksmacchia</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/patricksmacchia/2009/06/07/high-test-coverage-ratio-is-a-good-thing-anyway/" title="8:55 am" rel="bookmark"><span class="entry-date">June 7, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/patricksmacchia/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/patricksmacchia/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/patricksmacchia/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p><!--[if gte mso 9]&gt;--></p>
<p><!--[if gte mso 9]&gt;--></p>
<p>  Normal<br />
  0</p>
<p>  21</p>
<p>  false<br />
  false<br />
  false</p>
<p>  FR<br />
  X-NONE<br />
  X-NONE</p>
<p><!--[if gte mso 9]&gt;--></p>
<p><!--[if gte mso 10]&gt;--></p>
<p><!--[endif]-->
</p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">I heard several times that<br />
high test coverage ratio, and ultimately <b>100%<br />
test coverage, is an illusion of quality</b>. The underlying reason is that <b>when <i>a<br />
portion of code is executed by tests</i>, it doesn&rsquo;t mean that <i>the validity of the results produced by this<br />
portion of code is verified by tests</i></b>. In other words, some code can be<br />
covered by tests and still contains bugs.</span></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">I totally agree with this<br />
assertion. However, I don&rsquo;t agree when one claims that high test coverage ratio<br />
is an illusion of quality. I can see several major benefits resulting from high<br />
test coverage ratio.</span></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 0cm 0cm 10pt"><b><span style="font-size: 16pt" lang="EN-US">Contract + High Test Coverage Ratio =<br />
Correctness checked anyway</span></b></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">If you apply correctly <a target="_blank" href="http://en.wikipedia.org/wiki/Design_by_contract"><i>Design by Contract</i> (<i>DbC</i>)</a></span><span lang="EN-US"> high test coverage pays off. DbC<br />
means that your code contains side-effect free code whose only purpose is to<br />
check the states correctness at runtime as often as possible. If the state correctness<br />
is violated, a contract fails abruptly. To implement the DbC principle, we (the team working on <a target="_blank" href="http://www.NDepend.com">NDepend</a>) used<br />
so far my good old friend <a target="_blank" href="http://msdn.microsoft.com/en-us/library/system.diagnostics.debug.assert.aspx">System.Diagnostics.Debug.Assert(&hellip;)</a></span><a href="http://msdn.microsoft.com/en-us/library/system.diagnostics.debug.assert.aspx"><span lang="EN-US"></span></a><span lang="EN-US"> and we are in the process of<br />
switching to the <a target="_blank" href="http://blogs.msdn.com/somasegar/archive/2009/02/23/devlabs-code-contracts-for-net.aspx">System.Contract API</a></span><a href="http://blogs.msdn.com/somasegar/archive/2009/02/23/devlabs-code-contracts-for-net.aspx"><span lang="EN-US"></span></a><span lang="EN-US">. </span></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">The trick is that if<br />
contract validity verifications are performed during tests execution, then<br />
tests are failing when a contract is broken. And the higher the test coverage<br />
ratio, the more contracts are verified at test-time. By extension, one can<br />
actually consider test code dedicated to verification (I mean lines in your<br />
test like <i>Assert.IsTrue(&hellip;)</i>) as<br />
contracts residing outside the code itself. Also, on NDepend development, we<br />
observe that regression bugs are discovered much more often thanks to broken contracts,<br />
than thanks to broken test. It is because contracts actually <i>live</i> in the code, they are much more<br />
close to what code is doing than test themselves. Also contracts are more often<br />
verified than tests (imagine a contract in a loop vs. a test verification<br />
outside the loop).</span></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">One technical detail is<br />
that <a target="_blank" href="http://www.testdriven.net/">TestDriven.NET</a></span><a href="http://www.testdriven.net/"><span lang="EN-US"></span></a><span lang="EN-US"> discards <i>Debug.Assert(&hellip;)</i> failure windows by default and I explain here</span><a href="/controlpanel/blogs/patricksmacchia/archive/2007/10/10/unit-test-vs-debug-assert.aspx"><span lang="EN-US"></span></a><span lang="EN-US"> how to activate this behavior<br />
(thanks to <a target="_blank" href="http://weblogs.asp.net/nunitaddin/">Jamie Cansdale</a></span><a href="http://weblogs.asp.net/nunitaddin/"><span lang="EN-US"></span></a><span lang="EN-US"> for the tip).</span></p>
<p style="margin: 0cm 0cm 10pt"><b><span style="font-size: 16pt" lang="EN-US">&nbsp;</span></b></p>
<p style="margin: 0cm 0cm 10pt"><b><span style="font-size: 16pt" lang="EN-US">Bug discovered in covered code = Easier fix</span></b></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">When a bug is discovered<br />
in a portion of code, fixing it is easier if the potion of code is already<br />
covered by tests. Indeed, if the buggy code is already covered by at least one<br />
test, often one just needs to copy/paste this test and tweak its input to<br />
reproduce the conditions where the bug appear. This extra test is then useful<br />
both for:</span></p>
<ul>
<li><span lang="EN-US">Reproducing the bug at<br />
whim, to understand its conditions and fix it</span><span lang="EN-US"></span></li>
<li><span lang="EN-US">Keeping verification that<br />
in the future will check that the bug won&rsquo;t re-appear. </span></li>
</ul>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">Having high test coverage<br />
ratio increases the chance that most of the bug reside actually in code<br />
covered. Ultimately, 100% test coverage means that if the code contains some<br />
bugs, they are necessarily covered anyway by some tests.</span></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 0cm 0cm 10pt"><b><span style="font-size: 16pt" lang="EN-US">High coverage leads to relevant investigation</span></b></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">Numerous times, while <i>climbing the full coverage mountain</i>, I<br />
stumbled on dead code or better said dead condition. Imagine that in the code<br />
below, despite plenty of tests the <i>return</i><br />
statement is never covered, meaning that <i>obj</i><br />
is never <i>InAParticularState</i>.</p>
<pre>If(obj.IsInAParticularState) { return; }</pre>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">It is a good hint to<br />
investigate. Very often in such situation, the investigation will lead to the<br />
fact that for some reasons, <i>obj</i><br />
cannot be <i>InAParticularState </i>at that<br />
point. The best thing to do is then to turn the test condition into a contract.<br />
This contract asserts that <i>obj</i> cannot<br />
indeed be <i>InAParticularState</i>.</span></p>
<pre>Debug.Assert(!obj.IsInAParticularState, &ldquo;document the reason why object cannot be InAParticularState here&rdquo;);</pre>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">As a result:</span></p>
<p></span></p>
<ul>
<li><span lang="EN-US">
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">you eliminated dead code,<br />
</span></p>
<p></span></li>
<li><span lang="EN-US">
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">the contract is covered<br />
by tests (and then verified at test time), </span></p>
<p></span></li>
<li><span lang="EN-US">
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">the contract constitutes<br />
a documentation for future developers for something that was not obvious at<br />
first glance and that required investigations.</span></p>
<p></span></li>
</ul>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US"></p>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><b><span style="font-size: 16pt" lang="EN-US">100% Test Coverage protects from Coverage<br />
Erosion</span></b></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">100% coverage ratio doesn&rsquo;t<br />
happen by chance. Writing a few tests can often cover up to 80% of the tested<br />
code. However developers often have to struggle hard to reach the 100% coverage<br />
goal. By struggling hard, I mean that developers need to write non-trivial tests<br />
to cover non-mainstream scenarios. The 80/20 rule regularly applies here: these<br />
extra 20% of code to cover can require up to 80% of the time spent in writing<br />
tests. So when a class or a namespace is 100% covered it means one thing:<br />
developers worked hard to reach this 100% value.</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">100% coverage then<br />
becomes a requirement for future evolutions and refactoring: because the code<br />
refactored is originally 100% covered, one has to make sure that the new<br />
version of the code is also 100% covered. In other words, when code is 100%<br />
covered it is easier to prevent what I usually name <b>coverage erosion</b>. The phenomenon of coverage erosion happens when<br />
code gets refactored with poor care for writing new tests. Unfortunately, in<br />
real-world development shop where turn-over and urgent evolutions are the<br />
rules, coverage erosion is often a reality. It is what Jeff Atwood presented as<br />
<a target="_blank" href="http://www.codinghorror.com/blog/archives/000326.html">The theory of the broken window</a></span><a href="http://www.codinghorror.com/blog/archives/000326.html"><span lang="EN-US"></span></a><span lang="EN-US">. Basically </span></p>
<p></span></p>
<ul>
<li><span lang="EN-US">
<p style="margin: 1pt 0cm"><span lang="EN-US">if one develops in a<br />
clean environment, then one will struggle to keep the environment clean and<br />
avoid erosion. </span></p>
<p></span></li>
<li><span lang="EN-US">
<p style="margin: 1pt 0cm"><span lang="EN-US">if one develops in a<br />
dirty environment, then one won&rsquo;t even try to make the environment cleaner and the<br />
overall entropy will increase.</span></p>
<p></span></li>
</ul>
<p style="margin: 0cm 0cm 10pt"><span lang="EN-US"><br />
</span></p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/patricksmacchia/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/patricksmacchia/2009/06/07/high-test-coverage-ratio-is-a-good-thing-anyway/" title="Permalink to High Test Coverage Ratio is a good thing, Anyway!" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/patricksmacchia/2009/06/07/high-test-coverage-ratio-is-a-good-thing-anyway/feed/" title="Comments RSS to High Test Coverage Ratio is a good thing, Anyway!" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-121 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/patricksmacchia/2009/06/01/analyze-and-explore-the-evolution-of-net-framework-by-yourself/" rel="prev"><span class="meta-nav">&larr;</span> Analyze and explore the evolution of .NET Framework by yourself</a></div>
					<div class="nav-next"><a href="http://codebetter.com/patricksmacchia/2009/06/13/i-love-100-coverage/" rel="next">I love 100% coverage! <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-711">
					<div id="dsq-comment-header-711" class="dsq-comment-header">
						<cite id="dsq-cite-711">
	http://www.tavaresstudios.com							<span id="dsq-author-user-711">Chris Tavares</span>
							</cite>
					</div>
					<div id="dsq-comment-body-711" class="dsq-comment-body">
						<div id="dsq-comment-message-711" class="dsq-comment-message"><p>Unfortunately, true 100% coverage is impossible the second you use a &#8220;yield return&#8221; statement. The underlying iterator classes generate extra methods to match the IEnumerable interface that&#8217;ll never be called.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-712">
					<div id="dsq-comment-header-712" class="dsq-comment-header">
						<cite id="dsq-cite-712">
	http://codebetter.com/members/Patrick-Smacchia/default.aspx							<span id="dsq-author-user-712">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-712" class="dsq-comment-body">
						<div id="dsq-comment-message-712" class="dsq-comment-message"><p>Chris, I am not a fan of &#8216;yield return&#8217; syntax, mainly because of underlying perf reasons. But I didn&#8217;t know this fact, I am very surprised. Do you have a clean example to submit? Are you using VS or NCover as a coverage technology?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-713">
					<div id="dsq-comment-header-713" class="dsq-comment-header">
						<cite id="dsq-cite-713">
	http://www.tavaresstudios.com							<span id="dsq-author-user-713">Chris Tavares</span>
							</cite>
					</div>
					<div id="dsq-comment-body-713" class="dsq-comment-body">
						<div id="dsq-comment-message-713" class="dsq-comment-message"><p>If &#8216;yield return&#8217; is the source of perf issues in my code, I&#8217;ll be pretty darn happy. <img src='http://codebetter.com/patricksmacchia/wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
<p>Just write anything that looks like this:</p>
<p>class Foo<br />
{<br />
    public IEnumerable<int> GetFoos()<br />
    {<br />
        yield return 1;<br />
        yield return 2;<br />
        yield return 42;<br />
    }<br />
}</p>
<p>Foo f = new Foo();<br />
foreach(int i in f.GetFoos())<br />
{<br />
    Console.WriteLine(i);<br />
}</p>
<p>And look at the all up coverage numbers. You&#8217;ll see that inner class the compiler generates for the yield statement has I think three methods on it at 0% coverage. I&#8217;ve seen this with both VS and NCover coverage.</p>
<p>The only way to get them covered would be to explicitly get the enumerator and call the methods on it, instead of just putting it in a foreach loop. But at that point, you&#8217;re just writing test code to get coverage, not testing anything that&#8217;ll actually be called.</int></p>
</div>
					</div>
				</li>
					<li id="dsq-comment-714">
					<div id="dsq-comment-header-714" class="dsq-comment-header">
						<cite id="dsq-cite-714">
	http://codebetter.com/members/Patrick-Smacchia/default.aspx							<span id="dsq-author-user-714">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-714" class="dsq-comment-body">
						<div id="dsq-comment-message-714" class="dsq-comment-message"><p>Chris, I just did the test with NCover v3 and get a nice 100% coverage. With Reflector or NCoverExplorer I can see indeed the method generated uncovered but the fact is that these methods doesn&#8217;t have any associated PDB symbols. And coverage tools only count coverage of PDB symbols, hence the 100% coverage number ontained.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-715">
					<div id="dsq-comment-header-715" class="dsq-comment-header">
						<cite id="dsq-cite-715">
	http://nuald.blogspot.com							<span id="dsq-author-user-715">Alexander Slesarev</span>
							</cite>
					</div>
					<div id="dsq-comment-body-715" class="dsq-comment-body">
						<div id="dsq-comment-message-715" class="dsq-comment-message"><p>I want to notice few other advantages of using full code coverage:<br />
 &#8211; useful for dynamic programming language projects or projects that use dynamic generation of code. Tests can check method&#8217;s argument types and help to avoid situation when parameters with incorrect types are passed to a method.<br />
- full code coverage can help with code analysis. For example, certain frameworks give warnings (like deprecated method call) only during runtime (like Qt, Gtk etc). We can catch all these warnings in the testing phase.<br />
- compatibility testing. For example, I can test my project in python2.4 and python2.6. Full code coverage give me guarantee that the project will work fine for the both environment.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-716">
					<div id="dsq-comment-header-716" class="dsq-comment-header">
						<cite id="dsq-cite-716">
	http://jack-fx.com							<span id="dsq-author-user-716">jack</span>
							</cite>
					</div>
					<div id="dsq-comment-body-716" class="dsq-comment-body">
						<div id="dsq-comment-message-716" class="dsq-comment-message"><p>I don&#8217;t like debug.assert, since it may result in some problem that only happens in release version.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-717">
					<div id="dsq-comment-header-717" class="dsq-comment-header">
						<cite id="dsq-cite-717">
	http://codebetter.com/members/Patrick-Smacchia/default.aspx							<span id="dsq-author-user-717">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-717" class="dsq-comment-body">
						<div id="dsq-comment-message-717" class="dsq-comment-message"><p>Alexander, good remarks indeed. The synthesis of what your said is that full code coverage can help handling &#8216;syntax/versionning&#8217; problems that cannot be handled by the compiler.</p>
<p>Jack, the idea of DbC is that verification are done by side-effect free code, meaning verification code don&#8217;t change any state, meaning whether contract verification are here or not the code behavior is exactly the same.</p>
<p>debug.assert MUST be used with this &#8216;side-effect free code&#8217; in mind. Your behavior delta between debug/release version is not due to debug.assert but the bad usage of it, something like:<br />
Debug.Assert(obj.ChangeState());</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-718">
					<div id="dsq-comment-header-718" class="dsq-comment-header">
						<cite id="dsq-cite-718">
								<span id="dsq-author-user-718">Tormod</span>
							</cite>
					</div>
					<div id="dsq-comment-body-718" class="dsq-comment-body">
						<div id="dsq-comment-message-718" class="dsq-comment-message"><p>The term &#8220;quality&#8221; is subjective. High test coverage is most certainly an assett, but it is still possible that the code does something that it shouldn&#8217;t or that it does not do something that it should.</p>
<p>There is always a chance that you&#8217;ve missed some bounds check or somesuch that will result in some edge case, or just that you haven&#8217;t tested write permissions on your mocked disk or some other exception that may arise.</p>
<p>100% test coverage will help you attack the problem when new bugs are discovered. You just need to add a new case add possibly add the new behaviour to your mocks to reproduce them. </p>
<p>When you code the 100% civered code base you will be playing for keeps. You will be checking in better code than you are checking out. You will be working incrementally. And in many books this is code quality.<br />
You can still have a lousy application.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-719">
					<div id="dsq-comment-header-719" class="dsq-comment-header">
						<cite id="dsq-cite-719">
	http://rafanoronha.net/							<span id="dsq-author-user-719">Rafael Noronha</span>
							</cite>
					</div>
					<div id="dsq-comment-body-719" class="dsq-comment-body">
						<div id="dsq-comment-message-719" class="dsq-comment-message"><p>Patrick,</p>
<p>I think when high test coverage becomes illusion, maybe there is a problem in the quality of the code or the quality of the tests.</p>
<p>In this case code coverage should not be the major issue.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-720">
					<div id="dsq-comment-header-720" class="dsq-comment-header">
						<cite id="dsq-cite-720">
	http://alexandregazola.wordpress.com							<span id="dsq-author-user-720">Alexandre Gazola</span>
							</cite>
					</div>
					<div id="dsq-comment-body-720" class="dsq-comment-body">
						<div id="dsq-comment-message-720" class="dsq-comment-message"><p>I think &#8216;good test coverage&#8217; is a good thing&#8230; though it&#8217;s important to assess the real &#8216;quality&#8217; of the written tests&#8230; but I do think they can be correlated.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-721">
					<div id="dsq-comment-header-721" class="dsq-comment-header">
						<cite id="dsq-cite-721">
	http://weblogs.asp.net/gunnarpeipman/							<span id="dsq-author-user-721">Gunnar</span>
							</cite>
					</div>
					<div id="dsq-comment-body-721" class="dsq-comment-body">
						<div id="dsq-comment-message-721" class="dsq-comment-message"><p>Nice to see Patrick you are also using code contratcs. I have special contracts page in my blob <a href="http://weblogs.asp.net/gunnarpeipman/pages/code-contracts.aspx" rel="nofollow">http://weblogs.asp.net/gunnarpeipman/pages/code-contracts.aspx</a> where you can find my postings, presentation and example solution. Dunno, may be you can find something useful to you.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-722">
					<div id="dsq-comment-header-722" class="dsq-comment-header">
						<cite id="dsq-cite-722">
	http://andriybuday.blogspot.com							<span id="dsq-author-user-722">Andriy Buday</span>
							</cite>
					</div>
					<div id="dsq-comment-body-722" class="dsq-comment-body">
						<div id="dsq-comment-message-722" class="dsq-comment-message"><p>Very interesting and USEFUL article. These days I&#8217;m doing refactoring of code covered well by UT, and it is very important to keep an eye on having new tests. Your article helps me understand this better. Thanks.</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/patricksmacchia/2009/06/07/high-test-coverage-ratio-is-a-good-thing-anyway/ ';
	var disqus_identifier = '121 /blogs/patricksmacchia/archive/2009/06/07/high-test-coverage-ratio-is-a-good-thing-anyway.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'codebetter';
	var disqus_title = "High Test Coverage Ratio is a good thing, Anyway!";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=121');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/patricksmacchia/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/patricksmacchia\/2009\/06\/07\/high-test-coverage-ratio-is-a-good-thing-anyway\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.304 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-27 10:31:51 -->
<!-- super cache -->