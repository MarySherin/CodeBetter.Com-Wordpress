<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Lessons learned from the NUnit code base | Patrick Smacchia</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/patricksmacchia/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/patricksmacchia/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/patricksmacchia/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/patricksmacchia/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/patricksmacchia/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Patrick Smacchia' href='http://codebetter.com/patricksmacchia/' />
<link rel='start' title='Benefit from the C# and VB.NET compilers perf' href='http://codebetter.com/patricksmacchia/2007/06/20/benefit-from-the-c-and-vb-net-compilers-perf/' />
<link rel='prev' title='Using NDepend on large project, a success story' href='http://codebetter.com/patricksmacchia/2009/01/04/using-ndepend-on-large-project-a-success-story/' />
<link rel='next' title='Mono vs. .NET Framework: Public API Compatibility' href='http://codebetter.com/patricksmacchia/2009/01/19/mono-vs-net-framework-public-api-compatibility/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/patricksmacchia/2009/01/11/lessons-learned-from-the-nunit-code-base/' />
<link rel='shortlink' href='http://codebetter.com/patricksmacchia/?p=95' />
<link rel="stylesheet" href="http://codebetter.com/patricksmacchia/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/codebetter/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/patricksmacchia/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-95" class="post-95 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Lessons learned from the NUnit code base</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/patricksmacchia/author/patricksmacchia/" title="View all posts by patricksmacchia">patricksmacchia</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/patricksmacchia/2009/01/11/lessons-learned-from-the-nunit-code-base/" title="11:25 am" rel="bookmark"><span class="entry-date">January 11, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/patricksmacchia/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/patricksmacchia/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/patricksmacchia/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>&nbsp;</p>
<p>&nbsp;</p>
<p style="margin: 1pt 0cm"><span lang="EN-US">I recently analyzed <a href="http://www.nunit.org/index.php" target="_blank">NUnit</a><br />
v2.4.8 with <a href="http://www.NDepend.com" target="_blank">NDepend</a>.<br />
The<br />
first impression is that developers behind NUnit know their job and did<br />
an<br />
excellent work. This positive feedback comes from many details, the<br />
fact that you can<br />
seamlessly open the VisualStudio solution and compile everything<br />
immediately, the amount of documentation, the high number of releases,<br />
the number<br />
of tests, the support for every version of .NET (and also non-MS ones),<br />
IDE independent<br />
code&#8230;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">In terms of <a href="http://www.ndepend.com/Metrics.aspx#NbLinesOfCode" target="_blank">Lines of Code</a>,<br />
NUnit is relatively small with 12 559 LoC (not including tests assemblies).<br />
To be compared to 70 681 LoC for <a href="http://www.NDepend.com" target="_blank">NDepend</a> v2.11,&nbsp;&nbsp;&nbsp;<br />
42&nbsp;092 LoC for <a href="http://www.paint.net/" target="_blank">Paint.NET</a> v3.22,&nbsp;&nbsp;&nbsp;<br />
36 143 LoC for <a href="http://www.hibernate.org/343.html" target="_blank">NHibernate </a>v2.0,&nbsp;&nbsp;&nbsp;<br />
29&nbsp;791 LoC for <a href="http://www.castleproject.org/" target="_blank">Castle</a> v2.0.3,&nbsp;&nbsp;&nbsp;<br />
474&nbsp;388 LoC for <a href="http://www.jetbrains.com/resharper/" target="_blank">Resharper</a> v4.1,&nbsp;&nbsp;&nbsp;<br />
and around 2M LoC for the entire .NET Fx 3.5 (including WPF, WCF&hellip;).</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US"><br /></span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span>
</p>
<p style="margin: 1pt 0cm"><b><span style="font-size: 16pt" lang="EN-US">Test Coverage of NUnit</span></b></p>
<p style="margin: 1pt 0cm">&nbsp;&nbsp;<br /><span lang="EN-US">In terms of code<br />
coverage, <a href="http://www.ncover.com/" target="_blank">NCover</a> says<br />
47% but some tests didn&rsquo;t pass while running with <a href="http://www.testdriven.net/" target="_blank">TestDriven.NET</a><span>ereHere </span>. Here is a<br />
NDepend snapshot of methods more than 90% covered </span>(<i>rectangles in blue represent methods that are at least 90% covered by tests</i>)<span lang="EN-US">. Without surprise, UI code is poorly<br />
covered.</span></p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;<img src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/patricksmacchia/NUnit/NUnitCoverage.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919992099&amp;Signature=MclCP1kI%2f7jOIpPWfF5aeThcyLs%3d" /><br />
</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><b><span style="font-size: 16pt" lang="EN-US">Assemblies of NUnit: How to compile them 3 times faster?</span></b></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">While looking at<br />
assemblies, an immediate remark comes to me: is there really a need for 19<br />
assemblies for these 13&nbsp;068 Lines of Code? </span></p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm"><img src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/patricksmacchia/NUnit/NUnitGraph.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919992099&amp;Signature=mwby5gZ1nFvUgH%2bQ1Yd4tIcPSVM%3d" /><a href="http://codebetter.com/blogs/patricksmacchia/NUnitAnalysis/NUnitGraphBig.JPG" target="_blank"><br /></a>&nbsp;</p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm"><span lang="EN-US">I wrote once about <a href="/blogs/patricksmacchia/archive/2008/12/08/advices-on-partitioning-code-through-net-assemblies.aspx" target="_blank">the benefits of having less but bigger assemblies</a></span><span lang="EN-US"></span><span lang="EN-US">.<br />
One of the reason was the compilation time and indeed, the 13K LoC of NUnit +<br />
4K Loc of test projects takes 32 seconds to compile </span><span lang="EN-US">(total of 29 projects)</span><span lang="EN-US">. In<br />
comparison the 70K LoC of NDepend are compiled in 11 seconds </span><span lang="EN-US">(total of 11 projects)</span><span lang="EN-US">.<br />
So how does such<br />
a gap can be explained? 2 reasons, first the high number of<br />
projects/assemblies and second, the use of the Copy Local project<br />
reference option:</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US"><img src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/patricksmacchia/NUnit/NUnitCopyLocal.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919992099&amp;Signature=UmIONX5pue4AobrRLBGueV7fuVI%3d" />&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><b><span lang="EN-US">The VisualStudio Project Reference + Copy Local true option is evil!</span></b><span lang="EN-US"> If you don&#8217;t believe me, go and check by yourself: because of this option the assembly<br />
<i>nunit.core.dll</i> is duplicated 21 times<br />
while compiling the NUnit solution with VisualStudio! It means that it has to<br />
be copied/loaded/parsed 21 times by the C# compiler that apparently doesn&rsquo;t come<br />
with a cache/hashCode optimization for such a case.</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US"><img src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/patricksmacchia/NUnit/NUnitCoreDuplication.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919992100&amp;Signature=LkLWZ8DV2UkBK9fvC4sPHUO2egI%3d" />&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">So I did the experiment of<br />
replacing projects references by assembly references. I also parametrized VisualStudio to output all assemblies in a<br />
single folder (menu <i>Project Properties<br />
&gt; Build &gt; Output path</i>). <b>The<br />
compilation times went from 32 seconds to 12 seconds</b>!</span>&nbsp;</p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">The second reason that<br />
explains slow compilation is the high number of project (19 project + 10 test<br />
projects). Clearly, if assemblies were merged into: few test assemblies, one GUI<br />
assembly, one console assembly and one framework assembly, the compilation duration<br />
could be decreased from 12 seconds to something like 3 seconds, a x10 factor compared to the<br />
initial 32 seconds. Then a tool such as <a href="http://www.NDepend.com" target="_blank">NDepend<br />
</a>could be used to guarantee that the structure of the code remain<br />
properly layered.<br />
And indeed, the code of NUnit is pretty well layered. This is the<br />
result of the initial decision to create plenty of assemblies. This can<br />
be shown by<br />
looking at NUnit namespaces through a dependency matrix, there are only<br />
2 small<br />
cycles:</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US"><img src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/patricksmacchia/NUnit/NUnitMatrix.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919992100&amp;Signature=LXxDD4nZTB5QBgtBtAsMDGrTdZ4%3d" />&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;</span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">This is a great news compare<br />
to the monolithic code structure of NHibernate for example, where all of the 62<br />
namespaces literally depend on all others 62 namespaces (as described <a href="/blogs/patricksmacchia/archive/2008/08/26/nhibernate-2-0-changes-overview.aspx" target="_blank">here).</a></span></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;<br />Another thing to notice<br />
is that this high number of assemblies forces NUnit consumer projects to reference<br />
several assemblies and also to deploy all of them, without really knowing if<br />
one is missing or not. It would be nice to just be able to reference <i>nunit.framework.dll</i> and be able to just<br />
copy/paste it at whim.</span></p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm"><b><span style="font-size: 16pt" lang="EN-US">Assemblies of NUnit: Insider view</span></b></p>
<p style="margin: 1pt 0cm">By contacting <a href="http://www.charliepoole.org/cp.php" target="_blank">Charlie Poole</a>,<br />
the lead developer of NUnit, to have its opinion before publishing the<br />
current post, I had the surprise that Charlie spontaneously confesses<br />
that reducing the number of assemblies is indeed part of their upcoming plans.<br />
This also come with some justification for each assembly, here are Charlie&#8217;s remarks:</p>
<ul>
<li>Two<br />
assemblies, nunit.exe and nunit-console.exe do nothing but call the<br />
main of the two runner dlls. This is a feature requested by folks who<br />
want to run NUnit out of their own exe.</li>
<li>The uikit assembly was made separate so that it could be used in alternative guis.</li>
<li>The<br />
mock and framework assemblies are both referenced by users. But not<br />
many users use our mock framework, so they need to be able to reference<br />
the one they want to use instead.</li>
<li>NUnit uses remoting, with<br />
some parts loaded in the test domain and others only in the primary<br />
domain. This impacts the minimum number of assemblies you want to have.<br />
Our split is currently between util and core, with core.interfaces<br />
pointing the way to a future split.</li>
<li>NUnit has multiple runners,<br />
some we write, some other people write. So engine that runs tests has<br />
to be separate for those users. </li>
</ul>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<p style="margin: 1pt 0cm"><b><span style="font-size: 16pt" lang="EN-US">NUnit Code Quality<br /></span></b></p>
<p style="margin: 1pt 0cm"><span lang="EN-US">T</span><span lang="EN-US">hrough the prism of classic metrics, the </span><span lang="EN-US">code quality is pretty neat: only <a href="/blogs/patricksmacchia/NUnitAnalysis/NUnitMethods.zip" target="_blank">62 methods<br />
on 3 233</a> slightly exceed classic thresholds </span><span lang="EN-US">(the report tells 4 388 methods because it includes tier code methods)</span><span lang="EN-US">:</span></p>
<p style="margin: 1pt 0cm">&nbsp;</p>
<pre style="background: #f6f6f6 none repeat scroll 0% 50%"><span style="color: #0000ff">WARN</span>&nbsp;<span style="color: #0000ff">IF</span>&nbsp;<span style="color: #000064">Count</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>0</b>&nbsp;<span style="color: #0000ff">IN</span>&nbsp;<span style="color: #0000ff">SELECT</span>&nbsp;<span style="color: #0000ff">METHODS</span>&nbsp;<span style="color: #0000ff">WHERE</span><span style="color: #000000">&nbsp;</span><span style="color: #000000">!</span><span style="color: #000064">NameIs</span>&nbsp;<span style="color: #a31515">"InitializeComponent()"</span>&nbsp;<span style="color: #0000ff">AND</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;Metrics'&nbsp;definitions</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">(</span><span style="color: #000000">&nbsp;&nbsp;</span><span style="color: #000064">NbLinesOfCode</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>30</b>&nbsp;<span style="color: #0000ff">OR</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;</span><span style="color: #008000"><a href="http://www.ndepend.com/Metrics.aspx#NbLinesOfCode" target="_blank">http://www.ndepend.com/Metrics.aspx#NbLinesOfCode</a></span><span style="color: #008000"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000064">NbILInstructions</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>200</b>&nbsp;<span style="color: #0000ff">OR</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;</span><span style="color: #008000"><a href="http://www.ndepend.com/Metrics.aspx#NbILInstructions" target="_blank">http://www.ndepend.com/Metrics.aspx#NbILInstructions</a></span><span style="color: #008000"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000064">CyclomaticComplexity</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>20</b>&nbsp;<span style="color: #0000ff">OR</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;</span><span style="color: #008000"><a href="http://www.ndepend.com/Metrics.aspx#CC" target="_blank">http://www.ndepend.com/Metrics.aspx#CC</a></span><span style="color: #008000"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000064">ILCyclomaticComplexity</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>50</b>&nbsp;<span style="color: #0000ff">OR</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;</span><span style="color: #008000"><a href="http://www.ndepend.com/Metrics.aspx#ILCC" target="_blank">http://www.ndepend.com/Metrics.aspx#ILCC</a></span><span style="color: #008000"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000064">ILNestingDepth</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>4</b>&nbsp;<span style="color: #0000ff">OR</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;</span><span style="color: #008000"><a href="http://www.ndepend.com/Metrics.aspx#ILNestingDepth" target="_blank">http://www.ndepend.com/Metrics.aspx#ILNestingDepth</a></span><span style="color: #008000"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000064">NbParameters</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>5</b>&nbsp;<span style="color: #0000ff">OR</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;</span><span style="color: #008000"><a href="http://www.ndepend.com/Metrics.aspx#NbParameters" target="_blank">http://www.ndepend.com/Metrics.aspx#NbParameters</a></span><span style="color: #008000"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000064">NbVariables</span>&nbsp;<span style="color: #000000">&gt;</span>&nbsp;<b>8</b><span style="color: #000000">&nbsp;&nbsp;</span><span style="color: #000000">)</span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000">//&nbsp;</span><span style="color: #008000"><a href="http://www.ndepend.com/Metrics.aspx#NbVariables" target="_blank">http://www.ndepend.com/Metrics.aspx#NbVariables</a></span><span style="color: #008000"></span><span style="color: #000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><b><span style="font-size: 16pt" lang="EN-US">NUnit Code Maintenance and Evolution</span></b> <br />Finally<br />
let&#8217;s also mention that the NUnit team is serious about maintenance and<br />
evolution: more than half of the code base has been refactored between<br />
v2.4.1 and v2.4.8. To read this metric view know that:</p>
<ul>
<li>Each rectangle represents a method</li>
<li>The surface of a rectangle is proportional to the number of Lines of Code of the method</li>
<li>Rectangles in blue are those matched by the <a href="http://www.ndepend.com/Features.aspx#CQL" target="_blank">CQL query</a> below. In this context rectangles in blue are methods that have been refactored or added between<br />
v2.4.1 and v2.4.8.</li>
</ul>
<p style="margin: 1pt 0cm"><span lang="EN-US">&nbsp;<img src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/patricksmacchia/NUnit/NUnitChanges.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919992100&amp;Signature=2z7wVjd%2f5aHhgtAeQOXWLedcRTo%3d" /></span></p>
<p>&nbsp;</p>
<p class="MsoNormal"><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;font-family: 'Courier New';color: green"></span><span style="font-size: 10pt;font-family: 'Courier New'"></span></p>
<p>&nbsp;</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/patricksmacchia/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/patricksmacchia/2009/01/11/lessons-learned-from-the-nunit-code-base/" title="Permalink to Lessons learned from the NUnit code base" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/patricksmacchia/2009/01/11/lessons-learned-from-the-nunit-code-base/feed/" title="Comments RSS to Lessons learned from the NUnit code base" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-95 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/patricksmacchia/2009/01/04/using-ndepend-on-large-project-a-success-story/" rel="prev"><span class="meta-nav">&larr;</span> Using NDepend on large project, a success story</a></div>
					<div class="nav-next"><a href="http://codebetter.com/patricksmacchia/2009/01/19/mono-vs-net-framework-public-api-compatibility/" rel="next">Mono vs. .NET Framework: Public API Compatibility <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-541">
					<div id="dsq-comment-header-541" class="dsq-comment-header">
						<cite id="dsq-cite-541">
	http://igorbrejc.net							<span id="dsq-author-user-541">Igor Brejc</span>
							</cite>
					</div>
					<div id="dsq-comment-body-541" class="dsq-comment-body">
						<div id="dsq-comment-message-541" class="dsq-comment-message"><p>>> So I did the experiment of replacing projects references by assembly references</p>
<p>Does that mean that both Debug and Release binaries are now built to the same directory?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-542">
					<div id="dsq-comment-header-542" class="dsq-comment-header">
						<cite id="dsq-cite-542">
	http://www.NDepend.com							<span id="dsq-author-user-542">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-542" class="dsq-comment-body">
						<div id="dsq-comment-message-542" class="dsq-comment-message"><p>Igor, no that doesn&#8217;t mean that. Actually Debug compiles to .\bin\Debug and Release to .\bin\Release</p>
<p>What it means however is that both Debug and Release compilations rely on assemblies in .\bin\Debug. This implies while working in release mode, you need to have your debug dir in-sync. </p>
<p>This is the way we are doing in our team and the experience shows that we spend 95% of our time working in Debug mode. Release is just use for smoke tests, and actually I should say, Release after obfuscation. Indeed, there is still a tiny chances that obfuscation introduces a problem (this happens once in 2 years and 30 releases because of a minor bug in Dotfuscator that has been fixed since).</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-543">
					<div id="dsq-comment-header-543" class="dsq-comment-header">
						<cite id="dsq-cite-543">
	http://igorbrejc.net							<span id="dsq-author-user-543">Igor Brejc</span>
							</cite>
					</div>
					<div id="dsq-comment-body-543" class="dsq-comment-body">
						<div id="dsq-comment-message-543" class="dsq-comment-message"><p>Patrick, I agree that 95% of the time developers work with Debug compilations (simply by compiling in VS or running tests inside VS in Debug mode). </p>
<p>>> This implies while working in release mode, you need to have your debug dir in-sync.<br />
OK, but how do you handle this on a build server? I guess you have Debug version compiled first and only then the Release?</p>
<p>I like some of the things in your approach, but I have to say I&#8217;m little worried about the maintainability implications of using assembly references instead of project ones and building to a single output dir. From my experience with solutions that used assembly references this had some hidden effects which often came back to haunt us.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-544">
					<div id="dsq-comment-header-544" class="dsq-comment-header">
						<cite id="dsq-cite-544">
	http://www.NDepend.com							<span id="dsq-author-user-544">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-544" class="dsq-comment-body">
						<div id="dsq-comment-message-544" class="dsq-comment-message"><p>>OK, but how do you handle this on a build server? I guess you have Debug version compiled first and only then the Release?</p>
<p>The problems that can happen all comes from not in-sync bins. It is one feature of NDepend reporting not in-sync issues (between src files PDB and assemblies)<br />
<a href="http://www.ndepend.com/Features.aspx#WarningsAndAdvices" rel="nofollow">http://www.ndepend.com/Features.aspx#WarningsAndAdvices</a></p>
<p>You can also have problems if you are using DEBUG conditional symbols but there should be no situations where some Debug APIs are not compatible with Release build. If so, then it is a flaw in the code.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-545">
					<div id="dsq-comment-header-545" class="dsq-comment-header">
						<cite id="dsq-cite-545">
								<span id="dsq-author-user-545">Brian</span>
							</cite>
					</div>
					<div id="dsq-comment-body-545" class="dsq-comment-body">
						<div id="dsq-comment-message-545" class="dsq-comment-message"><p>Excellent what you pointed out about a large number of assemblies.   It&#8217;s appalling how many times I&#8217;ve seen people digging themselves further down a rabbit hole by feeding into this over abstracted multi-assembly structure when not needed.</p>
<p>It&#8217;s a delicate balance between fighting coupling and over architecture.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-546">
					<div id="dsq-comment-header-546" class="dsq-comment-header">
						<cite id="dsq-cite-546">
	http://www.rasmuskl.dk							<span id="dsq-author-user-546">Rasmus Kromann-Larsen</span>
							</cite>
					</div>
					<div id="dsq-comment-body-546" class="dsq-comment-body">
						<div id="dsq-comment-message-546" class="dsq-comment-message"><p>Great post Patrick. </p>
<p>I really enjoy your case studies and the small hints like copy local that come out of them. I just recently downloaded another trial of NDepend (didn&#8217;t get time to play around with my last)&#8230; </p>
<p>I was thinking of doing a test run on my own app (for a resulting review blog post), attempting to levelize namespaces and break cycles, if only the trial had direct/indirect mode in the dependency matrix so I could actually find some cycles. But of course that is one of the incentives to buy the commercial product &#8211; I guess.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-547">
					<div id="dsq-comment-header-547" class="dsq-comment-header">
						<cite id="dsq-cite-547">
	http://brumlemann.blogspot.com							<span id="dsq-author-user-547">Martin Moe</span>
							</cite>
					</div>
					<div id="dsq-comment-body-547" class="dsq-comment-body">
						<div id="dsq-comment-message-547" class="dsq-comment-message"><p>Hi Patrick</p>
<p>Nice to see that we see eye-to-eye on the evilness of &#8220;Copy Local&#8221; (I actually have a little comment on it on my blog too).</p>
<p>I am not so sure that assembly reference replacing project reference is always a good thing though. I don&#8217;t think the assemly level dependencies will be observed this way.</p>
<p>One must also remember that there is a known bug in MSBuild (see my blog for more) when it comes to building the clean target of a VS solution (MSBuild cleans .sln projects in the same order as it builds them and not, which would be correct, in the opposite order). Having assembly direct references definitely will not improve on this VS &#8220;feature&#8221; I think.</p>
<p>Martin Moe</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-548">
					<div id="dsq-comment-header-548" class="dsq-comment-header">
						<cite id="dsq-cite-548">
	http://brumlemann.blogspot.com							<span id="dsq-author-user-548">Martin Moe</span>
							</cite>
					</div>
					<div id="dsq-comment-body-548" class="dsq-comment-body">
						<div id="dsq-comment-message-548" class="dsq-comment-message"><p>Yep. Just confirmed in my BuildDependencies Mcikey Mouse solution (made it as a proof of concept for the abovementioned MSBuild bug) that going from project dependencies to assemblies dependencies left me stranded in the middle. Can&#8217;t clean it and then can&#8217;t build it.</p>
<p>Am I missing something here Patrick?</p>
<p>You say &#8220;So I did the experiment of replacing projects references by assembly references&#8221;. It&#8217;s been a dream of mine for a long time to do this since then I can have much more freedom in setting up VS solutions on top of our projects (and you know why <img src='http://codebetter.com/patricksmacchia/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> ).</p>
<p>But how can that work?!</p>
<p>To my knowledge, and as I got confirmed now in my little test, VS does not observe the leveling unless you have project references. So you end up with missing references as soon as you start cleaning your solution (unless you&#8217;re lucky with the naming and happen to have your levels layed out according to the sort order of the names of the VS Projects).</p>
<p>Martin Moe</p>
<p>PS Forgot to mention. Nice article, as always <img src='http://codebetter.com/patricksmacchia/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' />  Just this little thing nagging me.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-549">
					<div id="dsq-comment-header-549" class="dsq-comment-header">
						<cite id="dsq-cite-549">
	http://www.NDepend.com							<span id="dsq-author-user-549">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-549" class="dsq-comment-body">
						<div id="dsq-comment-message-549" class="dsq-comment-message"><p>>To my knowledge, and as I got confirmed now in my<br />
>little test, VS does not observe the leveling unless you<br />
>have project references. </p>
<p>This is where the option:<br />
Solution Explorer ><br />
Right click Solution item ><br />
Project Dependencies</p>
<p>comes into play <img src='http://codebetter.com/patricksmacchia/wp-includes/images/smilies/icon_surprised.gif' alt=':o' class='wp-smiley' /> )</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-550">
					<div id="dsq-comment-header-550" class="dsq-comment-header">
						<cite id="dsq-cite-550">
	http://www.4444444444444444409hcvw0wvhm9p8hemc.com							<span id="dsq-author-user-550">Preved</span>
							</cite>
					</div>
					<div id="dsq-comment-body-550" class="dsq-comment-body">
						<div id="dsq-comment-message-550" class="dsq-comment-message"><p>Awesome collection! <a href="http://111111111tv0m0vttqay-7vt-vt0-mqva.com" rel="nofollow">http://111111111tv0m0vttqay-7vt-vt0-mqva.com</a> ocpaxps <a href="http://22222222qvttv3y9tv9qv9qv38cvm9u.com/">222222</a> [url=http://33333333333333333sfgwet.com]333333[/url]You straightened up!</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/patricksmacchia/2009/01/11/lessons-learned-from-the-nunit-code-base/ ';
	var disqus_identifier = '95 /blogs/patricksmacchia/archive/2009/01/11/lessons-learned-from-the-nunit-code-base.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'codebetter';
	var disqus_title = "Lessons learned from the NUnit code base";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=95');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/patricksmacchia/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/patricksmacchia\/2009\/01\/11\/lessons-learned-from-the-nunit-code-base\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.459 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-27 13:24:41 -->
<!-- super cache -->