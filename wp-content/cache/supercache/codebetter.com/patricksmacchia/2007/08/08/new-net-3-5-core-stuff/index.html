<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>New .NET 3.5 core stuff | Patrick Smacchia</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/patricksmacchia/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://cdn1.codebetter.com/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/patricksmacchia/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Patrick Smacchia' href='http://codebetter.com/patricksmacchia/' />
<link rel='start' title='Benefit from the C# and VB.NET compilers perf' href='http://codebetter.com/patricksmacchia/2007/06/20/benefit-from-the-c-and-vb-net-compilers-perf/' />
<link rel='prev' title='I want non-nullable types in C#4' href='http://codebetter.com/patricksmacchia/2007/07/25/i-want-non-nullable-types-in-c-4/' />
<link rel='next' title='UI matters: Menus and ToolBars vs. Office 2007 Ribbons' href='http://codebetter.com/patricksmacchia/2007/08/12/ui-matters-menus-and-toolbars-vs-office-2007-ribbons/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/patricksmacchia/2007/08/08/new-net-3-5-core-stuff/' />
<link rel='shortlink' href='http://codebetter.com/patricksmacchia/?p=10' />
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/codebetter/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-10" class="post-10 post type-post status-publish format-standard hentry category-featured">
					<h1 class="entry-title">New .NET 3.5 core stuff</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/patricksmacchia/author/patricksmacchia/" title="View all posts by patricksmacchia">patricksmacchia</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/patricksmacchia/2007/08/08/new-net-3-5-core-stuff/" title="6:06 pm" rel="bookmark"><span class="entry-date">August 8, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/patricksmacchia/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/patricksmacchia/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p class="MsoNormal"><span lang="EN-US">While<br />
installing <span style="font-style: italic">VisualStudio 2008 Beta2</span> I was surprised that the <span style="font-style: italic">NET framework 2.0 </span>installation<br />
got automatically updated. My good old copies of <i>mscorlib.dll v2.0.50727.42</i> and friends<br />
got updated to <i>v2.0.50727.1378</i>. I expected to saw a new <i>C:\WINDOWS\Microsoft.NET\Framework\v3.5.xxx</i><br />
folder but instead I had to search in <i>C:\Program Files\Reference<br />
Assemblies\Microsoft\Framework\v3.5</i> to see new assemblies. I’ve been especially<br />
interested by the new <i>System.Core.dll </i>assembly that contains most of new stuff<br />
that should have been put in mscorlib.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">When creating<br />
a new project with <span style="font-style: italic">VisualStudio 2008 Beta2</span>, <i>System.Core.dll</i> is automatically<br />
referenced. It seems that <i>System.Core.dll </i>has been created to avoid touching <i>mscorlib.dll</i><br />
and <i>System.dll</i> code. This is a consequence of the<a href="http://blogs.msdn.com/somasegar/archive/2006/05/18/601354.aspx" target="_blank">.NET framework compatibility<br />
policy</a>.</span><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">However<br />
mscorlib has been updated and by curiosity I compared mscorlib v2.0.50727.0 and v2.0.50727.1378<br />
with the <a href="http://s3.amazonaws.com/NDependOnlineDemos/BuildComparison_viewlet_swf.html" target="_blank">build comparison</a> feature of NDepend :</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The following<br />
CQL Query matches 389 methods dispatched into 95 types:</span></p>
<p class="MsoNormal"><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">SELECT</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">METHODS</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">FROM</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">ASSEMBLIES</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>&#8220;mscorlib&#8221;</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">WHERE</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>CodeWasChanged</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The following<br />
CQL Query matches 164 methods:</span></p>
<p class="MsoNormal"><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">SELECT</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">METHODS</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">FROM</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">ASSEMBLIES</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>&#8220;mscorlib&#8221;</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">WHERE</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>CodeWasChanged</span><span><br />
</span><span style="font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">AND </span><span>IsPublic</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The following<br />
CQL Query matches 30 methods:</span></p>
<p class="MsoNormal"><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">SELECT</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">METHODS</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">FROM</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">ASSEMBLIES</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>&#8220;mscorlib&#8221;</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">WHERE</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>WasAdded</span><span style="font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue"></span><span></span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The following<br />
CQL Query matches no method:</span></p>
<p class="MsoNormal"><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">SELECT</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">METHODS</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">FROM</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">ASSEMBLIES</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>&#8220;mscorlib&#8221;</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">WHERE</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>WasRemoved</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The following<br />
CQL Query matches 4 methods (all of them were declared as internal and are now<br />
private):</span></p>
<p class="MsoNormal"><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">SELECT</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">METHODS</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">FROM</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">ASSEMBLIES</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>&#8220;mscorlib&#8221;</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">WHERE</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"><br />
</span><span>CodeWasChanged</span><span><br />
</span><span style="font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">AND </span><span>IsPublic</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">These<br />
numbers might be a bit flawed because some C#3 compiler optimization might have<br />
changed the IL code of some methods (and NDepend bases its code comparison on<br />
IL code). However, I checked with Reflector and I didn’t find any false<br />
positive. So, what code has been changed? Actually I’m not sure I can legally<br />
talk about such internal implementations details. If you are curious (as me)<br />
I invite you to do the comparison by yourself.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">However we<br />
can talk for sure about <i>System.Core.dll </i>content. My preferred new class is<br />
<a href="http://blogs.msdn.com/bclteam/archive/2006/11/09/introducing-hashset-t-kim-hamilton.aspx" target="_blank">System.Collections.Generic.HashSet&lt;T&gt;</a></span><span lang="EN-US"> </span><span lang="EN-US">.My code is full of <i>Dictionary&lt;something,object&gt;</i> where the second parameter<br />
type is useless and I will be for sure heavy consumer of <i>HashSet&lt;T&gt;</i>.<br />
However, we won’t migrate the NDepend code soon to get these facilities since like<br />
many ISVs, we have to wait that the .NET framework 3.5 gets largely adopted (end<br />
of 2008 sounds reasonable). <i>HashSet&lt;T&gt;</i> is the only new collection in .NET 3.5.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The<br />
namespace <i>System </i>in <i>System.Core.dll</i> contains some classes for <a href="http://blogs.msdn.com/bclteam/archive/2006/10/03/System.TimeZone2-Starter-Guide-_5B00_Kathy-Kam_5D00_.aspx" target="_blank">extended time<br />
zone feature</a><br />
and a lot of new delegate classes dedicated to LINQ support(<i>Func&lt;T,TResult&gt;</i>…).<br />
There is also 2 new namespaces dedicated to LINQ: <i>System.Linq </i>and <i>System.Linq.Expressions</i>.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">There is a<br />
new namespace <i>Microsoft.Contrac</i>t that contains some attribute with sexy names<br />
such as <i>ImmutableAttribute </i>or <i>InvariantMethodAttribute</i>. Unfortunately, all<br />
these attributes are declared internal and we can’t use them. That’s sad since<br />
in my opinion <a href="http://www.javaolympus.com/J2SE/ImmutableTypes/ImmutableTypes.jsp" target="_blank">immutable types</a> are an excellent mean to deal with multi-threaded<br />
code (I hope to blog about this later). Btw, we recently add <a href="http://s3.amazonaws.com/NDependOnlineDemos/NDependMultiThreadedApp_viewlet_swf.html" target="_blank">some supports in CQL</a> to allow ensuring immutability with CQL queries<br />
such as:</span></p>
<p class="MsoNormal"><span>// This CQL constraints warns when <span style="background: white none repeat scroll 0% 50%">MyImmutableClass</span> is<br />
not indeed immutable</span></p>
<p class="MsoNormal"><span></span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">WARN IF </span><span>Count</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black">&gt; 0</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue"><br />
IN SELECT</span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black"> </span><span style="background: white none repeat scroll 0% 50%;font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">TYPES WHERE</span><span style="font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">&nbsp;</span><span style="font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: black">!</span><span>IsImmutable </span><span style="font-size: 10pt;line-height: 115%;font-family: 'Courier New';color: blue">AND<br />
</span><span>NameIs </span><span>&#8220;MyImmutableClass&#8221;</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">There seems<br />
to be new support for encrypted Safe Handle with some new public classes such<br />
as <i>SafeNCryptHandle </i>in the namespace <i>Microsoft.Win32.SafeHandles</i> but so far<br />
there is no documentation available online. <i>SafeHandle </i>was a great addition to<br />
.NET 2.0, sometime <a href="https://blogs.msdn.com/bclteam/archive/2005/03/15/396335.aspx" target="_blank">considered as the best v2.0 feature of the .NET Framework<br />
2.0</a>.<br />
Safe Handles allow dealing properly with complex situations when using<br />
unmanaged resources from managed code.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">There is a<br />
new namespace <span style="font-style: italic">System.IO.Pipes</span> that allows using Windows pipe from managed code<br />
without relying on .NET Remoting (that relies internally on pipes when using<br />
the ipc scheme, InterProcessCommunication).</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">There is<br />
the new namespace <i>System.Diagnostics.PerformanceData</i> that allows to use from<br />
managed code some <a href="http://www.danielmoth.com/Blog/2007/05/performancedata.html" target="_blank">new Vista specific performance counters</a></span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">There is<br />
some new WMI wrappers in the namespace </span><a href="http://msdn2.microsoft.com/en-us/library/system.management.instrumentation.aspx" target="_blank"><i>System.Management.Instrumentation</i></a><span lang="EN-US">.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The<br />
namespace <i>System.Runtime.CompilerServices</i> contains 3 classes dedicated to LINQ<br />
advanced scenario such as serializing your expressions and scoping their<br />
executions. <a href="http://www.ayende.com/Blog/archive/2007/03/19/Linq-Possibilities.aspx" target="_blank">Ayende wrote some thoughts on this</a>.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">The<br />
namespace <span style="font-style: italic">System.Security.Cryptography</span> has been enhanced with some new<br />
algorithms largely commented by Shawn Farkas <a href="http://blogs.msdn.com/shawnfa/archive/2007/01/17/new-crypto-algorithms-in-orcas.aspx" target="_blank">here </a>and <a href="http://blogs.msdn.com/shawnfa/archive/2007/01/22/elliptic-curve-diffie-hellman.aspx" target="_blank">here</a>.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">Finally the<br />
namespace <i>System.Threading</i> contains a new <i>ReaderWriterLockSlim</i> that is<br />
meant to replace the <i>ReaderWriterLock </i>class that notoriously suffers from both design and<br />
performance issues. <a href="http://www.bluebytesoftware.com/blog/PermaLink,guid,c4ea3d6d-190a-48f8-a677-44a438d8386b.aspx" target="_blank">Joe Duffy has some great talk about this</a>.<br />
Actually, the <i>ReaderWriterLock </i>class hasn&#8217;t been tagged as obsolete.</span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">There is few new ‘core’ stuff in .NET 3.5 comparing to what<br />
contained <a href="http://www.codeproject.com/books/net2_cs2_newfeatures.asp" target="_blank">the .NET 1.1 to .NET 2.0 delta</a>. It seems to be a good sign of<br />
maturity and it allows developers to concentrate their learning endeavour on<br />
high level framework such as WCF and WPF. My two cents is that I would have<br />
wished more collection implementations, more core math support (such as linear<br />
algebra) and more IO support (especially for absolute/relative/normalized<br />
pathes).</span></p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/patricksmacchia/category/featured/" title="View all posts in Featured" rel="category tag">Featured</a>. Bookmark the <a href="http://codebetter.com/patricksmacchia/2007/08/08/new-net-3-5-core-stuff/" title="Permalink to New .NET 3.5 core stuff" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/patricksmacchia/2007/08/08/new-net-3-5-core-stuff/feed/" title="Comments RSS to New .NET 3.5 core stuff" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-10 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/patricksmacchia/2007/07/25/i-want-non-nullable-types-in-c-4/" rel="prev"><span class="meta-nav">&larr;</span> I want non-nullable types in C#4</a></div>
					<div class="nav-next"><a href="http://codebetter.com/patricksmacchia/2007/08/12/ui-matters-menus-and-toolbars-vs-office-2007-ribbons/" rel="next">UI matters: Menus and ToolBars vs. Office 2007 Ribbons <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-23">
					<div id="dsq-comment-header-23" class="dsq-comment-header">
						<cite id="dsq-cite-23">
	http://blogs.msdn.com/bclteam							<span id="dsq-author-user-23">Inbar Gazit</span>
							</cite>
					</div>
					<div id="dsq-comment-body-23" class="dsq-comment-body">
						<div id="dsq-comment-message-23" class="dsq-comment-message"><p>Please correct this blog to either not mention BigInteger or to say it has been removed. It&#8217;s Internal in System.Core.dll from beta1 and forward and so it cannot be used by developers.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-24">
					<div id="dsq-comment-header-24" class="dsq-comment-header">
						<cite id="dsq-cite-24">
	http://www.NDepend.com							<span id="dsq-author-user-24">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-24" class="dsq-comment-body">
						<div id="dsq-comment-message-24" class="dsq-comment-message"><p>Done!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-25">
					<div id="dsq-comment-header-25" class="dsq-comment-header">
						<cite id="dsq-cite-25">
	http://www.danielmoth.com/Blog/2007/06/net-framework-35.html							<span id="dsq-author-user-25">Daniel Moth</span>
							</cite>
					</div>
					<div id="dsq-comment-body-25" class="dsq-comment-body">
						<div id="dsq-comment-message-25" class="dsq-comment-message"><p>>><br />
My good old copies of mscorlib.dll v2.0.50727.0<br />
< <</p>
<p>Don't you mean v2.0.50727.42 (or v2.0.50727.312 if you are on Vista)?</p>
<p>More detail here:<br />
<a href="http://www.danielmoth.com/Blog/2007/05/clr-v20-remains-at-same-version.html" rel="nofollow">http://www.danielmoth.com/Blog/2007/05/clr-v20-remains-at-same-version.html</p>
<p>BTW, a complete list of new stuff in 3.5 is here:<br />
<a href="http://www.danielmoth.com/Blog/2007/06/net-framework-35.html" rel="nofollow">http://www.danielmoth.com/Blog/2007/06/net-framework-35.html</a></p>
</div>
					</div>
				</li>
					<li id="dsq-comment-26">
					<div id="dsq-comment-header-26" class="dsq-comment-header">
						<cite id="dsq-cite-26">
	http://www.NDepend.com							<span id="dsq-author-user-26">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-26" class="dsq-comment-body">
						<div id="dsq-comment-message-26" class="dsq-comment-message"><p>Thanks Daniel, upadted!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-27">
					<div id="dsq-comment-header-27" class="dsq-comment-header">
						<cite id="dsq-cite-27">
								<span id="dsq-author-user-27">Mike</span>
							</cite>
					</div>
					<div id="dsq-comment-body-27" class="dsq-comment-body">
						<div id="dsq-comment-message-27" class="dsq-comment-message"><p>&#8220;I expected to saw a new C:\WINDOWS\Microsoft.NET\Framework\v3.5.xxx folder&#8221;</p>
<p>The CLR is still 2.0 I knew that because I was looking for new machine.config and web.config files in the same location.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-28">
					<div id="dsq-comment-header-28" class="dsq-comment-header">
						<cite id="dsq-cite-28">
	http://www.NDepend.com							<span id="dsq-author-user-28">Patrick Smacchia</span>
							</cite>
					</div>
					<div id="dsq-comment-body-28" class="dsq-comment-body">
						<div id="dsq-comment-message-28" class="dsq-comment-message"><p>MS guys have a great and stable CLR 2.0 implementation in which they invested a lot. I completely agree with their decision to build the new stuff on top of this implementation. </p>
<p>However the 3.0 and 3.5 install still remains a bit dirty.</p>
<p>For another example, have a look in:<br />
C:\WINDOWS\Microsoft.NET\Framework\v3.0<br />
You have these folders:<br />
{Windows Communication Foundation}<br />
{Windows Workflow Foundation}</p>
<p>and while you would expect also a folder named<br />
{Windows Presentation Foundation}</p>
<p>instead you found a folder named {WPF}?!</p>
<p>You might ask<br />
&#8216;Who cares?&#8217;<br />
and I would answer<br />
&#8216;All ISV guys that build tools for .NET developers that need to reengineer the .NET installation&#8217; (as my company and many others)</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-29">
					<div id="dsq-comment-header-29" class="dsq-comment-header">
						<cite id="dsq-cite-29">
								<span id="dsq-author-user-29">Stefan Lange</span>
							</cite>
					</div>
					<div id="dsq-comment-body-29" class="dsq-comment-body">
						<div id="dsq-comment-message-29" class="dsq-comment-message"><p>The implication is that after installing Visual Studio 2008 on a machine, all new functions from V2.0.50727.1378 are available and may accidentally be used in Visual Studio 2005 projects. Everything works fine and is completely invisible for the developer, but a customer with V2.0.50727.42 gets a “Function not found” exception. This is strange and unexpected, because the developer uses Visual Studio 2005 explicitly to prevent this problem (as he uses Visual Studio 2003 earlier to create .NET 1.1 compatible applications).<br />
I believe that most developers will not see the problem and maybe this situation lead us to new kind of DLL hell.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-30">
					<div id="dsq-comment-header-30" class="dsq-comment-header">
						<cite id="dsq-cite-30">
	http://m_mehdi_m62@yahoo.com							<span id="dsq-author-user-30">Mehdi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-30" class="dsq-comment-body">
						<div id="dsq-comment-message-30" class="dsq-comment-message"><p>I encountered to this error&#8221;Error	1	The type or namespace name &#8216;ReaderWriterLockSlim&#8217; could not be found (are you missing a using directive or an assembly reference?)&#8221; while I was try use RWLockSlim.<br />
I am using .NET 3.5<br />
I have added the &#8220;using System.Threading;&#8221;.</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/patricksmacchia/2007/08/08/new-net-3-5-core-stuff/ ';
	var disqus_identifier = '10 /blogs/patricksmacchia/archive/2007/08/08/new-net-3-5-core-stuff.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'codebetter';
	var disqus_title = "New .NET 3.5 core stuff";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=10');
		});
					};
	var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/patricksmacchia\/2007\/08\/08\/new-net-3-5-core-stuff\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.691 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-31 12:30:31 -->
<!-- super cache -->