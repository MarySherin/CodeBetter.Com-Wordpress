<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Jay&#8217;s TDD QuickStart, and the underlying problems he stumbled into | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/jeremymiller/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/jeremymiller/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Jeremy D. Miller' href='http://codebetter.com/jeremymiller/' />
<link rel='start' title='Bypass VSTS and get yourself a &quot;Poor Man&#8217;s IntelliJ&quot;' href='http://codebetter.com/jeremymiller/2005/04/12/bypass-vsts-and-get-yourself-a-poor-mans-intellij/' />
<link rel='prev' title='The Road to Coding Hell is paved with Cobblestones of Expediency' href='http://codebetter.com/jeremymiller/2007/03/07/the-road-to-coding-hell-is-paved-with-cobblestones-of-expediency/' />
<link rel='next' title='Software Factories at the MVP Summit' href='http://codebetter.com/jeremymiller/2007/03/15/software-factories-at-the-mvp-summit/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/jeremymiller/2007/03/07/jays-tdd-quickstart-and-the-underlying-problems-he-stumbled-into/' />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=294' />
<meta name="_awb_version" content="2.0.3" /><link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.6" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/theshadetreedeveloper/disqus.css?v=2.0" type="text/css" media="screen" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-294" class="post-294 post type-post status-publish format-standard hentry category-maintainability category-test-driven-development">
					<h1 class="entry-title">Jay&#8217;s TDD QuickStart, and the underlying problems he stumbled into</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2007/03/07/jays-tdd-quickstart-and-the-underlying-problems-he-stumbled-into/" title="7:05 pm" rel="bookmark"><span class="entry-date">March 7, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/jeremymiller/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p><a href="/blogs/jay.kimble/default.aspx">Jay Kimble</a>, CodeBetter&#039;s resident AJAX guru, issued a little challenge to us TDD bloggers&nbsp;about <a href="/blogs/jay.kimble/archive/2007/03/06/TDD-Challenge-for-my-co_2D00_bloggers.aspx">using Test Driven Development to develop a custom extension to the MS Ajax ScriptManager control</a>.&nbsp; In the comments, <a href="http://www.jeffperrin.com/">Jeff Perrin</a> (you need to&nbsp;blog more Jeff)&nbsp;proposes a&nbsp;solution that&#039;s about what I would have suggested &#8212; remove most of the functionality to a &quot;POO&quot; class that isn&#039;t&nbsp;coupled in any way to the ASP.Net runtime.</p>
<p>I think the most important things to&nbsp;know or think about&nbsp;upfront&nbsp;before transitioning to TDD are:</p>
<ul>
<li>There is a way to write an automated test for almost any piece of code, including the user interface itself (the idea that the GUI can&#039;t be tested is somewhat a myth)</li>
<li>The biggest part of driving code through the tests is thinking through *how* you&#039;re going to split up the responsibilities of the&nbsp;code to be able to easily write unit tests *before* you commit to writing code.&nbsp; I know a lot of people blanch at the thought of doing things just for testing, but a lot of making code testable is simply a strong focus on separating responsibilities into cohesive and loosely coupled modules.&nbsp; Basically, traditionally good design in general.</li>
<li>Assume that you will have to change the way you code in order to make writing the unit tests easier.&nbsp; Maybe you won&#039;t, but you should still have an open mind and be prepared to challenge the way that you write code.</li>
<li>Specific to&nbsp;.Net, the &quot;Visual Studio way&quot;&nbsp;of&nbsp;creating code often&nbsp;detracts from testability.&nbsp; More on this below.</li>
</ul>
<p>&nbsp;</p>
<h4>Laying down the Law</h4>
<p>Back to Jay&#039;s issue, let&#039;s try to apply some of&nbsp;Jeremy&#039;s Laws of TDD.</p>
<ol>
<li><a href="/blogs/jeremy.miller/archive/2005/10/20/133437.aspx"><strong>Isolate the Ugly Stuff</strong></a>.&nbsp; In Jay&#039;s case the ugly stuff is anything related to the ASP.Net runtime.&nbsp; Following law #1,&nbsp;boil the &quot;meat&quot; of the&nbsp;real functionality away from the &quot;bones&quot; of the ASP.Net runtime.&nbsp; Now, the functionality can be tested without all the overhead of a web server.&nbsp; </li>
<li><a href="/blogs/jeremy.miller/archive/2006/03/09/140465.aspx"><strong>Push, Not Pull</strong></a>.&nbsp; In Jay&#039;s control, divide the responsibilities into two pieces.&nbsp; The control itself is only responsible for handling the interaction with the ASP.Net runtime and delegating to the &quot;POO&quot; class that actually implements the functionality.&nbsp; If the &quot;POO&quot; class is given everything it needs to do the work, it&#039;s completely decoupled from its data source, and therefore easy to test.&nbsp; Known input, expected outcome.&nbsp; This is what I call the &quot;Roadies and Aerosmith&quot; analogy.&nbsp; The &quot;POO&quot; class (Aerosmith)&nbsp;is doing all the sexy work, but the web control (the Roadie) is responsible for giving everything to the &quot;POO&quot; class that it needs to do its work.</li>
<li><a href="/blogs/jeremy.miller/archive/2006/05/30/145752.aspx"><strong>Test Small Before Testing Big</strong></a>.&nbsp; Obviously, the whole thing, control and &quot;POO&quot; class, needs to be tested front to back in an integration test.&nbsp; Before you even attempt the big bang test, build and test&nbsp;the constituent&nbsp;pieces in isolation first.&nbsp; That strategy both leads to effective evolutionary design, and keeps the debugger turned off.&nbsp; </li>
<li><strong>Avoid&nbsp;a Long Tail</strong> (forthcoming, but soon because I need&nbsp;some content&nbsp;for my <a href="http://www.devteach.com">DevTeach</a> talks).&nbsp;&nbsp;Jay&#039;s scenario is really too simple for this law to come into play, but think on this:&nbsp; if you need to pick up any piece of logic or behavior in your system and write a test for it, how much &quot;stuff&quot; has to come with it?&nbsp; For example, if you can&#039;t test some business logic without a database or Active Directory authentication, you&#039;re TDD efforts are going to be much more difficult than they could be.</li>
</ol>
<p>&nbsp;</p>
<h4>More Classes?&nbsp; Yes!</h4>
<p>Again referring to Jay&#039;s post, one of the commenter&#039;s is concerned that the extra classes&nbsp;will create performance/scalability problems and I&#039;m would also guess an unvoiced concern over extra complexity.&nbsp; Two points:</p>
<ol>
<li>I vehemently oppose the attitude that more classes automatically equates to complexity.&nbsp; I think a much, much more pervasive problem in the wild&nbsp;is classes that are bloated in size with&nbsp;unrelated responsibilities.&nbsp; In a way, I&#039;m personally more concerned with the complexity of any one single piece of code more than the whole.&nbsp; I&#039;ll take a dozen classes with cohesive responsibilities versus a single 1000 line procedure any day of the week.</li>
<li>I will happily stand up and shout this all damn day.&nbsp;&nbsp;In all but the most extreme cases, the performance overhead of creating well factored code (smaller classes and methods) is trivial in the grand scheme of things.&nbsp; Maintainability, of which testability is a crucial component, should never be sacrificed at the alter of performance without very good reason.&nbsp; I cringe every time I read somebody say to avoid creating more objects as a performance optimization.&nbsp; Sure it is, but compared to a single inefficient database query or chatty communication?</li>
</ol>
<p>&nbsp;</p>
<h4>The Underlying Problems of TDD&nbsp;in the&nbsp;.Net World</h4>
<p>Now, the very real problem that Jay&#039;s little example exposes to broad daylight:&nbsp; in .Net development, and especially ASP.Net WebForms development, you often have to go out of your way to create testable code.&nbsp; To steal a phrase from <a href="/blogs/jeffrey.palermo/">Jeffrey Palermo</a>, .Net does not&nbsp;help you &quot;fall into success&quot; with&nbsp;good separation of concerns and testability.&nbsp; In Jay&#039;s case, you can&#039;t simply write a small unit test for the control as a whole because any UserControl is tightly coupled to the ASP.Net runtime.&nbsp; You <strong>can</strong> fake the HttpContext and the page event cycle, but it&#039;s nontrivial and doesn&#039;t save you much time (and no, don&#039;t ask me exactly how.&nbsp; The examples I&#039;ve seen relied on lots of Win32 calls and quite a bit of time with Reflector.&nbsp; My advice is&nbsp;to go to MonoRail or&nbsp;wrestle&nbsp;WebForms into an MVP structure).&nbsp; You *can* abstract away the HttpContext by surrounding it with abstracted interface wrappers, and I do recommend this, but the better question I should probably be asking, even as a fervent TDD advocate,&nbsp;is &quot;why do I have to do all this extra stuff for testability?&quot;</p>
<p>One of the most popular posts I&#039;ve ever written was on using a&nbsp;<a href="/blogs/jeremy.miller/archive/2006/02/01/137457.aspx">Model View Presenter architecture with ASP.Net for testability</a>.&nbsp; Half a year later I completely&nbsp;lost my enthusiasm for&nbsp;MVP with WebForms&nbsp;in a short morning of presentations from <a href="http://pragdave.pragprog.com/pragdave/">Prag Dave Thomas</a> on Ruby on Rails.&nbsp; What I saw in only a couple hours was a far more elegant solution for testable presentation code than MVP/WebForms can possibly provide.&nbsp; At one point I even made Dave stop and repeat a sentence on how state&nbsp;and information was moved from controller to view&nbsp;because their technique eliminated&nbsp;most of the mechanical work we were doing to force&nbsp;ASPX pages into something testable.&nbsp; </p>
<p>One of the huge advantages of Ruby on Rails over WebForms is the inherent testability that is baked into Rails.&nbsp; The way you develop pages in Rails&nbsp;out of the box is inherently testable, in WebForms you have to apply an extra layer of stuff that isn&#039;t built in.&nbsp; Rails&nbsp;comes with&nbsp;built in extensions into the Ruby xUnit tool to stub out the&nbsp;equivalent of the HttpContext at will to simulate user requests, plus more extensions for common assertions for Controller to View interaction.&nbsp;&nbsp;You can even happily test the generated web page itself without starting up a web server, and that&#039;s a huge win in terms of the rapid feedback cycles you want with TDD.&nbsp; </p>
<p>Rails straightjackets you into an MVC breakdown by default&nbsp;that separates responsibilities for easier testing.&nbsp; ASP.Net is all too happy to let you throw everything into the code behinds.&nbsp; I was extremely dubious about Software Factories at first, but there might be some room for a software factory for ASP.Net that leads to better practices.&nbsp; We&#039;ll see.</p>
<p>If Jay had been building this functionality with Ruby on Rails (which already has that functionality btw), he wouldn&#039;t have had to go out of his way one single bit because Rails is inherently testable, and that&#039;s my whole point in this section.&nbsp; We want ASP.Net to have the same level of testability that Rails does.&nbsp; We should be asking Microsoft to move ASP.Net in a direction that enables us to write testable code without fighting the framework.</p>
<p>I don&#039;t know how much say or influence I get with this MVP thingie, but the one single thing that I would beg Microsoft for in whatever is beyond Orcas is far more consideration for testability in the .Net framework.&nbsp; It&#039;s the one area in particular where I think the .Net framework needs a lot of improvement.&nbsp; ScottGu, since you&#039;re amazingly&nbsp;all seeing, are you out there?&nbsp; Can we talk about testability in ASP.Net?&nbsp; Can we jump testability over new wiz bangy RAD capabilities in the priority list?&nbsp; Who&#039;s with me?</p>
<p>I really think the .Net community needs to reexamine and debate the merits and appropriateness of the Visual RAD approach.&nbsp; A lot of what makes&nbsp;ASP.Net WebForms&nbsp;hard to test is the extra complexity that&#039;s there to support design time controls, specifically the&nbsp;page&nbsp;event cycle.&nbsp; RAD is doing more damage than good because the negative impact on maintainability/testability overwhelms the &quot;write once&quot; advantages of RAD.&nbsp; Discuss.&nbsp;&nbsp; </p>
<p>&nbsp;</p>
<h4>My Stuff on Test Driven Development</h4>
<ul>
<li><a href="/blogs/jeremy.miller/articles/131726.aspx">TDD Design Starter Kit: It&rsquo;s All about Assigning Responsibilities</a> </li>
<li><a href="/blogs/jeremy.miller/articles/129544.aspx">TDD Design Starter Kit &#8211; State vs. Interaction Testing</a> </li>
<li><a href="/blogs/jeremy.miller/articles/129543.aspx">TDD Design Starter Kit &#8211; Dependency Inversion Principle</a> </li>
<li><a href="/blogs/jeremy.miller/articles/129542.aspx">TDD Design Starter Kit &ndash; Responsibilities, Cohesion, and Coupling</a> </li>
<li><a href="/blogs/jeremy.miller/articles/129545.aspx">TDD Design Starter Kit &#8211; Static Methods and Singletons May Be Harmful</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2005/07/20/129540.aspx">Succeed with TDD by designing with TDD</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2005/10/12/133017.aspx">Unit Testing Business Logic without Tripping Over the Database</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2005/10/20/133437.aspx">Haacked on TDD and Jeremy&#039;s First Rule of TDD</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2006/03/09/140465.aspx">Jeremy&#039;s Second Law of TDD: Push, Don&#039;t Pull</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2006/05/30/145752.aspx">Achieve Better Results by following Jeremy&#039;s Third Law of TDD: Test Small Before Testing Big</a> &#8211; I think this is the most important lesson for making TDD work for you  </li>
<li><a href="/blogs/jeremy.miller/archive/2006/06/20/146601.aspx">How much design before unit testing, and how much design knowledge before TDD?</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2006/06/27/146899.aspx">So How do You Introduce TDD into an Organization or Team?</a></li>
<li><a href="/blogs/jeremy.miller/archive/2005/12/19/135757.aspx">Mock Objects and Stubs: The Bottle Brush of TDD</a></li>
<li><a href="/blogs/jeremy.miller/archive/2005/12/20/135800.aspx">Why and When to Use Mock Objects</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2006/01/10/136407.aspx">Best and Worst Practices for Mock Objects</a> </li>
<li><a href="/blogs/jeremy.miller/archive/2006/07/03/147075.aspx">Mock Objects are your Friend</a></li>
</ul>
											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/maintainability/" title="View all posts in Maintainability" rel="category tag">Maintainability</a>, <a href="http://codebetter.com/jeremymiller/category/test-driven-development/" title="View all posts in Test Driven Development" rel="category tag">Test Driven Development</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2007/03/07/jays-tdd-quickstart-and-the-underlying-problems-he-stumbled-into/" title="Permalink to Jay&#8217;s TDD QuickStart, and the underlying problems he stumbled into" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2007/03/07/jays-tdd-quickstart-and-the-underlying-problems-he-stumbled-into/feed/" title="Comments RSS to Jay&#8217;s TDD QuickStart, and the underlying problems he stumbled into" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-294 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2007/03/07/the-road-to-coding-hell-is-paved-with-cobblestones-of-expediency/" rel="prev"><span class="meta-nav">&larr;</span> The Road to Coding Hell is paved with Cobblestones of Expediency</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2007/03/15/software-factories-at-the-mvp-summit/" rel="next">Software Factories at the MVP Summit <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-1595">
					<div id="dsq-comment-header-1595" class="dsq-comment-header">
						<cite id="dsq-cite-1595">
	http://www.e-Crescendo.com							<span id="dsq-author-user-1595">jdn</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1595" class="dsq-comment-body">
						<div id="dsq-comment-message-1595" class="dsq-comment-message"><p>As the &#8216;commenter&#8217; on the other post, I should point out that I didn&#8217;t mean &#8216;scalability&#8217; as a performance concern, but whether or not it is a &#8216;scalable&#8217; development practice to have to create multiple classes, objects, etc. each time you want to test something like what Jay was describing because of &#8216;leakage.&#8217;</p>
<p>I should have used a different term.  But, to clarify a bit more (hard to do in a blog comment but I&#8217;ll try):</p>
<p>Since I&#8217;m more familiar with mock objects: I think I understand them.  If you are doing testing, you don&#8217;t (theoretically) want your tests to fail if the dev database server is down, or some other environmental condition, and so you mock out what the database would be returning you so you can make sure that your test tests just the piece of functionality you want tested.</p>
<p>But how do you know the mock objects are in line with the database?  I can imagine all sorts of scenarios where there is leakage/drift/call it what you will, where your mocks happily work with your code, but once you hit the database, the code fails.</p>
<p>And if you are going to go full in with mocks, you&#8217;ll probably end up with hundreds of additional classes, hundreds of places where you can get drift.  In which case, it might not be so bad to just test against the database directly, since that&#8217;s what your code is going to do in production.</p>
<p>So, do the &#8216;stand-ins&#8217; lead to problems down the road?  That&#8217;s my concern.  The one test for Jay&#8217;s scenario is simple and manageable.  Multiply it by 20, or 200, and then I wonder.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1596">
					<div id="dsq-comment-header-1596" class="dsq-comment-header">
						<cite id="dsq-cite-1596">
								<span id="dsq-author-user-1596">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1596" class="dsq-comment-body">
						<div id="dsq-comment-message-1596" class="dsq-comment-message"><p>Excellent post.</p>
<p>Interesting that you mention Rails and how it&#8217;s &#8216;baked&#8217; in.</p>
<p>Unfortunately for Microsoft, even if they baked it in, you&#8217;d be stuck needing to buy their development suite  <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1597">
					<div id="dsq-comment-header-1597" class="dsq-comment-header">
						<cite id="dsq-cite-1597">
								<span id="dsq-author-user-1597">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1597" class="dsq-comment-body">
						<div id="dsq-comment-message-1597" class="dsq-comment-message"><p>I don&#8217;t think this will go over very well, but you are enforcing that things must be tested.</p>
<p>Perhaps that is the argument.  Does every developer, everywhere, everytime, need to have tests?</p>
<p>What if I want RAD and I don&#8217;t want tests?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1598">
					<div id="dsq-comment-header-1598" class="dsq-comment-header">
						<cite id="dsq-cite-1598">
	http://www.ayende.com/Blog							<span id="dsq-author-user-1598">Ayende Rahien</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1598" class="dsq-comment-body">
						<div id="dsq-comment-message-1598" class="dsq-comment-message"><p>> The idea that the GUI can&#8217;t be tested is somewhat a myth</p>
<p>It can be tested, but often the investment just isn&#8217;t worth it.<br />
And I have yet to find a tool that will assert that all my labels and fields are aligned on the same line&#8230;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1599">
					<div id="dsq-comment-header-1599" class="dsq-comment-header">
						<cite id="dsq-cite-1599">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-1599">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1599" class="dsq-comment-body">
						<div id="dsq-comment-message-1599" class="dsq-comment-message"><p>JDN,</p>
<p>You&#8217;re pretty well right on the money in terms of mocks.  The best way to use mock objects is probably worth a short book someday, but all the advice I have to give is in the &#8220;Mock Object&#8221; links above.  The biggest point of using a mock object is to create boundary conditions to allow yourself to write smaller tests that run quickly.  There are other tricks (Inversion of Control) to isolate functionality for smaller unit tests that can be better alternatives to mock objects.  To isolate business logic from the database, I think a Domain Model approach + a Database Mapper approach gives you the best ability to unit test business logic independently of the database.  That way you don&#8217;t even have to use mocks in most cases.</p>
<p>As far as a variance between the mocked behavior and the real thing, you shouldn&#8217;t try to mock an interface that you don&#8217;t understand.  No matter what, you will need a level of integration tests as well.  Even so, I would contend that it&#8217;s faster and easier to remove the majority of problems in code through the smaller unit tests than it is through larger integration tests (limiting the variables in any one test).  I haven&#8217;t had many problems with drift between mock and the real thing, but that&#8217;s dependent on staying within the rules &#8211; don&#8217;t mock interfaces you don&#8217;t understand, don&#8217;t mock fine grained interfaces, etc.</p>
<p>On the database itself, add a series of tests that test just the DAL.  I like to do at least smoke tests for sanity&#8217;s sake with an O/R mapper as well.  Before you go into integration tests you should have a good idea that every single piece behaves as expected.</p>
<p>The efficiency in terms of developer time is from the unit testing reducing debugging and bug fixing time more than the time spent to write the tests and maintain them.  That equation is favorable when you can make the code easy to write tests for, otherwise it doesn&#8217;t compute. </p>
<p>And if you have a wacky legacy database, all bets are off.</p>
<p>thanks for the comment,</p>
<p>Jeremy</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1600">
					<div id="dsq-comment-header-1600" class="dsq-comment-header">
						<cite id="dsq-cite-1600">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-1600">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1600" class="dsq-comment-body">
						<div id="dsq-comment-message-1600" class="dsq-comment-message"><p>Steve 2,</p>
<p>You guys passed the &#8220;Law of Steve&#8221; &#8211; in any given group of developers there will be more Steve&#8217;s than women.</p>
<p>&#8220;What if I want RAD and I don&#8217;t want tests?&#8221;</p>
<p>A.)  You&#8217;ve already got RAD<br />
B.)  You just can&#8217;t work with me,  but before you get too offended, I bet we work on very different types of projects</p>
<p>&#8220;Does every developer, everywhere, everytime, need to have tests?&#8221;</p>
<p>- The bigger problem is that I do want to use TDD and have a very high degree of unit test coverage, but ASP.Net and .Net in general have some room to improve in terms of enabling that style.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1601">
					<div id="dsq-comment-header-1601" class="dsq-comment-header">
						<cite id="dsq-cite-1601">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-1601">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1601" class="dsq-comment-body">
						<div id="dsq-comment-message-1601" class="dsq-comment-message"><p>Ayende,</p>
<p>We&#8217;ve had mixed results.  I&#8217;ve had some success in testing from the Presenter/Controller level down to the database with a mocked view in FitNesse on past projects, and I&#8217;d happily recommend that.  </p>
<p>On my current project we used a lot of NUnitForms, both in isolation and inside FitNesse.  I&#8217;d say the results were mixed.  We found and fixed some bugs, but we&#8217;ve since found that it&#8217;s far more efficient to only unit tests controls in isolation.  MVP does make that testing much easier.</p>
<p>Even just testing the controller classes and isolating every thing you possibly can from the view machinery helps quite a bit.  I went after ASP.Net, but the data binding in WinForms seriously klooges up automated testing through WinForms UI&#8217;s.</p>
<p>One thing I&#8217;d like to play with someday (after I finish StoryTeller &#038; my DevTeach talks), is to try to use the RubyCLR tool to create an equivalent of WATIR for testing WinForms.  Failing that, I&#8217;m an admin on NUnitForms, and we could supercharge that a bit.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1602">
					<div id="dsq-comment-header-1602" class="dsq-comment-header">
						<cite id="dsq-cite-1602">
								<span id="dsq-author-user-1602">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1602" class="dsq-comment-body">
						<div id="dsq-comment-message-1602" class="dsq-comment-message"><p>I was playing devil&#8217;s advocate, because you are asking Scott Guthrie to provide you with the ability to test asp.net</p>
<p>1. I can be meticulous to separate my UI from my other layers.  The other layers can be tested with NUnit &#8211; nothing Scott needs to provide</p>
<p>2. I&#8217;m left with how to test the UI.  That comes down to how I design the UI. ie. you mention MVC, etc&#8230; based on that design will help determine how I test it.  At this point, I&#8217;d use Watir or something similiar.</p>
<p>What are you asking for ScottG to provide?</p>
<p>I feel we do work on similiar projects, I just haven&#8217;t ask Scott for a way to test my code yet  <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1603">
					<div id="dsq-comment-header-1603" class="dsq-comment-header">
						<cite id="dsq-cite-1603">
								<span id="dsq-author-user-1603">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1603" class="dsq-comment-body">
						<div id="dsq-comment-message-1603" class="dsq-comment-message"><p>By the way, Shawn Burke posted using Atlas test harnesses they created:<br />
<a href="http://blogs.msdn.com/sburke/archive/2006/06/07/621349.aspx" rel="nofollow">http://blogs.msdn.com/sburke/archive/2006/06/07/621349.aspx</a></p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1604">
					<div id="dsq-comment-header-1604" class="dsq-comment-header">
						<cite id="dsq-cite-1604">
	http://intrepidnoodle.com							<span id="dsq-author-user-1604">Aaron Robson</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1604" class="dsq-comment-body">
						<div id="dsq-comment-message-1604" class="dsq-comment-message"><p>I&#8217;ve blogged about similar things before &#8211;<br />
<a href="http://intrepidnoodle.com/blog/show/1.aspx" rel="nofollow">http://intrepidnoodle.com/blog/show/1.aspx</a> &#8211; and the more I&#8217;ve done to overcome the issues with webforms, the more I&#8217;ve come to understand and appreciate some of the issues which aspnet is trying to solve.</p>
<p>Without going into it too deeply, it seems that a lot of the architectural decisions stem from the attempt to make user interface reuse possible via controls. If nested forms were an option, I think a  lot of things would have been nicer. Other things that stem from this are PostBack and ViewState &#8211; neither of which are inherently bad, and solve specific problems. (But why create a LinkButton which needs javascript and use it for navigating via postback ???).</p>
<p>The bad stuff seems to begin when they went beyond the perfectly useable Repeater control and HtmlControls. It&#8217;s at this point, with things like DataGrids where an awful lot of behavioural code starts getting embedded within their user interface controls, and they start becoming tied to the IDE and visual designers and overly complicated Databinding. Perhaps they could start shipping those controls split into separate assemblies for the none web related part of them. On second thoughts, I don&#8217;t care, I don&#8217;t really intend to use them anyway!</p>
<p>As ScottGu points out in the article I mentioned above, asp.net has many levels for us to use. I just wish they&#8217;d stop pushing people to use that top level of absolute trash which is built purely for the IDE, all it does is lead to lots of unmaintainable declarative code. &#8216;Oh great, another article on using the GridView on Msdn&#8217; &#8211; just what I wanted <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  When the evangelist speaks &#8211; &#8216;Just say no&#8217;!</p>
<p>Wow, I could rant for hours on this <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  I&#8217;ll stop now before I get onto aspnet Themes and start spitting at passers-by.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1605">
					<div id="dsq-comment-header-1605" class="dsq-comment-header">
						<cite id="dsq-cite-1605">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-1605">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1605" class="dsq-comment-body">
						<div id="dsq-comment-message-1605" class="dsq-comment-message"><p>Steve,</p>
<p>I certainly agree with you in regards to layering the ASP.Net user interface to maximize unit testing, but there&#8217;s a bit farther we can go to make unit testing easier and extend the reach of unit tests before we have to go to WATIR or Selenium.</p>
<p>I&#8217;ve used Model View Presenter designs with ASP.Net to promote testability, but I don&#8217;t think it&#8217;s the ultimate solution.  MVP is meant for stateful UI&#8217;s, and try hard as it may, ASP.Net isn&#8217;t stateful.  </p>
<p>What I&#8217;ve seen from RoR is a high degree of testability without nearly as much mechanical work for testability as we have to do with MVP and mock objects in ASP.Net.  I&#8217;m thinking that a simplified eventing pipeline ala MonoRail or RoR (get input, do something, build model, view template turns the model into html) with a templating engine that can run and be verified in process is the way to go.  I&#8217;ll grant you that I might be asking for too much given that WebForms is already established and probably locked into that eventing pipeline.</p>
<p>Specifically, what I&#8217;d like the ASP.Net team to consider is:</p>
<p>* An easy way to simulate HTTP requests<br />
* Have a quick way to stub the HttpContext in memory<br />
* Be able to run user controls and web forms in some sort of lightweight container where you can easily control the incoming state and check the output.  Basically, some easy way to run/stub the event pipeline somewhat completely in process.  At least<br />
enough that you could test the HTML output of Jay&#8217;s control without difficulty.</p>
<p>* This could be OSS, but a set of assertions on top of the lightweight container that could let you declaratively express test conditions, just like RoR&#8217;s test extensions.</p>
<p>I apologize for the RAD crack, that was a bit out of line.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1606">
					<div id="dsq-comment-header-1606" class="dsq-comment-header">
						<cite id="dsq-cite-1606">
								<span id="dsq-author-user-1606">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1606" class="dsq-comment-body">
						<div id="dsq-comment-message-1606" class="dsq-comment-message"><p>Thanks,</p>
<p>And I think you are right &#8211; I really like what RoR brings.</p>
<p>I&#8217;m surprised Ayende didn&#8217;t bring up Monorail &#8211; it&#8217;s an excellent way to go!  I just wish it could get the backing it deserves!</p>
<p>Great set of ideas there as well.  </p>
<p>I&#8217;ll be 100% honest: I tend to avoid testing the UI at this point &#8211; not because I don&#8217;t want too, but more because it&#8217;s so difficult to do &#8211; both in asp.net and winforms.  Anything to help in these regards would be beneficial!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1607">
					<div id="dsq-comment-header-1607" class="dsq-comment-header">
						<cite id="dsq-cite-1607">
	http://www.hdri.net							<span id="dsq-author-user-1607">Chad Myers</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1607" class="dsq-comment-body">
						<div id="dsq-comment-message-1607" class="dsq-comment-message"><p>You said: &#8220;I know a lot of people blanch at the thought of doing things just for testing&#8221;</p>
<p>I used to feel this way, but it seems more and more that the tests serve a second, ulterior purpose: They are, essentially, the first consumer/client to your API.  If you&#8217;re having problems writing unit tests, you&#8217;re essentially experiencing first-hand what consumers of your API (including poor maintenance programmers in the future) will have to deal with. If it&#8217;s painful for you, and you were the guy who wrote it, imagine how much more painful it&#8217;ll be for the guy who has to figure it out from scratch.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1608">
					<div id="dsq-comment-header-1608" class="dsq-comment-header">
						<cite id="dsq-cite-1608">
	http://weblogs.asp.net/scottgu							<span id="dsq-author-user-1608">ScottGu</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1608" class="dsq-comment-body">
						<div id="dsq-comment-message-1608" class="dsq-comment-message"><p>I think there are a couple of aspects to think about testing UI in general, and especially web UI that is split across both a client and server tier.</p>
<p>One important aspect is to structure your code in such a way that you separate your UI logic from your business/data logic.  When I hear people say that they have 100+ lines of code in either a code-behind class or a pure MVC controller, I always cringe.</p>
<p>Ideally you should keep a code-behind file down to event handlers that on average don&#8217;t have more than 4-8 lines of code in them.  These lines should be &#8220;glue code&#8221; that do the work to pull/push values in/out of UI controls and pass them to methods implemented in classes that are UI agnostic.  There should be absolutely no non-UI/non-interaction logic in them.</p>
<p>The separate UI agnostic classes are where your business logic and data logic should live.  I recommend always putting these in separate class library projects.  By being UI and host agnostic you can unit test them using any standard class-level unit test framework.</p>
<p>For testing the UI portion of your application, you have a couple of different options.  One approach is to go the Mock route and simulate code-paths in your server-side UI logic.  There is definitely a lot of benefit to this (there are also a lot of minuses &#8211; more on this later).  The two big benefits I see are that you can usually run tests very quickly, and that this approach is probably the easiest way to get high code-coverage numbers of your server-side code.</p>
<p>It hasn&#8217;t historically been well documented how to simulate HttpContext objects for testing ASP.NET requests (although interestingly the hosting APIs have been there from the beginning to enable it).  Dmitry and I put together some sample on how to-do this last fall, and shared it with Steve Smith and a few others who have put together a CodePlex project that is adding to the concept.  You can check it out here: <a href="http://www.codeplex.com/plasma" rel="nofollow">http://www.codeplex.com/plasma</a></p>
<p>The above code allows you to create an ASP.NET application in-memory (without requiring a web-server or a separate process), and allows you to simulate http requests to ASP.NET (effectively mocking HttpContext objects through the pipeline).  This will actually execute the full ASP.NET pipeline (allowing you to simulate authentication/authorization, \bin path code loading, configuration, dynamic compilation, caching, session/profile management, and ultimately HttpHandler/WebForm behavior).  The guys on the project above are working on a set of client-control test utility classes that allow you to easily simulate postbacks and UI control interactions against the server as well.  </p>
<p>You can then use them within a standard NUnit or MBUnit project to test your pages/applications &#8211; no real HTTP traffic required (you don&#8217;t even need a web-server installed).  The positive side is that you can also process hundreds/thousands of requests a second &#8211; which makes running lots of tests quickly very easily.</p>
<p>Because you are simulating HTTPContext Mocks, it also allows you to write your tests first (before you even have a page on the server) and do true TDD.</p>
<p>As I said above, this approach has a lot of pluses, and I do think for fine-grain code-coverage it is a good approach to employ within your projects.</p>
<p>The one (big) caution I&#8217;d have is that simulating code-paths on the server-side alone isn&#8217;t always/usually the best way to test that the application really works.  It does a great job of marking your lines of server code green in a code coverage tool, but by doing so it can lull you into a very false sense of quality in your application.</p>
<p>Especially in the world of AJAX, but even in a non-JavaScript environment, you need to worry *a lot* about the client-side browser side of your applications.  Too often people miss this in their excitement of getting high server side code coverage numbers.</p>
<p>For example, you might have 100% code-coverage on the server, run all your unit tests and see green and feel great, but accidentally have a mistyped html element close-tag within your .aspx/.htm/.php or Rails .rhtml/.erb view file and have your application completely fail for every single request to it.  Despite having 100% server side code-coverage and all your unit tests passing, the browser will trip over the close tag (for example on a form element) and not parse/handle input correctly.</p>
<p>As another example: Almost every web application has client-side JavaScript today (whether for focus management, client-side validation, or richer AJAX scenarios).  You can again have 100% code-coverage on the server, but if your client-side JavaScript has an error with the name of an HTML element, or a mis-typed line of obscure JavaScript, you are going to not have the page work correctly (despite all your mock unit tests passing on the server-side piece).</p>
<p>Instead of using only a mock approach on the server, I&#8217;d recommend always having at least some end to end UI integration tests that you incorporate into your project.  You can use a replay tool (like what is in VSTS) for this, although increasingly I&#8217;m seeing .NET developers leverage programmatic unit testing frameworks like WatiN that provide more control and flexibility.  </p>
<p>If you haven&#8217;t tried WatiN, I&#8217;d recommend visiting these two links to download it and try it out:</p>
<p><a href="http://watin.sourceforge.net/gettingstarted.html" rel="nofollow">http://watin.sourceforge.net/gettingstarted.html</a><br />
<a href="http://www.codeproject.com/useritems/WatiN.asp" rel="nofollow">http://www.codeproject.com/useritems/WatiN.asp</a></p>
<p>You can incorporate WatiN within NUnit, MBUnit or the VS test framework and use your standard unit testing run tools with it (it allows you to use C# or VB to write the tests as standard NUnit or MBUnit test cases).  It does launch and use the browser to test the application, so it won&#8217;t be as fast as zipping through 5000 class-based unit tests.  But it will give you exactly the experience that you&#8217;ll have when a customer hits the site, which ends up being a far more accurate assessment of the application quality.  It also allows you to fully test AJAX and JavaScript scenarios.</p>
<p>What I think would be interesting to measure in an application is what percentage of bugs you find/fix using UI integration testing vs. mock-based HTTP tests.  I&#8217;ve only seen data from a few projects so far (and would love to hear more experiences), but from what I&#8217;ve seen measured, people have found that the integration UI testing approach has a significantly higher bug found per test ratio, and also seems to yield a higher rate of return when identifying regressions.</p>
<p>I wouldn&#8217;t argue that this replaces the need for Mock based UI server code testing (which again has the benefit of being able to be run much faster than automated browser testing, and so can be invaluable with quick refactoring regression checking).  But I think it does point to:</p>
<p>1) the need to have both types of tests within your projects</p>
<p>2) the need to quantifiably track and measure the ROI you are seeing within your test suites, and potentially adjust the ratio of tests you write based on it.</p>
<p>3) the need to make sure teams and team members internalize the importance of making sure the application actually works, as opposed to being purely focused on code-coverage numbers.</p>
<p>For Mock based Http testing of ASP.NET (both WebForms and non-WebForms requests), definitely check out the Plasma project above.  I think it has the potential to give you what you want to doing functional unit testing on the server of ASP.NET WebForms and UI controls.</p>
<p>For integration testing of ASP.NET (or JSP/PHP/Rails) check out either WatiN (which provides a .NET object model) or Watir (the origional which uses a Ruby model) for doing more end to end UI testing within a browser.</p>
<p>Both Plasma and WatiN can be integrated into any .NET unit testing framework today.</p>
<p>Hope this helps,</p>
<p>Scott</p>
<p>P.S. Note that in VS Orcas the Unit Testing framework and test running features are being moved down from the VSTS SKU into the Visual Studio Professional SKU.  This will make them much more broadly available, and allow them to be integrated into any Visual Studio project.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1609">
					<div id="dsq-comment-header-1609" class="dsq-comment-header">
						<cite id="dsq-cite-1609">
	http://www.ayende.com/Blog							<span id="dsq-author-user-1609">Ayende Rahien</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1609" class="dsq-comment-body">
						<div id="dsq-comment-message-1609" class="dsq-comment-message"><p>@Steve,<br />
If you look at Jeremy&#8217;s list of required features, we can do it all today (Castle.MonoRail.TestSupport), by basically hosting the ASP.Net runtime in process.<br />
The problem with this is that:<br />
- You have no way to provide alternative config file to ASP.Net, &#8220;web.config&#8221; is literally hard coded into the runtime.<br />
- Performance is extremely prohibitive, I kid you not when I say that I find testing via the browser to be on par with this approach.</p>
<p>My own list include:<br />
- Can&#8217;t create a usable instance of a page outside of ASP.Net context<br />
- Can&#8217;t carry out useful conversation with the page (several interactions with it)</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1610">
					<div id="dsq-comment-header-1610" class="dsq-comment-header">
						<cite id="dsq-cite-1610">
								<span id="dsq-author-user-1610">Steve</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1610" class="dsq-comment-body">
						<div id="dsq-comment-message-1610" class="dsq-comment-message"><p>Scott,</p>
<p>I think your comment deserves it&#8217;s own post &#8211; I recommend posting it on your blog or something.</p>
<p>There is alot of good information in there.</p>
<p>Brings to mind: there is soooo much information out there, it&#8217;s hard to get it in one good spot, I do think this is all good for the .net community &#8211; the more we learn about the different ways people are addressing the same issues, the better we call become as developers.  </p>
<p>Thanks</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1611">
					<div id="dsq-comment-header-1611" class="dsq-comment-header">
						<cite id="dsq-cite-1611">
	http://weblogs.asp.net/astopford							<span id="dsq-author-user-1611">Andy Stopford</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1611" class="dsq-comment-body">
						<div id="dsq-comment-message-1611" class="dsq-comment-message"><p>This is something I have said several times of my own and others blogs and its worth saying one more time in the context of this post. Fundmentaly webforms leaks abstractions. Breaking off the layers to give clearer seperation of concerns is one approach but still the view and controller are bound to each other. I can&#8217;t TDD operations into my controller easily because its bound to my view so tightly. Creating a extended controller/presenter is one approach but its messy, really messy when the abstraction should be in place in the first place.</p>
<p>The pipline approach to context is one approach but surely it makes more sense to unseal context and provide a interface type to mock against? I want my context class to be a plain old object and not need to jump through masses of hoops to mock it. </p>
<p>I am not sure if Mix is the right venu, PDC prehaps? but I&#8217;d like to see an open discussion forum that can show case some of the solutions to using patterns and improving testability in the ASP.NET world. </p>
<p>It&#8217;s great to see Scott in the discussion, I know  of no-one else who works as hard as he does to address these kinds of concerns. Lets keep the discussion going&#8230;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1612">
					<div id="dsq-comment-header-1612" class="dsq-comment-header">
						<cite id="dsq-cite-1612">
	http://weblogs.asp.net/astopford							<span id="dsq-author-user-1612">Andy Stopford</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1612" class="dsq-comment-body">
						<div id="dsq-comment-message-1612" class="dsq-comment-message"><p>Another point <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>>>What I think would be interesting to measure in an application is what percentage of bugs you find/fix using UI integration testing vs. mock-based HTTP tests</p>
<p>Doing that form of testing is only one scale of testing, I would be doing this testing AFTER unit testing and not before it and not to replace it. To test a webform view/codebehind I have to test it using integration testing.</p>
<p>people have found that the integration UI testing approach has a significantly higher bug found per test ratio, and also seems to yield a higher rate of return when identifying regressions.</p>
<p>I want to test at the unit level to help me test one piece at a time, integration testing means I am testing several different things at a time.  Can I ensure that my code coverage is enough with a IT and will all IT give me the coverage I need. IT also means your testing several different things with different context&#8217;s etc is your testing really effective enough at the IT level to cover all the possible combinations of context&#8217;s?  Really you want to test one peice at a time because it&#8217;s simpler to do and you should&#8217;nt ever need to worry about context at all.  You can also ensure that your tests for the unit of code covers enough to ensure its tested to its fullest and is done so with needing to worry about everything else around it. When I am happy with the unit level then I can move to integration testing and ensuring that it meets the needs of my application and nothing beyond it. </p>
<p>Doing IT testing in the webform world is just about the only way you can test a webform so its very commonly done. It does make it right though, and for all the reasons above its something that would be better to change.</p>
<p>Breaking away from Agile for a second, the importance of patterns and testing on the unit and integration level is a corner stone of things like the V-Model and RUP. Certainly in the V-Model it&#8217;s a requirement that you unit testing comes before IT so thats not something you would miss.</p>
<p>Returning to patterns, a pattern like MVC\MVP seperates the concerns and creates the abstraction you need to test effectivly. Just as Jeremy says Rails bakes in MVC so you have all of these things. No one seems to have mentioned Castle yet so let me say that you get the same thing in MonoRail and its ASP.NET.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1613">
					<div id="dsq-comment-header-1613" class="dsq-comment-header">
						<cite id="dsq-cite-1613">
	http://weblogs.asp.net/astopford							<span id="dsq-author-user-1613">Andrew Stopford</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1613" class="dsq-comment-body">
						<div id="dsq-comment-message-1613" class="dsq-comment-message"><p>Apologies for the typos, no way to edit the post so instead&#8230;</p>
<p>Doing IT testing in the webform world is just about the only way you can test a webform so its very commonly done. It does NOT make it right though, and for all the reasons above its something that would be better to change.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1614">
					<div id="dsq-comment-header-1614" class="dsq-comment-header">
						<cite id="dsq-cite-1614">
	http://www.codebetter.com/blogs/jay.kimble							<span id="dsq-author-user-1614">jkimble</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1614" class="dsq-comment-body">
						<div id="dsq-comment-message-1614" class="dsq-comment-message"><p>I just wanted to publicly thank Jeremy for responding&#8230; Ok, I baited you Jeremy&#8230; I knew you couldn&#8217;t resist, and I&#8217;m glad you did respond&#8230; </p>
<p>I read this post this morning and now I think I need to re-read it&#8230; dang!  Lot&#8217;s of good info here.  </p>
<p>Jay</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1615">
					<div id="dsq-comment-header-1615" class="dsq-comment-header">
						<cite id="dsq-cite-1615">
								<span id="dsq-author-user-1615">Dee</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1615" class="dsq-comment-body">
						<div id="dsq-comment-message-1615" class="dsq-comment-message"><p>This article/discussion seems to have lost it&#8217;s perspective. </p>
<p>Websites rarely have the luxury or the budget to develop in a TDD driven concept.  The lifespan of a website is too short to support the cost.  TDD development is taking the approach of desktop development and is flawed in it&#8217;s belief that owners will accept the cost of TDD driven ASP development over the cost of opensource MVC development.</p>
<p>There is no MVC model in ASP.net.  Scott&#8217;s complex solution described above only exacerbates the cost issue and reflects the perspective of a developer who works for a company like Microsoft or Google with unlimited cash on hand.</p>
<p>Real companies have to cut costs everywhere and can only afford to develop efficiently.  There&#8217;s nothing efficient about trying to do TDD development with webcontrols. </p>
<p>It&#8217;s a square peg in a round hole problem.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1616">
					<div id="dsq-comment-header-1616" class="dsq-comment-header">
						<cite id="dsq-cite-1616">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-1616">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1616" class="dsq-comment-body">
						<div id="dsq-comment-message-1616" class="dsq-comment-message"><p>Dee,</p>
<p>Obviously I&#8217;m going to disagree with you;)  </p>
<p>Couple things Dee,</p>
<p>1.)  I think developing with TDD is faster than developing without, otherwise I certainly wouldn&#8217;t be in favor of using TDD.  Yes, it is easier to do TDD with WinForms and server code, but I think you can work more efficiently in the whole with TDD doing WebForms than WebForms without TDD.  </p>
<p>2.)  Actually, I think you supported my arguments a bit.  WebForms isn&#8217;t all that testable without force fitting an MVP structure in.  Testability, and the relative simplicity in comparison to ASP.Net, is what would attract me to MonoRail. </p>
<p>&#8220;There&#8217;s nothing efficient about trying to do TDD development with webcontrols&#8221;</p>
<p>Let&#8217;s make it be efficient, that was kind of my point.</p>
<p>There&#8217;s another post in here&#8230;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1617">
					<div id="dsq-comment-header-1617" class="dsq-comment-header">
						<cite id="dsq-cite-1617">
	http://weblogs.asp.net/scottgu							<span id="dsq-author-user-1617">ScottGu</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1617" class="dsq-comment-body">
						<div id="dsq-comment-message-1617" class="dsq-comment-message"><p>Dee/Jeremy/Andrew &#8211; how are you testing your views today?  Specifically, are you testing the output of your HTML and the JavaScript interactions in the browser?  </p>
<p>As I mentioned in most origional comment above, if you aren&#8217;t testing your view, then you really aren&#8217;t testing your UI.  </p>
<p>Testing the controller/code-behind alone, while ceretainly better than nothing, is a relatively small part of testing UI, and all quantitative data I&#8217;ve seen indicates that it identifies only a small number of the total bugs in a web UI.</p>
<p>I&#8217;m not tryin to make a MVC vs. MVP vs WebForms argument.  What I am arguing is that regardless of which approach you pick, you need to look at the real-world quality implications of your testing approach.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1618">
					<div id="dsq-comment-header-1618" class="dsq-comment-header">
						<cite id="dsq-cite-1618">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-1618">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1618" class="dsq-comment-body">
						<div id="dsq-comment-message-1618" class="dsq-comment-message"><p>Scott,</p>
<p>I&#8217;m mostly doing WinForms development at the moment (w/MVP and testing views through NUnitForms).  On my last ASP.Net project, we used a strict Model View Presenter pattern architecture, tested the controllers in isolation, then and only then hit the UI itself with Selenium RC &#038; FitNesse.</p>
<p>I&#8217;d argue with you somewhat on the effectiveness of MVP and controller testing.  There&#8217;s a lot of code in any nontrivial web app that has nothing to do with the final html generated, and its vastly better to test *that* code without going through th e UI.  Testing small before testing big is the most cost effective way to test an application in my book.  That&#8217;s why I think it would be such a big win to do much more isolated view testing without having to fire up IIS and run a whole web page.</p>
<p>Granted, I still think the MVP technique is much more effective with WinForms, but all the same I still see problems getting removed from the code faster with MVP than without.  The reason I don&#8217;t think MVP is as effective in WebForms as it could be is that the WebForms &#8220;abstraction&#8221; leaks.  Mocking the view isn&#8217;t really enough, because you always end up with some debugging time getting the event cycle just right.</p>
<p>I&#8217;m at the MVP Summit next week if you&#8217;d like to discuss this more.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1619">
					<div id="dsq-comment-header-1619" class="dsq-comment-header">
						<cite id="dsq-cite-1619">
								<span id="dsq-author-user-1619">Dee</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1619" class="dsq-comment-body">
						<div id="dsq-comment-message-1619" class="dsq-comment-message"><p>The webforms /pages I develop are tested simply by adding trace code  to the page to confirm information being processed.</p>
<p>It&#8217;s simply on or off.  </p>
<p>Since most web site owners won&#8217;t pay for documentation, let alone TDD, this has been the simple effective solution.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1620">
					<div id="dsq-comment-header-1620" class="dsq-comment-header">
						<cite id="dsq-cite-1620">
	http://exceptionz.wordpress.com							<span id="dsq-author-user-1620">Maruis Marais</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1620" class="dsq-comment-body">
						<div id="dsq-comment-message-1620" class="dsq-comment-message"><p>Dee, Don&#8217;t you think it is time for us as developers of these websites to start saying no to the site owners? I&#8217;m currently in a contract developing an ASP.NET site and we have a manager who thinks that he can always reduce the estimated time down by 30 &#8211; 50%. I&#8217;m sure he also believe that he can put nine woman in a room and produce a baby in a month.</p>
<p>I&#8217;ve also found that less-experienced developers tend to say &#8216;yes&#8217; more often without realizing the knock-on effect their decision will have on the overall health of the project or source code.</p>
<p>What I think we should do is explain why we need to practice TDD, CI and OO principles when developing their web sites. At the end of the day, these practices will save them money and allow them to have a much superior web site. I&#8217;ll quote my existing contract again, at the moment they have so much technical debt in their code  base that the new functionality added had such a low coding velocity it was scary. As an example, we had to add two additional fields to the User Registration section, this trivial task took 3 days!! Why? The existing code had multiple duplications of the exact same functionality. The in-house development team believe that creating an abstraction layer for the functionality would increase complexity. </p>
<p>What do you think?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1621">
					<div id="dsq-comment-header-1621" class="dsq-comment-header">
						<cite id="dsq-cite-1621">
								<span id="dsq-author-user-1621">Dee</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1621" class="dsq-comment-body">
						<div id="dsq-comment-message-1621" class="dsq-comment-message"><p>Maruis, </p>
<p>Unfortunately, I still have to pay my bills and eat.  The answer is quite easy, I don&#8217;t get paid to say &#8220;no&#8221; .  </p>
<p>There&#8217;s not that much work out there that I can pick and choose my customers.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1622">
					<div id="dsq-comment-header-1622" class="dsq-comment-header">
						<cite id="dsq-cite-1622">
	http://weblogs.asp.net/astopford							<span id="dsq-author-user-1622">Andy Stopford</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1622" class="dsq-comment-body">
						<div id="dsq-comment-message-1622" class="dsq-comment-message"><p>Scott &#8211; The trouble with testing large but you test small is that you have no idea what impacts what. If code a calls code b but code b has a defect that code effect code a, and you would have no idea whats going on (and out comes your debugger\tracelines to find out). Testing small means you test in isolation so you can be sure your code behaves as it should, a unit at a time, time after time.  I&#8217;d like to see the metrics for Rails\MonoRail projects that bake in unit level testing to see how they compare to defects found at a fuctional level.</p>
<p>Dee &#8211; your counter arguements both here and my blog are around cost so lets explore that. It  costs for you to find bugs, it costs for you to fix bugs, it costs for you to add new features/change things and by the very nature of doing so prehaps causing bugs &#8211; repeat. Websites are not that short lived unless its a very simple site, for lets say a ecommerce site its a non stop process of development where a defect could cause a business a lot.  The process of QA is aimed at saving the business money both in downtime and in development time.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1623">
					<div id="dsq-comment-header-1623" class="dsq-comment-header">
						<cite id="dsq-cite-1623">
	http://weblogs.asp.net/astopford							<span id="dsq-author-user-1623">Andy Stopford</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1623" class="dsq-comment-body">
						<div id="dsq-comment-message-1623" class="dsq-comment-message"><p>Scott to answer your question. I use MVC to test actions on the controller and model at a unit level first then test at a functional level next. UI interactions between the UI (lets say JS into the DOM) are tested at the functional level but anything that involves the UI and the controller has been tested in isolation first.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1624">
					<div id="dsq-comment-header-1624" class="dsq-comment-header">
						<cite id="dsq-cite-1624">
								<span id="dsq-author-user-1624">Dee</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1624" class="dsq-comment-body">
						<div id="dsq-comment-message-1624" class="dsq-comment-message"><p>Andy:</p>
<p>If I bid jobs based upon full blown development with TDD and documentation, I never win the bid &#8211; period.</p>
<p>I&#8217;m not saying debugging is free.  I&#8217;m simply saying writing TDD code is too expensive for the ASP.net world.  There are simpler less expensive ways to get the job done, at least in my experience.  I don&#8217;t know about the desktop development world because I don&#8217;t do that.</p>
<p>In websites, that I know, they are constantly growing in scope, changing in features, and updating technology.  This to me makes them short-lived.</p>
<p>Just consider the short life of the ASP/IIS/sql server technology versions.</p>
<p>MS is moving towards code free development and that seems to be inconsistent with the concept of TDD, which further questions the value of doing this work.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1625">
					<div id="dsq-comment-header-1625" class="dsq-comment-header">
						<cite id="dsq-cite-1625">
								<span id="dsq-author-user-1625">Carlton</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1625" class="dsq-comment-body">
						<div id="dsq-comment-message-1625" class="dsq-comment-message"><p>OT &#8211; listening to some of the comments here I am reminded of Weinberg&#8217;s &#8220;Secrets of Consulting&#8221;: if you cannot say &#8220;no&#8221; to your clients, then they likely have too much of your business.  Not being able to say &#8220;no&#8221; often times leads to not giving them the information they need to hear.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1626">
					<div id="dsq-comment-header-1626" class="dsq-comment-header">
						<cite id="dsq-cite-1626">
								<span id="dsq-author-user-1626">Carlton</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1626" class="dsq-comment-body">
						<div id="dsq-comment-message-1626" class="dsq-comment-message"><p>&#8220;Code free development&#8221;? </p>
<p>And I was concerned about job security just a short while ago?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1627">
					<div id="dsq-comment-header-1627" class="dsq-comment-header">
						<cite id="dsq-cite-1627">
								<span id="dsq-author-user-1627">Andy Alm</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1627" class="dsq-comment-body">
						<div id="dsq-comment-message-1627" class="dsq-comment-message"><p>I realize I&#8217;m jumping into this discussion a little late, but I have to say that post gets me real excited.  Jeremy, the points you make in this post are right on IMHO, and this discussion is something I think is long overdue in the ASP.NET world.</p>
<p>I think your best point was asking the question, why do I have to go to so much work to test ASP.NET?  Sure, its possible as ScottGu pointed out above with an excellent link, but why is it so much work, and where is the guidence on how and why to do this stuff?  I have yet to find an ASP.NET book on the shelf that goes into these issues with any kind of depth.  And in fact, most of the code samples you see in books and MSDN do all kinds of work in the code behind.  Rarely is there a mention of separation of concerns with an MVC or MVP.  Contrast that with Rails&#8230;its all baked in.  I have yet to see a Rails book not talk about testability.  And the whole framework pretty much forces you to separate out your concerns into a Model, View, and Controller.  Sure, its still possible to write crappy Rails code, but it nudges you in the right way, while ASP.NET does the exact opposite.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1628">
					<div id="dsq-comment-header-1628" class="dsq-comment-header">
						<cite id="dsq-cite-1628">
	http://blog.tieredsolutions.com							<span id="dsq-author-user-1628">Darrell Russell</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1628" class="dsq-comment-body">
						<div id="dsq-comment-message-1628" class="dsq-comment-message"><p>Dee:</p>
<p>I see where your coming from, if I&#8217;m developing an uncomplicated solution all by myself then, yes, I can throw all the testing out of the window .. code to the spec (if I have one) and figure it all out in my head. The smarter you are the more complex the solution can be and this &#8220;technique&#8221; will still work.</p>
<p>However, there is a point at which this kind of attitude simply dies a death. If the system involves, say, a team working on different parts of a solution that is even mildly complex then sooner or later if your not following some kind of test strategy it&#8217;s all going to end in tears and frustration.</p>
<p>I&#8217;m guessing the work your talking about is the former rather than the latter?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1629">
					<div id="dsq-comment-header-1629" class="dsq-comment-header">
						<cite id="dsq-cite-1629">
	http://www.incisif.net							<span id="dsq-author-user-1629">Frederic Torres</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1629" class="dsq-comment-body">
						<div id="dsq-comment-message-1629" class="dsq-comment-message"><p>Man, what a post and nice exchanges.</p>
<p>At InCisif Software we tried to make asp.net app testing a little bit easier.</p>
<p>Give it a try.</p>
<p>InCisif.net is an automation tool designed to implement client-side functional testing of web applications under Internet Explorer 6.x or 7.x, using the C#, VB.NET or IronPython languages with Visual Studio 2003, 2005 or express editions.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-1630">
					<div id="dsq-comment-header-1630" class="dsq-comment-header">
						<cite id="dsq-cite-1630">
								<span id="dsq-author-user-1630">Richard F</span>
							</cite>
					</div>
					<div id="dsq-comment-body-1630" class="dsq-comment-body">
						<div id="dsq-comment-message-1630" class="dsq-comment-message"><p>It seems as if your tagcloud/ site is broken at present. Keen to read your CI posts. Sort it out mate!! <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' />  </p>
<p>Cheers,<br />
- Richard</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/jeremymiller/2007/03/07/jays-tdd-quickstart-and-the-underlying-problems-he-stumbled-into/ ';
	var disqus_identifier = '294 /blogs/jeremy.miller/archive/2007/03/07/Jay_2700_s-TDD-QuickStart_2C00_-and-the-underlying-problems-he-stumbled-into.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'theshadetreedeveloper';
	var disqus_title = "Jay&#8217;s TDD QuickStart, and the underlying problems he stumbled into";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=294');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/jeremymiller/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2007\/03\/07\/jays-tdd-quickstart-and-the-underlying-problems-he-stumbled-into\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments">Michael Meadows on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6754">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments">InspiringCode on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6753">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments"><a href='http://codeofrob.com/' rel='external nofollow' class='url'>Rob Ashton</a> on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6752">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments"><a href='http://www.best-registrycleaner.net' rel='external nofollow' class='url'>Best Registry Cleaner</a> on <a href="http://codebetter.com/jeremymiller/2009/01/20/create-your-own-auto-registration-convention-with-structuremap/#comment-6747">Create your own Auto Registration Convention with StructureMap</a></li><li class="recentcomments">Eric Turnbow on <a href="http://codebetter.com/jeremymiller/2005/11/07/using-the-chain-of-responsibility-pattern/#comment-6745">Using the Chain of Responsibility Pattern</a></li></ul></li>				</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter//third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.363 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-24 14:09:34 -->
<!-- super cache -->