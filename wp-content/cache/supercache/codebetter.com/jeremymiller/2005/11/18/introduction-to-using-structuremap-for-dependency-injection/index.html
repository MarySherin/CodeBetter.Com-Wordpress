<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Introduction to using StructureMap for Dependency Injection | Jeremy D. Miller</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jeremymiller/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/jeremymiller/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jeremymiller/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/jeremymiller/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Jeremy D. Miller' href='http://codebetter.com/jeremymiller/' />
<link rel='start' title='Bypass VSTS and get yourself a &quot;Poor Man&#8217;s IntelliJ&quot;' href='http://codebetter.com/jeremymiller/2005/04/12/bypass-vsts-and-get-yourself-a-poor-mans-intellij/' />
<link rel='prev' title='Microsoft’s recommendations for Test Driven Development are wrong!' href='http://codebetter.com/jeremymiller/2005/11/18/microsoft%e2%80%99s-recommendations-for-test-driven-development-are-wrong/' />
<link rel='next' title='Ordering Code Construction Tasks' href='http://codebetter.com/jeremymiller/2005/11/26/ordering-code-construction-tasks/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/jeremymiller/2005/11/18/introduction-to-using-structuremap-for-dependency-injection/' />
<link rel='shortlink' href='http://codebetter.com/jeremymiller/?p=109' />
<link rel="stylesheet" href="http://codebetter.com/jeremymiller/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/theshadetreedeveloper/disqus.css?v=2.0" type="text/css" media="screen" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/jeremymiller/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-109" class="post-109 post type-post status-publish format-standard hentry category-structuremap">
					<h1 class="entry-title">Introduction to using StructureMap for Dependency Injection</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">Jeremy Miller</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jeremymiller/2005/11/18/introduction-to-using-structuremap-for-dependency-injection/" title="2:39 pm" rel="bookmark"><span class="entry-date">November 18, 2005</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jeremymiller/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/jeremymiller/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jeremymiller/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p><P class="MsoNormal"><A href="http://structuremap.sourceforge.net/">StructureMap</A> is an open source tool I’ve written for <A href="/blogs/jeremy.miller/archive/2005/10/06/132825.aspx">Dependency Injection</A> support in .Net.<SPAN>&nbsp; </SPAN>This past week I’ve had a couple requests for a gentle introduction to StructureMap, so here’s my first attempt.<SPAN>&nbsp; </SPAN>Typically I use StructureMap in a handful of ways:</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<OL type="1"><br />
<LI class="MsoNormal">Configuration and creation of services (little “s”) that my code depends upon.<SPAN>&nbsp; </SPAN>By service here I don’t necessarily mean SOA and web services, but web service proxy classes are an automatic candidate for StructureMap configuration.<SPAN>&nbsp; </SPAN>I’m referring to subsystems of your application like logging modules, persistence, gateways to other systems, or really anything that you don’t want your code to be tightly coupled to.<br />
<LI class="MsoNormal">Object composition.<SPAN>&nbsp; </SPAN>Code reuse and unit testing is easier when you favor composition over inheritance relationships, but composition implies that you need to some mechanical coding work just to put the object graph together.<SPAN>&nbsp; </SPAN>This is where StructureMap comes into play.<br />
<LI class="MsoNormal"><A href="/blogs/jeremy.miller/archive/2005/09/13/131897.aspx">Plugin</A> support.<SPAN>&nbsp; </SPAN>Occasionally there is a real need for pluggable, extensible application frameworks. </LI></OL><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><B>A Contrived Example</B></P><br />
<P class="MsoNormal"><B>&nbsp;</B></P><br />
<P class="MsoNormal">Let’s say you’re an integration developer in a shop with a crazily mixed bag of applications floating around a big central database.<SPAN>&nbsp; </SPAN>You want to write a pluggable infrastructure for batch scheduling little integration tasks.<SPAN>&nbsp; </SPAN>You may need to pull data by a sql query, a stored procedure, or by opening a file – then do something with the data.<SPAN>&nbsp; </SPAN>All you really know is that the possible sources of the data and the actions on the data will change over time.<SPAN>&nbsp; </SPAN>You might decide to create a pluggable framework using StructureMap to handle the configuration (Okay, in reality you would probably buy something off of the shelf or utilize DTS out of the box, but I needed an example).</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal">First off, let’s ignore the configuration schema and concentrate on defining a set of interfaces and roles for our “Trigger” framework.<SPAN>&nbsp; </SPAN>The main interface will be this:</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>interface</SPAN> ITrigger</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>// Do whatever it is that you do</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>void</SPAN> Execute();</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>// Tell me when you want to run next</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DateTime NextExecutionTime();</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal">Configuring the most basic trigger class will define the mechanism to retrieve the data, an action to perform on the data, and a strategy for determining the next run time (next Monday, the top of the next hour, the last day of the month, etc.).<SPAN>&nbsp; </SPAN>That adds the following code:</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>[Pluggable("Basic")] <SPAN>// Tell StructureMap that it &#8220;builds&#8221; this class and that it&#8217;s alias is &#8220;Basic&#8221;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>class</SPAN> Trigger : ITrigger</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>private</SPAN> <SPAN>readonly</SPAN> IScheduler _scheduler;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>private</SPAN> <SPAN>readonly</SPAN> IDataSource _source;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>private</SPAN> <SPAN>readonly</SPAN> IAction _action;</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> Trigger(IScheduler scheduler, IDataSource source, IAction action)</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>_scheduler = scheduler;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>_source = source;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>_action = action;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>void</SPAN> Execute()</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DataTable table = _source.FetchTable();</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>_action.Process(table);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> DateTime NextExecutionTime()</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>return</SPAN> _scheduler.GetNextRunTime(DateTime.Now);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>interface</SPAN> IDataSource</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DataTable FetchTable();</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>interface</SPAN> IAction</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>void</SPAN> Process(DataTable table);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>interface</SPAN> IScheduler</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DateTime GetNextRunTime(DateTime currentTime);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal">The first Trigger that we’re going to need to build is going to daily run a SQL query against the central database, and then email the results to an unlucky support person for resolution.<SPAN>&nbsp; </SPAN>First we create the little classes for the scheduling, data source, and the action.</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>[Pluggable("SQL")]</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>class</SPAN> SqlDataSource : IDataSource</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>private</SPAN> <SPAN>readonly</SPAN> <SPAN>string</SPAN> _sql;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>private</SPAN> <SPAN>readonly</SPAN> IDatabase _database;</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> SqlDataSource(IDatabase database, <SPAN>string</SPAN> sql)</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>_sql = sql;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>_database = database;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> DataTable FetchTable()</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>return</SPAN> _database.FetchDataTable(_sql);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>[Pluggable("Email")]</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>class</SPAN> EmailAction : IAction</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> EmailAction(<SPAN>string</SPAN> to, <SPAN>string</SPAN> body){…}</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>void</SPAN> Process(DataTable table){…}</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>[Pluggable("Daily")]</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>class</SPAN> DailyScheduler : IScheduler</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> DailyScheduler(){}</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> DateTime GetNextRunTime(DateTime currentTime){…}</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal">SqlDataSource itself depends upon the IDatabase interface that provides access to an underlying database and handles the raw ADO.Net manipulation.<SPAN>&nbsp; </SPAN>Let’s say that the central database is a Sql Server database (but I’m starting to miss good old reliable Oracle).<SPAN>&nbsp; </SPAN>That adds the following to the code:</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>interface</SPAN> IDatabase</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DataTable FetchDataTable(<SPAN>string</SPAN> sql);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>void</SPAN> SetStoredProcedureName(<SPAN>string</SPAN> storedProcedureName);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>void</SPAN> SetParameter(<SPAN>string</SPAN> parameterName, <SPAN>object</SPAN> parameterValue);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DataTable FetchDataTableFromStoredProcedure();</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>class</SPAN> SqlDatabase : IDatabase {…}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal">Okay, now we can finally make our StructureMap configuration to create the object graph for our first Trigger.<SPAN>&nbsp; </SPAN>The first thing we need to do is create a file named “StructureMap.config” that will be copied to the application directory.<SPAN>&nbsp; </SPAN>At a minimum, we need to define four things for StructureMap:</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<OL type="1"><br />
<LI class="MsoNormal">&lt;Assembly&gt; &#8211; The .Net assemblies to scan for possible interfaces and classes to be built by StructureMap<br />
<LI class="MsoNormal">&lt;PluginFamily&gt; &#8211; The .Net types that can be requested from StructureMap.<SPAN>&nbsp; </SPAN>In our case this would be the ITrigger, IDataSource, IAction, and IScheduler interfaces.<SPAN>&nbsp; </SPAN>It can also be abstract or concrete classes as well.<br />
<LI class="MsoNormal">&lt;Plugin&gt; &#8211; The concrete .Net types that will implement the interfaces of the PluginFamily types.<br />
<LI class="MsoNormal">&lt;Instance&gt; &#8211; The actual object graph configurations.<SPAN>&nbsp; </SPAN>Notice that we didn’t do anything special in our classes to enable StructureMap (except the [Pluggable] attributes).<SPAN>&nbsp; </SPAN>All you need to do to enable your class to be configured by StructureMap is to take in all dependencies and properties in a constructor function.<SPAN>&nbsp; </SPAN>StructureMap also supports “Setter Injection,” but that’s really just meant for Types that aren’t under your control.</LI></OL><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal">Jumping into the StructureMap.config file we’ll first configure the default IDatabase instance to point to the central Sql Server database.</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><SPAN>&lt;?</SPAN><SPAN>xml</SPAN><SPAN> </SPAN><SPAN>version</SPAN><SPAN>=&#8221;1.0&#8243;</SPAN><SPAN> </SPAN><SPAN>encoding</SPAN><SPAN>=&#8221;utf-8&#8243;</SPAN><SPAN> </SPAN><SPAN>?&gt;</SPAN></P><br />
<P class="MsoNormal"><SPAN>&lt;</SPAN><SPAN>StructureMap</SPAN><SPAN>&gt;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; Tell StructureMap to scan the StructureMapSample.dll assembly for possible PluginFamily&#8217;s and Plugin&#8217;s &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Assembly</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;StructureMapSample&#8221;</SPAN><SPAN> </SPAN><SPAN>/&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; Define a PluginFamily for IDatabase, making the default instance &#8220;CentralDatabase&#8221; &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>PluginFamily</SPAN><SPAN> </SPAN><SPAN>Assembly</SPAN><SPAN>=&#8221;StructureMapSample&#8221;</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;StructureMapSample.IDatabase&#8221;</SPAN><SPAN> </SPAN><SPAN>DefaultKey</SPAN><SPAN>=&#8221;CentralDatabase&#8221;&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; Tell StructureMap that the SqlDatabase class is a plugin to IDatabase called &#8220;MicrosoftSqlServer&#8221; &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Plugin</SPAN><SPAN> </SPAN><SPAN>Assembly</SPAN><SPAN>=&#8221;StructureMapSample&#8221;</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;StructureMapSample.SqlDatabase&#8221;</SPAN><SPAN> </SPAN><SPAN>ConcreteKey</SPAN><SPAN>=&#8221;MicrosoftSqlServer&#8221;/&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; Configure the &#8220;CentralDatabase&#8221; instance of IDatabase.<SPAN>&nbsp; </SPAN>The &lt;Property&gt; nodes define the arguments to the constructor</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>functions &#8211;</SPAN><SPAN>&gt;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Instance</SPAN><SPAN> </SPAN><SPAN>Key</SPAN><SPAN>=&#8221;CentralDatabase&#8221;</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;MicrosoftSqlServer&#8221;&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Property</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;connectionString&#8221;</SPAN><SPAN> </SPAN><SPAN>Value</SPAN><SPAN>=&#8221;connection string to somewhere&#8230;&#8221;/&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;/</SPAN><SPAN>Instance</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;/</SPAN><SPAN>PluginFamily</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN>&lt;/</SPAN><SPAN>StructureMap</SPAN><SPAN>&gt;</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal">With this configuration we could at anytime in our code type <SPAN>IDatabase database = (IDatabase) ObjectFactory.GetInstance(typeof(IDatabase));</SPAN> to get a configured instance of the <SPAN>SqlDatabase</SPAN> class with the connection string set.<SPAN>&nbsp; </SPAN>If the database changed to Oracle or DB2 later, only the configuration to create a different concrete <SPAN>IDatabase</SPAN> class would be changed (yeah right).<SPAN>&nbsp; </SPAN>In this case I defined the Plugin explicitly in the XML configuration.<SPAN>&nbsp; </SPAN>The <SPAN>[Pluggable(“My Plugin Alias”)] </SPAN>attribute is an equivalent mechanism to using the &lt;Plugin&gt; node.<SPAN>&nbsp; </SPAN>I prefer the attributes wherever possible, but some people feel differently.<SPAN>&nbsp; </SPAN></P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal">Moving on to the first Trigger instance, we would add a <SPAN>&lt;PluginFamily&gt;</SPAN> node for <SPAN>ITrigger</SPAN> and an <SPAN>&lt;Instance&gt;</SPAN> node for the object graph for the first Trigger.</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>PluginFamily</SPAN><SPAN> </SPAN><SPAN>Assembly</SPAN><SPAN>=&#8221;StructureMapSample&#8221;</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;StructureMapSample.ITrigger&#8221;&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; Create a BasicTrigger object, and give it a DailyScheduler, &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; Uses the public Trigger(IScheduler scheduler, IDataSource source, IAction action) constructor function &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Instance</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;Basic&#8221;</SPAN><SPAN> </SPAN><SPAN>Key</SPAN><SPAN>=&#8221;MyFirstTrigger&#8221;&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; DailyScheduler &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Property</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;scheduler&#8221;</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;Daily&#8221;</SPAN><SPAN> </SPAN><SPAN>/&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; SqlDataSource(IDatabase database, string sql) &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; By leaving off an explicit definition for &#8220;database&#8221; StructureMap will use the default</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>&#8220;CentralDatabase&#8221; instance &#8211;</SPAN><SPAN>&gt;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Property</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;source&#8221;</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;SQL&#8221;&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Property</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;sql&#8221;</SPAN><SPAN> </SPAN><SPAN>Value</SPAN><SPAN>=&#8221;select * from errorlog&#8221;/&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;/</SPAN><SPAN>Property</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;!</SPAN><SPAN>&#8211; public EmailAction(string to, string body) &#8211;</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Property</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;action&#8221;</SPAN><SPAN> </SPAN><SPAN>Type</SPAN><SPAN>=&#8221;Email&#8221;&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Property</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;to&#8221;</SPAN><SPAN> </SPAN><SPAN>Value</SPAN><SPAN>=&#8221;poorfool@helpdesk.company.com&#8221;/&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;</SPAN><SPAN>Property</SPAN><SPAN> </SPAN><SPAN>Name</SPAN><SPAN>=&#8221;body&#8221;</SPAN><SPAN> </SPAN><SPAN>Value</SPAN><SPAN>=&#8221;Fix these now!&#8221;</SPAN><SPAN> </SPAN><SPAN>/&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;/</SPAN><SPAN>Property</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;/</SPAN><SPAN>Instance</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>&lt;/</SPAN><SPAN>PluginFamily</SPAN><SPAN>&gt;</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal">The Trigger framework can now create this instance by calling into StructureMap as something like this:</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>public</SPAN> <SPAN>void</SPAN> RunTriggers()</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>string</SPAN>[] triggersToRun = <SPAN>this</SPAN>.findTriggersToRun();</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>foreach</SPAN> (<SPAN>string</SPAN> triggerName <SPAN>in</SPAN> triggersToRun)</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>{</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>// Ask StructureMap to build the object instance</SPAN></SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>ITrigger trigger = </SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>(ITrigger) ObjectFactory.GetNamedInstance(<SPAN>typeof</SPAN>(ITrigger), triggerName);</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>trigger.Execute();</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>DateTime nextTime = trigger.NextExecutionTime();</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><SPAN>this</SPAN>.rescheduleTrigger(triggerName, nextTime);</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}</SPAN></P><br />
<P class="MsoNormal"><SPAN>&nbsp;</SPAN></P><br />
<P class="MsoNormal">Additional trigger’s could be created by simply configuring the object graphs into the StructureMap.config file as a new <SPAN>&lt;Instance&gt;</SPAN> node.<SPAN>&nbsp; </SPAN>The big advantage in this case is that StructureMap can quite happily accommodate any new classes that you create later to implement the ITrigger/IDataSource/IAction interfaces.<SPAN>&nbsp; </SPAN>You could even “plugin” all new assemblies to be used by your application without recompilation.<SPAN>&nbsp; </SPAN>That’s potentially a huge win for my company because of the sheer number of per client customizations that we have to do.</P><br />
<P class="MsoNormal">&nbsp;</P><br />
<P class="MsoNormal">There is far more information and an actual schema document at <A href="http://structuremap.sourceforge.net/">http://structuremap.sourceforge.net</A>.<SPAN>&nbsp; </SPAN>I threw this together in a hurry, so please let me know if this is useful or if something else is necessary to make the tool more clear.<SPAN>&nbsp; </SPAN>Sometime in the near-ish future I’ll post much more on some of the new capabilities for configuration management and environment testing that we’re building into StructureMap for complex build and staging scenarios.</P></p>
											</div><!-- .entry-content -->

					<div id="entry-author-info">
						<div id="author-avatar">
							<img alt='' src='http://1.gravatar.com/avatar/db65c5c5cf9f1c51e842f733892eace1?s=60&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D60&amp;r=G' class='avatar avatar-60 photo' height='60' width='60' />						</div><!-- #author-avatar 	-->
						<div id="author-description">
							<h2>About Jeremy Miller</h2>
							Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.							<div id="author-link">
								<a href="http://codebetter.com/jeremymiller/author/jeremymiller/" title="View all posts by Jeremy Miller">View all posts by Jeremy Miller &rarr;</a>
							</div><!-- #author-link	-->
						</div><!-- #author-description	-->
					</div><!-- .entry-author-info -->

					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jeremymiller/category/structuremap/" title="View all posts in StructureMap" rel="category tag">StructureMap</a>. Bookmark the <a href="http://codebetter.com/jeremymiller/2005/11/18/introduction-to-using-structuremap-for-dependency-injection/" title="Permalink to Introduction to using StructureMap for Dependency Injection" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jeremymiller/2005/11/18/introduction-to-using-structuremap-for-dependency-injection/feed/" title="Comments RSS to Introduction to using StructureMap for Dependency Injection" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-109 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jeremymiller/2005/11/18/microsoft%e2%80%99s-recommendations-for-test-driven-development-are-wrong/" rel="prev"><span class="meta-nav">&larr;</span> Microsoft’s recommendations for Test Driven Development are wrong!</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jeremymiller/2005/11/26/ordering-code-construction-tasks/" rel="next">Ordering Code Construction Tasks <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-375">
					<div id="dsq-comment-header-375" class="dsq-comment-header">
						<cite id="dsq-cite-375">
								<span id="dsq-author-user-375">Yi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-375" class="dsq-comment-body">
						<div id="dsq-comment-message-375" class="dsq-comment-message"><p>It&#8217;s really nice framework! I am going to use it in my project.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-376">
					<div id="dsq-comment-header-376" class="dsq-comment-header">
						<cite id="dsq-cite-376">
								<span id="dsq-author-user-376">Yi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-376" class="dsq-comment-body">
						<div id="dsq-comment-message-376" class="dsq-comment-message"><p>A quick question about ObjectFactory.GetInstance(typeof(IDatabase));. </p>
<p>Does the OjbectFactory caches the instance or it reads the configuration file and search the assembly every time GetInstance is called?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-377">
					<div id="dsq-comment-header-377" class="dsq-comment-header">
						<cite id="dsq-cite-377">
								<span id="dsq-author-user-377">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-377" class="dsq-comment-body">
						<div id="dsq-comment-message-377" class="dsq-comment-message"><p>Yi,</p>
<p>Not quite either.  Unless you explicitly specify the Scope property ObjectFactory.GetInstance() will return a new instance per request.</p>
<p>StructureMap largely caches the configuration.  Scanning assemblies and parsing the StructureMap.config file only happens once on the first call to ObjectFactory (unless you force the issue with ObjectFactory.ResetDefaults()).</p>
<p>Jeremy</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-378">
					<div id="dsq-comment-header-378" class="dsq-comment-header">
						<cite id="dsq-cite-378">
								<span id="dsq-author-user-378">Yi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-378" class="dsq-comment-body">
						<div id="dsq-comment-message-378" class="dsq-comment-message"><p>Thanks Jeremy! So by default, ObjectFactory creates new instance for each request. However, it reads config file and scans assemblies only once. I also find what you just said in the documentation:<br />
&#8220;New in version 1.0 is the ability to quickly define different creation modes.  This functionality can be configured with the new optional &#8220;Scope&#8221; property on the [PluginFamily] attribute or the &#8220;Scope&#8221; attribute on the
<pluginfamily> node.&#8221;</p>
<p>I just put in an Authentication Plugin for my project. I was kind of curious if StructureMap will increase the memory usage. I barely notice the difference. Very nice work! <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </pluginfamily>
</div>
					</div>
				</li>
					<li id="dsq-comment-379">
					<div id="dsq-comment-header-379" class="dsq-comment-header">
						<cite id="dsq-cite-379">
								<span id="dsq-author-user-379">Yi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-379" class="dsq-comment-body">
						<div id="dsq-comment-message-379" class="dsq-comment-message"><p>Hello Jeremy,</p>
<p>I wonder where I can find XSD file for the StructureMap.</p>
<p>Thanks!</p>
<p>Yi</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-380">
					<div id="dsq-comment-header-380" class="dsq-comment-header">
						<cite id="dsq-cite-380">
								<span id="dsq-author-user-380">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-380" class="dsq-comment-body">
						<div id="dsq-comment-message-380" class="dsq-comment-message"><p>Yi,</p>
<p>I&#8217;ve never made one.  Some of the nodes and attributes are dynamic, so it&#8217;s not really going to be possible anyway.</p>
<p>Sorry,</p>
<p>Jeremy</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-381">
					<div id="dsq-comment-header-381" class="dsq-comment-header">
						<cite id="dsq-cite-381">
								<span id="dsq-author-user-381">Yi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-381" class="dsq-comment-body">
						<div id="dsq-comment-message-381" class="dsq-comment-message"><p>Interesting. Can you give me an example about these &#8220;dynamic nodes and attributes&#8221;? Thank you in advance!</p>
<p>Yi</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-382">
					<div id="dsq-comment-header-382" class="dsq-comment-header">
						<cite id="dsq-cite-382">
								<span id="dsq-author-user-382">Daniel Essin</span>
							</cite>
					</div>
					<div id="dsq-comment-body-382" class="dsq-comment-body">
						<div id="dsq-comment-message-382" class="dsq-comment-message"><p>I&#8217;m very impressed with the work that you&#8217;ve done on StructureMap. I know that I need something like this that allows a degree of abstraction, but I&#8217;ve always been a bit challenged by higher math so I&#8217;m having a hard time absorbing all the fine points. I&#8217;ve got a couple of questions that you perhaps could help me with.</p>
<p>First off, I want to mention that in order to run the StructureMap Explorer under .net 2.0 you need to as a [STAThread] attribute to the main or an exception is thrown when trying to create the browser component.</p>
<p>I&#8217;m sure that you&#8217;re familiar with sharpDevelop. I am trying to do something like that &#8211; create a platform for my apps that will provide all of the basic services such as encryption, authentication, logging, etc. and into which all of the application-specific forms and functions will &#8220;plug in&#8221;</p>
<p>I&#8217;ve studied the possibilty of simply using the sharpDevelop shell and replacing all of the content, using Spring.NET or using StructureMap. I&#8217;ve also looked as SAF (Simple application framework) by chen.</p>
<p>I have stepped through the code in sharpDevelop dozens of times and I understand what it is doing pretty well but their external xl config files are so complex that every time I try to alter one the whole thing breaks. My opinion of that platform is that without a gui utility to examine your assemblies and write the .addin files, it will probably never work for me.<br />
I like the feature in Spring.NET of being able to embed the config for each assembly in a resurce and extract it during the load. This reduces the possibility that the config file will get lost, corrupted or damaged by a user trying to alter its behavior. For the same reason I like the idea of being able to accomplish the configuration of StructureMap by applying attributes to the classes. </p>
<p>Am I correct in my understanding that what you have done in the StructureMap  Explorer app is to have accomplished the entire configuation with attributes and that is why there is no .config file for the app?</p>
<p>Becaus I am abstractionally challenged, I would appreciate it if you could give me some guidance about how to best have assemblies contribute items to the menubar,child forms that are invoked or affected by selecting different tree nodes (like in your explorer, and how I can osilate all of the commands that are executed in one place so the can be invoked form either a menu, form event or a use typing a command at a prompt? </p>
<p>Thanks,<br />
Dan Essin (essin@ieee.org)</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-383">
					<div id="dsq-comment-header-383" class="dsq-comment-header">
						<cite id="dsq-cite-383">
								<span id="dsq-author-user-383">jmiller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-383" class="dsq-comment-body">
						<div id="dsq-comment-message-383" class="dsq-comment-message"><p>Dan,</p>
<p>The STAThread is a known issue, and if you&#8217;ll give me a little while I&#8217;ll get an example up showing how to use StructureMap sans config file to do exactly what you&#8217;re trying to do.</p>
<p>Jeremy</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-384">
					<div id="dsq-comment-header-384" class="dsq-comment-header">
						<cite id="dsq-cite-384">
								<span id="dsq-author-user-384">Daniel Essin</span>
							</cite>
					</div>
					<div id="dsq-comment-body-384" class="dsq-comment-body">
						<div id="dsq-comment-message-384" class="dsq-comment-message"><p>That would be great. Thanks.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-385">
					<div id="dsq-comment-header-385" class="dsq-comment-header">
						<cite id="dsq-cite-385">
								<span id="dsq-author-user-385">Yi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-385" class="dsq-comment-body">
						<div id="dsq-comment-message-385" class="dsq-comment-message"><p>Hello Jeremy,</p>
<p>I just dropped an email to your yahoo mail. I encountered some issue when using StructureMap with Windows Service. The .NET runtime complains that &#8220;System.Runtime.Serialization.SerializationException: Unable to find assembly &#8216;StructureMap, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null&#8217;.&#8221; I double-checked that the structuremap.dll is in the working dir.</p>
<p>I wonder if you used StructureMap with Windows Service. I hope you can shed me some light on this one.</p>
<p>Thanks!!!</p>
<p>Yi</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-386">
					<div id="dsq-comment-header-386" class="dsq-comment-header">
						<cite id="dsq-cite-386">
								<span id="dsq-author-user-386">Suresh</span>
							</cite>
					</div>
					<div id="dsq-comment-body-386" class="dsq-comment-body">
						<div id="dsq-comment-message-386" class="dsq-comment-message"><p>Hai Jeremy,</p>
<p>I have a doubt in my application for using StructureMap.<br />
Can you tel me actually usage is like a Factory pattern.<br />
Is it right??</p>
<p>In my application i got the instance of a Concrete class, it has more than 10 subclasses with the usage of n number of XmlSchema ( object). But the XmlSchema are use used in the different n number of Concrete classes..</p>
<p>if i want to do any changes in one schema in one Concrete class that also depends on the n-1th concrete class ( Object dependency exists here.. ). can u tel me,  can i use Structure map container, is it helpful for me&#8230;</p>
<p>else can you tel me which pattern is optimal one..</p>
<p>i need help</p>
<p>my mail id is : <a href="mailto:vasuresh@jeevantechnologies.com">vasuresh@jeevantechnologies.com</a></p>
<p>Thanks </p>
<p>Suresh</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-387">
					<div id="dsq-comment-header-387" class="dsq-comment-header">
						<cite id="dsq-cite-387">
								<span id="dsq-author-user-387">kasajian</span>
							</cite>
					</div>
					<div id="dsq-comment-body-387" class="dsq-comment-body">
						<div id="dsq-comment-message-387" class="dsq-comment-message"><p>I got my hands dirty and learned DI/IoC by studying the crystalproject.org API.  I found Simone Busoli&#8217;s introduction to it on dotnetslackers.com to be one of the best introductions on DI, if not one of the best articles written in general.</p>
<p>So now understand it and am quite impressed with the cleanness of the crystal implementation.  My plan was to study the other DI packages out there and then do a comparison, but frankly, when I start to go down the path of learning ObjectBuilder and even StructureMap, I quickly lose interest because the introductions start out more complex and convoluted than what crystal offers.  I realize that I&#8217;m probably not being as fair to the other frameworks, but as many of us having relatively limited time, it seems as though there ought to be a better for people to decide between the different frameworks.  There out to be a comparison article that  does justice to the existing frameworks.</p>
<p>Another thing that&#8217;s missing is that the DI introductions I&#8217;ve seen thus far focus on the programmatic use of the APIs, which some people prefer.  But I strongly believe that the configuration based method has a lot more value.  It would be good to have an introductory article to each of the DI frameworks for those shops that are planning on configuring the containers using external files and minimize the attributes and APIs in the code.</p>
<p>Thank you for listening. <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>
					</div>
				</li>
					<li id="dsq-comment-388">
					<div id="dsq-comment-header-388" class="dsq-comment-header">
						<cite id="dsq-cite-388">
								<span id="dsq-author-user-388">Itzik Kasovitch</span>
							</cite>
					</div>
					<div id="dsq-comment-body-388" class="dsq-comment-body">
						<div id="dsq-comment-message-388" class="dsq-comment-message"><p>Is it possible to add components manually to structure map&#8217;s object factory? For example I want to create some object manually and the add it to structure map like it is done in WindsorContainer using AddComponent.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-389">
					<div id="dsq-comment-header-389" class="dsq-comment-header">
						<cite id="dsq-cite-389">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-389">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-389" class="dsq-comment-body">
						<div id="dsq-comment-message-389" class="dsq-comment-message"><p>@Itzik,</p>
<p>With 2.0, ObjectFactory.InjectStub<t>(T object);</p>
<p>With the 2.5 trunk, the above still works, but there are far more options.</p>
<p>ObjectFactory.Inject</t><t>(T object);</t></p>
</div>
					</div>
				</li>
					<li id="dsq-comment-390">
					<div id="dsq-comment-header-390" class="dsq-comment-header">
						<cite id="dsq-cite-390">
								<span id="dsq-author-user-390">Itzik Kasovitch</span>
							</cite>
					</div>
					<div id="dsq-comment-body-390" class="dsq-comment-body">
						<div id="dsq-comment-message-390" class="dsq-comment-message"><p>I have checked out structuremap from sourceforge and tried to run the build script. Unfortunately, it failes. It seems that some files are missing. Should I make some settings to be able to run the build successfully. If so, where are the guidelines?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-391">
					<div id="dsq-comment-header-391" class="dsq-comment-header">
						<cite id="dsq-cite-391">
								<span id="dsq-author-user-391">ms440</span>
							</cite>
					</div>
					<div id="dsq-comment-body-391" class="dsq-comment-body">
						<div id="dsq-comment-message-391" class="dsq-comment-message"><p>Hi Jeremy,</p>
<p>I&#8217;ve used the StructureMap 1.0 in one of my prev project.</p>
<p>After watching the screencast that you and Rob Conery put together last week, I realized that I&#8217;d like to get back to StructureMap in my new project (not ASP.NET MVC) again. Two questions though:</p>
<p>First, during the screencast you&#8217;ve promised to put together some documentation for 2.5. What&#8217;s the ETA for that? Would I be able to use it within my application project timeframe (I&#8217;ll have to make a decision about the use of StructureMap before the end of June <img src='http://codebetter.com/jeremymiller/wp-includes/images/smilies/icon_sad.gif' alt=':(' class='wp-smiley' /> .</p>
<p>Second, I checked out the code for 2.5 and couldn&#8217;t compile it (as with Itzik Kasovitch case). Could you please take a look into the problem he&#8217;s discovered?</p>
<p>Third and most important! Thanks a lot for your excellent and extremely useful work on patterns in general (congrats on your MSDN article &#8211; pure pleasure to read) and StructureMap in particular.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-392">
					<div id="dsq-comment-header-392" class="dsq-comment-header">
						<cite id="dsq-cite-392">
	http://www.graytechnology.com							<span id="dsq-author-user-392">Cliff</span>
							</cite>
					</div>
					<div id="dsq-comment-body-392" class="dsq-comment-body">
						<div id="dsq-comment-message-392" class="dsq-comment-message"><p>Is it possible to use StructureMap to map types across projects without having a reference?  For example, if you have three projects: web (references model), model, and data (references model) can you in the web project set up a mapping from an interface in the Model project to a concrete type in the Data project, without having a project reference to data from web?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-393">
					<div id="dsq-comment-header-393" class="dsq-comment-header">
						<cite id="dsq-cite-393">
	http://codebetter.com/blogs/jeremy.miller							<span id="dsq-author-user-393">Jeremy D. Miller</span>
							</cite>
					</div>
					<div id="dsq-comment-body-393" class="dsq-comment-body">
						<div id="dsq-comment-message-393" class="dsq-comment-message"><p>@Cliff,</p>
<p>Yes, but watch your build procedures.  You&#8217;ll have to pull that off in the Xml, or create a completely new assembly that references all three of the other assemblies just to hold the STructureMap configuration.  One way or another, StructureMap has to be able to load any assembly through the normal mechanisms.  You&#8217;ll have to copy around the assemblies yourself instead of depending upon VS to do it for you.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-394">
					<div id="dsq-comment-header-394" class="dsq-comment-header">
						<cite id="dsq-cite-394">
	http://revizyonileorganizematbaacilikbrnckvvtmllttrhaberi.bloggum.com							<span id="dsq-author-user-394">revizyon ile organize matbaacılık brnckvvtmllttrhaberi</span>
							</cite>
					</div>
					<div id="dsq-comment-body-394" class="dsq-comment-body">
						<div id="dsq-comment-message-394" class="dsq-comment-message"><p>Very Quick and Simple Dependency Injection with StructureMap</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-395">
					<div id="dsq-comment-header-395" class="dsq-comment-header">
						<cite id="dsq-cite-395">
								<span id="dsq-author-user-395">Victor</span>
							</cite>
					</div>
					<div id="dsq-comment-body-395" class="dsq-comment-body">
						<div id="dsq-comment-message-395" class="dsq-comment-message"><p>I&#8217;m really interested in using StructureMap as my IoC of choice, but haven&#8217;t been able to find solid examples. Are there any complete downloadable examples, like the ones MS has for Unity?</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/jeremymiller/2005/11/18/introduction-to-using-structuremap-for-dependency-injection/ ';
	var disqus_identifier = '109 /blogs/jeremy.miller/archive/2005/11/18/134816.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'theshadetreedeveloper';
	var disqus_title = "Introduction to using StructureMap for Dependency Injection";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=109');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/jeremymiller/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/jeremymiller\/2005\/11\/18\/introduction-to-using-structuremap-for-dependency-injection\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">The Shade Tree Developer</h3>Jeremy is the Chief Software Architect at Dovetail Software, the coolest ISV in Austin.  Jeremy began his IT career writing "Shadow IT" applications to automate his engineering documentation, then wandered into software development because it looked like more fun. Jeremy is the author of the open source StructureMap tool for Dependency Injection with .Net, StoryTeller for supercharged acceptance testing in .Net, and one of the principal developers behind FubuMVC.  Jeremy's thoughts on all things software can be found at The Shade Tree Developer at http://codebetter.com/jeremymiller.
</li><li id="text-3" class="widget-container widget_text"><h3 class="widget-title">Upcoming posts&#8230;</h3>			<div class="textwidget"><p>How I'm using StoryTeller to test FubuMVC<br />
Building a "Lookup" html convention w/ FubuMVC<br />
FubuMVC's Configuration Model "Special Sauce"<br />
Managing Script dependencies with FubuMVC<br />
Authorization and FubuMVC<br />
Continuations<br />
Composing Views with FubuMVC<br />
Extensible Model Binding with FubuMVC<br />
Introducing "Bottles"<br />
Modular Packaging with FubuMVC<br />
Self-Installing Apps w/ FubuMVC<br />
Routing and Behavioral Conventions with FubuMVC<br />
What Should I Learn?</p>
</div>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://twitter.com/jeremydmiller">Follow me on Twitter</a></li>
<li><a href="https://github.com/DarthFubuMVC/fubumvc" target="_blank">FubuMVC on GitHub</a></li>
<li><a href="https://github.com/jeremydmiller">My GitHub Page</a></li>
<li><a href="https://github.com/storyteller/storyteller">StoryTeller on GitHub</a></li>
<li><a href="https://github.com/structuremap/structuremap">StructureMap on GitHub</a></li>

	</ul>
</li>
		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
					<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3>		<ul>
			<li><a href='http://codebetter.com/jeremymiller/2011/01/' title='January 2011'>January 2011</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/12/' title='December 2010'>December 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/09/' title='September 2010'>September 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/08/' title='August 2010'>August 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/07/' title='July 2010'>July 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/06/' title='June 2010'>June 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/05/' title='May 2010'>May 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/03/' title='March 2010'>March 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/02/' title='February 2010'>February 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2010/01/' title='January 2010'>January 2010</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/12/' title='December 2009'>December 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/11/' title='November 2009'>November 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/10/' title='October 2009'>October 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/09/' title='September 2009'>September 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/08/' title='August 2009'>August 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/07/' title='July 2009'>July 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/06/' title='June 2009'>June 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/05/' title='May 2009'>May 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/04/' title='April 2009'>April 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/03/' title='March 2009'>March 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/02/' title='February 2009'>February 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2009/01/' title='January 2009'>January 2009</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/12/' title='December 2008'>December 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/11/' title='November 2008'>November 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/10/' title='October 2008'>October 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/09/' title='September 2008'>September 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/08/' title='August 2008'>August 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/07/' title='July 2008'>July 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/06/' title='June 2008'>June 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/05/' title='May 2008'>May 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/04/' title='April 2008'>April 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/03/' title='March 2008'>March 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/02/' title='February 2008'>February 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2008/01/' title='January 2008'>January 2008</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/12/' title='December 2007'>December 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/11/' title='November 2007'>November 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/10/' title='October 2007'>October 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/09/' title='September 2007'>September 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/08/' title='August 2007'>August 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/07/' title='July 2007'>July 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/06/' title='June 2007'>June 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/05/' title='May 2007'>May 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/04/' title='April 2007'>April 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/03/' title='March 2007'>March 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/02/' title='February 2007'>February 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2007/01/' title='January 2007'>January 2007</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/12/' title='December 2006'>December 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/11/' title='November 2006'>November 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/10/' title='October 2006'>October 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/09/' title='September 2006'>September 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/08/' title='August 2006'>August 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/07/' title='July 2006'>July 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/06/' title='June 2006'>June 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/05/' title='May 2006'>May 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/04/' title='April 2006'>April 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/03/' title='March 2006'>March 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/02/' title='February 2006'>February 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2006/01/' title='January 2006'>January 2006</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/12/' title='December 2005'>December 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/11/' title='November 2005'>November 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/10/' title='October 2005'>October 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/09/' title='September 2005'>September 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/08/' title='August 2005'>August 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/07/' title='July 2005'>July 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/06/' title='June 2005'>June 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/05/' title='May 2005'>May 2005</a></li>
	<li><a href='http://codebetter.com/jeremymiller/2005/04/' title='April 2005'>April 2005</a></li>
		</ul>
</li><li id="recent-comments-3" class="widget-container widget_recent_comments"><h3 class="widget-title">What others have said&#8230;</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://weblogs.asp.net/thangchung' rel='external nofollow' class='url'>thangchung</a> on <a href="http://codebetter.com/jeremymiller/2009/01/16/quot-buildup-quot-existing-objects-with-structuremap/#comment-6764">&quot;BuildUp&quot; Existing Objects with StructureMap</a></li><li class="recentcomments">Steven Gentile on <a href="http://codebetter.com/jeremymiller/2011/01/23/if-you-are-using-structuremap-with-mvc3-please-read-this/#comment-6763">If you are using StructureMap with MVC3, please read this:</a></li><li class="recentcomments">jabits on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6761">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments">Michael Meadows on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6754">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li><li class="recentcomments">InspiringCode on <a href="http://codebetter.com/jeremymiller/2011/01/16/a-train-of-thought-wrapping-up-codemash-2011/#comment-6753">A Train of Thought &ndash; Wrapping up CodeMash 2011</a></li></ul></li>				</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.334 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-26 12:56:13 -->
<!-- super cache -->