<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Peter van Ooijen | CodeBetter.Com &#8211; Stuff you need to Code Better!</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/petervanooijen/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://cdn1.codebetter.com/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/petervanooijen/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Peter van Ooijen' href='http://codebetter.com/petervanooijen/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/3e52f3b292da95601a0d3fbd9775ac0e.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content">
			<div id="main" class="grid_8">
			<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/petervanooijen/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/petervanooijen/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div>			
	<div id="nav-above" class="navigation">
		<div class="nav-next"><a href="?page=1" > Next Page &raquo;</a></div>
		
	</div><!-- #nav-above -->


				
			<div id="post-617" class="post-617 post type-post status-publish format-standard hentry category-uncategorized">
			<h2 class="entry-title"><a href="http://codebetter.com/petervanooijen/2011/01/31/c-for-the-iphone-monotouch-is-here-to-stay/" title="Permalink to C# for the iPhone: Monotouch is here to stay" rel="bookmark">C# for the iPhone: Monotouch is here to stay</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on </span><a href="http://codebetter.com/petervanooijen/2011/01/31/c-for-the-iphone-monotouch-is-here-to-stay/" title="11:58 am" rel="bookmark"><span class="entry-date">January 31, 2011</span></a> <span class="meta-sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codebetter.com/petervanooijen" title="View all posts by Peter van Ooijen">Peter van Ooijen</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>Today I’m going to submit my second <a href="http://monotouch.net/">Monotouch</a> app to the Appstore. Time to write down some reflections and try to further raise enthusiasm for Monotouch by providing some links.</p>
<ul>
<li>Apple does accept Monotouch apps in the store, look here for a <a href="http://monotouch.net/Apps">catalog</a> and <a href="http://monotouch.net/Apps/?tag=/Showcase">showcase</a> .</li>
<li>The default tool for building iOs app is Apple’s Xcode. Most resources on iOS devlopment are in xCode’s objective C. The Monotouch architecture closely mirrors Xcode, read the <a href="http://tirania.org/tmp/rosetta.html">Rosetta stone</a> to translate member names.</li>
</ul>
<p>But Monotouch is more than just another dialect. IMHO and experience the C# language and the .net class library do have unique things to offer. To name some:</p>
<ul>
<li>Generics</li>
<li>Lists. Unlike C# for Windows.net Lists <a href="http://codebetter.com/petervanooijen/2010/10/28/monotouch-your-c-app-on-a-real-iphone/">are a wrapper for arrays</a>. Using (typed) lists does lead to far clearer code.</li>
<li>Lambda’s and linq. Objective C (Xcode) does have delegate’s but misses the elegance of lambda’s.</li>
<li>XML. Both XmlDocument and Xpath work very well (and fast) in Monotouch. The way to go when doing interop.</li>
</ul>
<p>These are my favorite Monotouch sites</p>
<ul>
<li><a href="http://www.shrinkrays.net/">Shrinkrays</a>. Formerly known as sloppycode.net. A huge variety of articles and snippets. My favorite ones are on a <a href="http://www.shrinkrays.net/articles/monotouch-controllers-by-example.aspx">code based approach to views and controllers</a> on the iPhone. Most articles on the web guide you through the MonoDevelop wizards to start an app. Which leads to the world of interface builder and xib’s. The approach presented here focuses on the plain C# code behind and a surprisingly easy way to build a complete app from plain C#. I am working on a more elaborate post which builds on these ideas.</li>
<li><a href="http://conceptdev.blogspot.com/">Conceptdev</a> (Craig Dunn’s blog) More than just MonoTouch stuff. Craig has also worked on the <a href="http://deepearth.codeplex.com/">DeepEarth</a> project and in his most recent posts he is covering Windows Phone 7. Great source to put things in perspective. </li>
<li><a href="http://www.infoq.com/articles/monotouch-introduction">Infoq</a>. These are more traditional basic articles. The quality is great, I keep using the one <a href="http://www.infoq.com/articles/monotouch-custom-tables">on tables</a> again and again.</li>
</ul>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
				<span class="cat-links"><span class="entry-utility-prep entry-utility-prep-cat-links">Posted in <a href="http://codebetter.com/petervanooijen/category/uncategorized/" title="View all posts in Uncategorized" rel="category">Uncategorized</a></span></span>
				<span class="meta-sep"> | </span>
												<span class="comments-link"><a href="http://codebetter.com/petervanooijen/2011/01/31/c-for-the-iphone-monotouch-is-here-to-stay/#respond" title="Comment on C# for the iPhone: Monotouch is here to stay"><span class="dsq-postid" rel="617 http://codebetter.com/petervanooijen/2011/01/31/c-for-the-iphone-monotouch-is-here-to-stay/">View Comments</span></a></span>
							</div><!-- #entry-utility -->
		</div><!-- #post-617 -->

		
						
			<div id="post-614" class="post-614 post type-post status-publish format-standard hentry category-uncategorized">
			<h2 class="entry-title"><a href="http://codebetter.com/petervanooijen/2010/12/28/seasons-gifts-from-the-monotouch-iphone-treasure-chest-background-gps-tasks-and-uicontrol/" title="Permalink to Seasons gifts from the MonoTouch (iPhone) treasure chest. Background (GPS) tasks and UIControl" rel="bookmark">Seasons gifts from the MonoTouch (iPhone) treasure chest. Background (GPS) tasks and UIControl</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on </span><a href="http://codebetter.com/petervanooijen/2010/12/28/seasons-gifts-from-the-monotouch-iphone-treasure-chest-background-gps-tasks-and-uicontrol/" title="4:06 pm" rel="bookmark"><span class="entry-date">December 28, 2010</span></a> <span class="meta-sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codebetter.com/petervanooijen" title="View all posts by Peter van Ooijen">Peter van Ooijen</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>Some year it was… I’m not going to bore you with any details on my private life, let’s just say it was an interesting journey. On the professional plane the best thing was learning to build Apps for the iPhone (and iPad) using <a href="http://monotouch.net/">Monotouch</a>. The best of the old world in the form of a full C# compiler backed by a good variation of the .net framework; the best of the new world in the form the iPhone which still surprises me every day in its usability. A combination which worked and got my first <a href="http://itunes.apple.com/app/kalifescope/id400545066?mt=8">app in the appstore</a>. As a last post for this year three small gifts from MonoTouch. Extremely simple. Finding them buried under the fluff and confusion was the only hard part.</p>
<h2>UIControl</h2>
<p>The iPhone has a limited set of user controls, all wrapped up very well in the MonoTouch.UIKit part of the <a href="http://www.go-mono.com/docs/">framework</a> (expand the tree there to browse those docs). Controls which allow user interaction are based on UIControl. According to the docs this is an abstract class. Nevertheless UIControl does show up in Interface Builder (the tool to build an iPhone user Interface) and can be used in a view.</p>
<p>In case you need a simple surface with just a custom background color which can be touched or tapped UIControl is perfectly suited. Create one in interface builder or from code and attach any desired behavior</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px">UIControl myControl = <span style="color: blue">new</span> UIControl (<span style="color: blue">new</span> RectangleF (0, 0, 80, 20));</p>
<p style="margin: 0px">myControl.BackgroundColor = Watch.BackGroundColor;</p>
<p style="margin: 0px">myControl.Layer.CornerRadius = 5;</p>
<p style="margin: 0px">myControl.TouchDown += (sender, e) =&gt;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; Controller.NavigationController.PushViewController (<span style="color: blue">new</span> ConfigBackGroundColor (Watch, buttonColor), <span style="color: blue">true</span>);</p>
</div>
<p><!--EndFragment-->
<p>Simplicity which shines.</p>
<p><a href="http://codebetter.com/petervanooijen/files/2010/12/UIControl1.jpg"><img style="border-right-width: 0px;padding-left: 0px;padding-right: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px;padding-top: 0px" border="0" alt="UIControl" src="http://codebetter.com/petervanooijen/files/2010/12/UIControl_thumb1.jpg" width="293" height="572"></a></p>
<h2>Background tasks</h2>
<p>iOS 4 brought multitasking support to the iPhone. When the user switches to another app or the iPhone is switched to stand-by mode an app can be suspended. It will resume where it left of upon returning to the foreground. This is&nbsp; supported in the new versions of Monotouch. Any new app will automatically get this behavior. Old apps still restart after an app switch (not when returning from standby). Or they do multitask in the emulator but not on real hardware. To add multitasking behavior to an existing app you have to switch the SDK version to 4.0 for the&nbsp; iPhone platform before rebuilding.</p>
<p><a href="http://codebetter.com/petervanooijen/files/2010/12/SDKversion1.jpg"><img style="border-right-width: 0px;padding-left: 0px;padding-right: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px;padding-top: 0px" border="0" alt="SDKversion" src="http://codebetter.com/petervanooijen/files/2010/12/SDKversion_thumb1.jpg" width="594" height="378"></a></p>
<p>And now your app does multitask. </p>
<h2>GPS recording in the background</h2>
<p>When your app is sent to the background it is allowed to run some code. This code cannot touch any of the UI and is carefully monitored by the OS. The easy part is being notified of switching to and from the background. That’s done by overriding two member of the Appdelegate.</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">partial</span> <span style="color: blue">class</span> <span style="color: #2b91af">AppDelegate</span> : UIApplicationDelegate</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">override</span> <span style="color: blue">bool</span> FinishedLaunching (UIApplication app, NSDictionary options)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// The usual stuff</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> <span style="color: blue">true</span>;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><strong>&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">override</span> <span style="color: blue">void</span> DidEnterBackground (UIApplication application)</strong></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LocationManager.TrainingMode = <span style="color: blue">false</span>;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LocationManager.LocationRecorder.AllowUI = <span style="color: blue">false</span>;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px"><strong>&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">override</span> <span style="color: blue">void</span> WillEnterForeground (UIApplication application)</strong></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LocationManager.LocationRecorder.AllowUI = <span style="color: blue">true</span>;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">override</span> <span style="color: blue">void</span> OnActivated (UIApplication application)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment-->
<p>A typical background task is recording the GPS position. Your app might not be active but still want to keep track of its position. </p>
<p>The <a href="http://www.go-mono.com/docs/">location part of the framework</a> (expand to Monotouch.CoreLocation) works by subscribing. There is one location manager object to which you hook in an event handler. Every time the GPS has a new position to report your handler will be fired. When an app switches to the background this handler is no longer fired. The first thought would be to tickle the location manager from a background task to keep it sending position reports.</p>
<p>The good thing is that there is no need at all to do that. All that is needed is a setting in info.plist, your apps configuration file. Under UIBackgroundModes there are three kinds of tasks which can be kept alive by the OS itself: <em>location</em>, <em>audio</em> and <em>voip</em>.</p>
<p><a href="http://codebetter.com/petervanooijen/files/2010/12/plist4.png"><img style="border-right-width: 0px;padding-left: 0px;padding-right: 0px;border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px;padding-top: 0px" border="0" alt="plist" src="http://codebetter.com/petervanooijen/files/2010/12/plist_thumb.png" width="420" height="357"></a></p>
<p>Having added this entry your apps location recording event handler will keep firing. Even when the phone is set to standby. Just don’t touch the UI and watch your battery <img style="border-bottom-style: none;border-right-style: none;border-top-style: none;border-left-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://codebetter.com/petervanooijen/files/2010/12/wlEmoticon-smile.png"></p>
<p>&nbsp;</p>
<p>Al of this is almost to simple to be true. I’m looking forward what 2011 will bring. Happy new year.</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
				<span class="cat-links"><span class="entry-utility-prep entry-utility-prep-cat-links">Posted in <a href="http://codebetter.com/petervanooijen/category/uncategorized/" title="View all posts in Uncategorized" rel="category">Uncategorized</a></span></span>
				<span class="meta-sep"> | </span>
												<span class="comments-link"><a href="http://codebetter.com/petervanooijen/2010/12/28/seasons-gifts-from-the-monotouch-iphone-treasure-chest-background-gps-tasks-and-uicontrol/#respond" title="Comment on Seasons gifts from the MonoTouch (iPhone) treasure chest. Background (GPS) tasks and UIControl"><span class="dsq-postid" rel="614 http://codebetter.com/petervanooijen/2010/12/28/seasons-gifts-from-the-monotouch-iphone-treasure-chest-background-gps-tasks-and-uicontrol/">View Comments</span></a></span>
							</div><!-- #entry-utility -->
		</div><!-- #post-614 -->

		
						
			<div id="post-590" class="post-590 post type-post status-publish format-standard hentry category-uncategorized">
			<h2 class="entry-title"><a href="http://codebetter.com/petervanooijen/2010/11/05/kalifescope-and-monotouch-from-idea-to-the-appstore/" title="Permalink to Kalifescope and Monotouch, from idea to the AppStore" rel="bookmark">Kalifescope and Monotouch, from idea to the AppStore</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on </span><a href="http://codebetter.com/petervanooijen/2010/11/05/kalifescope-and-monotouch-from-idea-to-the-appstore/" title="11:26 am" rel="bookmark"><span class="entry-date">November 5, 2010</span></a> <span class="meta-sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codebetter.com/petervanooijen" title="View all posts by Peter van Ooijen">Peter van Ooijen</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>Way back, somewhere around 1978, I had my first encounter with computers and software. In those days the belief in power and meaning of software had no limits. Popular “My first Basic/Algol60/Fortran” programs were <a href="http://en.wikipedia.org/wiki/Cellular_automaton">cellular automata</a>. The most popular form was “<a href="http://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">the game of life</a>”. A couple of months ago when I picked up creating apps for the iPhone it was not difficult what “My first Monotouch app” was going to be. And today I am happy to announce that I have completed the full path. The iPhone has proved to be a powerful platform,&nbsp; Monotouch has proved to be a nice programming environment and Apple has accepted the result <a href="http://itunes.apple.com/app/kalifescope/id400545066?mt=8">in the Appstore</a>.</p>
<p>The app is named <a href="http://www.gekko-software.nl/apps/kalifescope.aspx">Kalifescope</a> it is a kaleidoscopic variation on the game of life.</p>
<p><a href="http://codebetter.com/petervanooijen/files/2010/12/Kalifescope1_thumb1.png"><img style="border-bottom: 0px;border-left: 0px;padding-left: 0px;padding-right: 0px;border-top: 0px;border-right: 0px;padding-top: 0px" border="0" alt="Kalifescope1_thumb1" src="http://codebetter.com/petervanooijen/files/2010/12/Kalifescope1_thumb1_thumb.png" width="367" height="549"></a></p>
<p>In my last post I had described all the <a href="/blogs/peter.van.ooijen/archive/2010/10/28/monotouch-your-c-app-on-a-real-iphone.aspx">steps needed</a> to get the app on a physical iPhone. To get it to the appstore was, in the end, quite simple. Googling on that I found some advice, most of it far to complicated.</p>
<p>First you have to fill in a couple of forms on iTunes Connect. No big problem, the process describes itself. The last step is to upload the application. You do not need XCode for this. In Monodevelop there is an option “Open project in XCode”. Once there XCode will start complaining about missing framework libraries. That is <em>not</em> the path to follow.</p>
<p>All you need is the Apple Application Loader. This is available as download in iTunes Connect, the spot you need it. The enigmatic part is which file to upload, the uploader gives no hints. In the end it was simple:</p>
<p><a href="http://codebetter.com/petervanooijen/files/2010/12/CompressApp_thumb18.png"><img style="border-bottom: 0px;border-left: 0px;padding-left: 0px;padding-right: 0px;border-top: 0px;border-right: 0px;padding-top: 0px" border="0" alt="CompressApp_thumb1[8]" src="http://codebetter.com/petervanooijen/files/2010/12/CompressApp_thumb18_thumb.png" width="641" height="413"></a></p>
<ul>
<li>In Finder Go to the iPhone\release folder
<li>Compress the application file, that is a full installer including all content files like images. Compress results in a zip file.
<li>Select this zipfile in the application loader
<li>Click upload </li>
</ul>
<p>After that all that is needed is patience. It took about a week before my app was reviewed. And accepted <img style="border-bottom-style: none;border-right-style: none;border-top-style: none;border-left-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/peter.van.ooijen/wlEmoticon_2D00_smile_5F00_2125F055.png"></p>
<h2></h2>
<h2>App size</h2>
<p>Apps built with Monotouch are not that small. My app contains only a couple of hundred lines of code but nevertheless it is a download over 4Mb. iPhone Apps can be less than half an Mb. The main reason for this size is the .NET framework. There is no .net runtime for iOS, there is no dynamic linking on iOS either. Monotouch statically links the framework into every application. Not bad to do that in a couple of Mb’s. In case squeezing every byte out of download size is essential to you Monotouch may not be your way to go. For building an app utilizing all iOS has to offer and staying with the beautiful C# language it is perfect and a very welcome new member to my tool belt.</p>
<p>&lt;update&gt;The <a href="http://itunes.apple.com/nl/app/kalifescope-lite/id403481523?mt=8">Lite version of Kalifescope</a> has also been accepted. See Monotouch shine on your iPhone for free <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> &lt;/update&gt;</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
				<span class="cat-links"><span class="entry-utility-prep entry-utility-prep-cat-links">Posted in <a href="http://codebetter.com/petervanooijen/category/uncategorized/" title="View all posts in Uncategorized" rel="category">Uncategorized</a></span></span>
				<span class="meta-sep"> | </span>
												<span class="comments-link"><a href="http://codebetter.com/petervanooijen/2010/11/05/kalifescope-and-monotouch-from-idea-to-the-appstore/#respond" title="Comment on Kalifescope and Monotouch, from idea to the AppStore"><span class="dsq-postid" rel="590 /blogs/peter.van.ooijen/archive/2010/11/05/kalifescope-and-monotouch-from-idea-to-the-appstore.aspx">View Comments</span></a></span>
							</div><!-- #entry-utility -->
		</div><!-- #post-590 -->

		
						
			<div id="post-584" class="post-584 post type-post status-publish format-standard hentry category-mobile category-uncategorized">
			<h2 class="entry-title"><a href="http://codebetter.com/petervanooijen/2010/10/28/monotouch-your-c-app-on-a-real-iphone/" title="Permalink to Monotouch: your C# app on a real iPhone" rel="bookmark">Monotouch: your C# app on a real iPhone</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on </span><a href="http://codebetter.com/petervanooijen/2010/10/28/monotouch-your-c-app-on-a-real-iphone/" title="12:26 pm" rel="bookmark"><span class="entry-date">October 28, 2010</span></a> <span class="meta-sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codebetter.com/petervanooijen" title="View all posts by Peter van Ooijen">Peter van Ooijen</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p><a href="http://monotouch.net/">Monotouch</a> is a C# development platform for iOs, the OS for iPhone, iPad and iPod touch. It runs on top of the Apple SDK, which includes device emulators to run and debug apps. For some time I’ve been working with it now, it has been a pleasure. Time to get my app out of the emulator and take it for a spin on a real iPhone.</p>
<p>It took some investments. The first one was a Mac, Monotouch only works on that. I had always liked the Mac, now I own one myself it rapidly took over as my main machine for everyday use. It’s hard to pinpoint what makes a Mac so pleasant to use; may I give one example ? Scrolling on a mac is done by swiping two fingers (over a gorgeous gigantic keypad), at first sight that works just like a scroll wheel. The nice thing is that it will scroll <em>anything which is under the cursor</em>, also when the window is <em>not</em> the active window. Marvelous when reading through a long webpage while trying to edit some enigmatic settings. The thing I still don’t like about the mac are the text navigation keys, where is the PgDn ? Any advice on that is appreciated.</p>
<p>Ok, so far, let’s get on topic again.</p>
<p>The free version of Monotouch only works with the emulator, you have to <a href="http://monotouch.net/Store">buy the professional version</a> ($399) to be able to deploy to a physical device. The iPhone itself is quite protected, it will not allow anything which is not signed with a certificate issued by Apple. To obtain these certificates you have to join the <a href="http://developer.apple.com/devcenter/ios/index.action">Apple program</a> which is another $99. Obtaining and installing all that and signing you app is quite a job. <a href="http://www.lostechies.com/blogs/marcus_bratton/default.aspx">Marcus</a> of <a href="http://www.lostechies.com/">LosTechies</a> has <a href="http://www.lostechies.com/blogs/marcus_bratton/archive/2010/08/13/getting-started-with-monotouch.aspx">a very good and clear post</a> on how to do that. Just one comment on that, you have to fire up Xcode once before starting, otherwise it will not associate with the “provisioning profile”. Once you are part of the Apple program you can enroll up to 100 physical iOS devices. That will do.</p>
<p>And now I am really up and running. Connect the iPhone over USB, choose Debug (iPhone), set the breakpoints and you’re ready to peak into the inside of the phone.</p>
<p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/peter.van.ooijen/iphonedebug_5F00_4ED00E55.jpg"><img style="padding-left: 0px;padding-right: 0px;padding-top: 0px;border: 0px" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/peter/van/ooijen/iphonedebug_thumb_369C7E2D.jpg?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919787624&amp;Signature=PgUsx22mQaMmh6jQPqFpO%2fxIAzs%3d" border="0" alt="iphonedebug" width="682" height="473" /></a></p>
<p>Monotouch does a full persistent install of your app. Ready for a full field test.</p>
<h3>Performance</h3>
<p>The first thing I noticed with my app was performance. I have a modest Mac (the smallest Macbook pro) and a fast iPhone (4). Nevertheless the emulator completely outperforms the phone. Which forced me to try some optimizations. Which went quite successful. My app cycles through a lot of loops, what really helped a lot was switching from using <em>foreach</em> on a typed list to <em>for</em> on a typed array. A lot has been said on this when it comes to the different versions of the Windows  .net framework. None of that applies to Monotouch. Monotouch is compatible at the source code level, when it comes to the binary part it is completely incomparable.</p>
<p>A small “wet-finger” test to demonstrate this.</p>
<p>A test class</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">MyClass</span></p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">    <span style="color: blue">public</span> MyClass()</p>
<p style="margin: 0px">    {</p>
<p style="margin: 0px">        AnInt = 1;</p>
<p style="margin: 0px">    }</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: blue">public</span> <span style="color: blue">int</span> AnInt { <span style="color: blue">get</span>; <span style="color: blue">private</span> <span style="color: blue">set</span>;}</p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment--></p>
<p>In a form both a list and an array of this class are instantiated.</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px"><span style="color: blue">public</span> Form1()</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">    InitializeComponent();</p>
<p style="margin: 0px">    myClassList = <span style="color: blue">new</span> <span style="color: #2b91af">List</span>&lt;<span style="color: #2b91af">MyClass</span>&gt;();</p>
<p style="margin: 0px">    myClassArray = <span style="color: blue">new</span> <span style="color: #2b91af">MyClass</span>[itemCount];</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; itemCount; i++)</p>
<p style="margin: 0px">    {</p>
<p style="margin: 0px">        myClassList.Add(<span style="color: blue">new</span> <span style="color: #2b91af">MyClass</span>());</p>
<p style="margin: 0px">        myClassArray[i] = <span style="color: blue">new</span> <span style="color: #2b91af">MyClass</span>();</p>
<p style="margin: 0px">    }</p>
<p style="margin: 0px">}</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px"><span style="color: blue">const</span> <span style="color: blue">int</span> itemCount = 25000;</p>
<p style="margin: 0px"><span style="color: #2b91af">List</span>&lt;<span style="color: #2b91af">MyClass</span>&gt; myClassList;</p>
<p style="margin: 0px"><span style="color: #2b91af">MyClass</span>[] myClassArray ;</p>
</div>
<p><!--EndFragment--></p>
<p>The click of a button touches all elements of the list and the array and times this</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px"><span style="color: blue">const</span> <span style="color: blue">int</span> loopCount = 10000;</p>
<p style="margin: 0px"><span style="color: blue">int</span> dummy;</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px"><span style="color: blue">var</span> start = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px"><span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; loopCount; i++)</p>
<p style="margin: 0px">    <span style="color: blue">for</span> (<span style="color: blue">int</span> j = 0; j &lt; itemCount; j++)</p>
<p style="margin: 0px">        dummy = myClassArray[i].AnInt;</p>
<p style="margin: 0px"><span style="color: blue">var</span> stop = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px"><span style="color: blue">var</span> arrayTime = stop &#8211; start;</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">start = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px"><span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; loopCount; i++)</p>
<p style="margin: 0px">    <span style="color: blue">for</span> (<span style="color: blue">int</span> j = 0; j &lt; itemCount; j++)</p>
<p style="margin: 0px">        dummy = myClassList[i].AnInt;</p>
<p style="margin: 0px">stop = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px"><span style="color: blue">var</span> listTime = stop &#8211; start;</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">label1.Text = listTime.ToString();</p>
<p style="margin: 0px">label2.Text = arrayTime.ToString();</p>
</div>
<p><!--EndFragment--></p>
<p>Running this in a Windows application reveals that using an array is somewhere around 10% faster. Both in debug and release code. Release code is about 20% faster than debug code. This conforms to the public opinion on the matter.</p>
<p>This <em>source</em> code is easily ported to a Monotouch application. Resulting in</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">partial</span> <span style="color: blue">class</span> <span style="color: #2b91af">MyWindow</span> : UIViewController</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px"><span style="color: blue">    #region</span> Constructors</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: green">// The IntPtr and initWithCoder constructors are required for items that need </span></p>
<p style="margin: 0px">    <span style="color: green">// to be able to be created from a xib rather than from managed code</span></p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: blue">public</span> MyWindow (<span style="color: #2b91af">IntPtr</span> handle) : <span style="color: blue">base</span>(handle)</p>
<p style="margin: 0px">    {</p>
<p style="margin: 0px">        Initialize ();</p>
<p style="margin: 0px">    }</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    [Export(<span style="color: #a31515">"initWithCoder:"</span>)]</p>
<p style="margin: 0px">    <span style="color: blue">public</span> MyWindow (NSCoder coder) : <span style="color: blue">base</span>(coder)</p>
<p style="margin: 0px">    {</p>
<p style="margin: 0px">        Initialize ();</p>
<p style="margin: 0px">    }</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: blue">public</span> MyWindow () : <span style="color: blue">base</span>(<span style="color: #a31515">&#8220;MyWindow&#8221;</span>, <span style="color: blue">null</span>)</p>
<p style="margin: 0px">    {</p>
<p style="margin: 0px">        Initialize ();</p>
<p style="margin: 0px">    }</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: blue">void</span> Initialize ()</p>
<p style="margin: 0px">    {</p>
<p style="margin: 0px">        myClassList = <span style="color: blue">new</span> <span style="color: #2b91af">List</span>&lt;MyClass&gt; ();</p>
<p style="margin: 0px">        myClassArray = <span style="color: blue">new</span> MyClass[itemCount];</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">        <span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; itemCount; i++) {</p>
<p style="margin: 0px">            myClassList.Add (<span style="color: blue">new</span> MyClass ());</p>
<p style="margin: 0px">            myClassArray[i] = <span style="color: blue">new</span> MyClass ();</p>
<p style="margin: 0px">        }</p>
<p style="margin: 0px">    }</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px"><span style="color: blue">        #endregion</span></p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: blue">const</span> <span style="color: blue">int</span> itemCount = 25000;</p>
<p style="margin: 0px">    <span style="color: #2b91af">List</span>&lt;MyClass&gt; myClassList;</p>
<p style="margin: 0px">    MyClass[] myClassArray;</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">    <span style="color: blue">public</span> <span style="color: blue">override</span> <span style="color: blue">void</span> ViewDidLoad ()</p>
<p style="margin: 0px">    {</p>
<p style="margin: 0px">        Button1.TouchDown+= <span style="color: blue">delegate</span> {</p>
<p style="margin: 0px">            <span style="color: blue">const</span> <span style="color: blue">int</span> loopCount = 10000;</p>
<p style="margin: 0px">            <span style="color: blue">int</span> dummy;</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">            <span style="color: blue">var</span> start = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px">            <span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; loopCount; i++)</p>
<p style="margin: 0px">                <span style="color: blue">for</span> (<span style="color: blue">int</span> j = 0; j &lt; itemCount; j++)</p>
<p style="margin: 0px">                    dummy = myClassArray[i].AnInt;</p>
<p style="margin: 0px">            <span style="color: blue">var</span> stop = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px">            <span style="color: blue">var</span> arrayTime = stop &#8211; start;</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">            start = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px">            <span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; loopCount; i++)</p>
<p style="margin: 0px">                <span style="color: blue">for</span> (<span style="color: blue">int</span> j = 0; j &lt; itemCount; j++)</p>
<p style="margin: 0px">                    dummy = myClassList[i].AnInt;</p>
<p style="margin: 0px">            stop = <span style="color: #2b91af">DateTime</span>.Now;</p>
<p style="margin: 0px">            <span style="color: blue">var</span> listTime = stop &#8211; start;</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">            Label1.Text = listTime.ToString ();</p>
<p style="margin: 0px">            Label2.Text = arrayTime.ToString ();</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">        };</p>
<p style="margin: 0px">        <span style="color: blue">base</span>.ViewDidLoad ();</p>
<p style="margin: 0px">    }</p>
<p style="margin: 0px"> </p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment--></p>
<p>The main difference with a winform application is setting up the event-handler of the button click (TouchDown). This cannot be done until the view is loaded, you have to override <em>ViewDidLoad</em> to set it up.</p>
<p>Now we can run the same test on the iPhone emulator and the iPhone itself. This will show quite different figures. Both for the emulator versus the real phone and for debug versus release code.</p>
<table border="0" cellspacing="0" cellpadding="2" width="400">
<tbody>
<tr>
<td width="133" valign="top"> </td>
<td width="133" valign="top">Debug</td>
<td width="133" valign="top">Release</td>
</tr>
<tr>
<td width="133" valign="top">Emulator</td>
<td width="133" valign="top">4:18 / 2:47</td>
<td width="133" valign="top">1:80/0:64</td>
</tr>
<tr>
<td width="133" valign="top">iPhone</td>
<td width="133" valign="top">57:00/46:00</td>
<td width="133" valign="top">16:70/7:20</td>
</tr>
</tbody>
</table>
<p> </p>
<p>The first time is the time using a list, the second time using an array. These timings do show</p>
<ul>
<li>Debug code has a big overhead</li>
<li>Timings in the emulator do not predict timings on the phone</li>
<li>It does pay of to use an array instead of a list. Over 100% <img class="wlEmoticon wlEmoticon-smile" style="border-style: none" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/peter/van/ooijen/wlEmoticon-smile_4C36B6CA.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1919787624&amp;Signature=c80PdnPyyFrkBjfd5ihkTlTueCc%3d" alt="Smile" /></li>
</ul>
<h3>Winding down</h3>
<p>The good thing with working with Monotouch is that it makes deploying and debugging real iPhone apps easy. It does also show where the pain points are. The main point to realize is that Monotouch looks and feels like the usual C# and .NET  but is something completely different under the hood. We will see more of that in an upcoming post on submitting a Monotouch app to the AppStore.</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
				<span class="cat-links"><span class="entry-utility-prep entry-utility-prep-cat-links">Posted in <a href="http://codebetter.com/petervanooijen/category/mobile/" title="View all posts in Mobile" rel="category">Mobile</a>, <a href="http://codebetter.com/petervanooijen/category/uncategorized/" title="View all posts in Uncategorized" rel="category">Uncategorized</a></span></span>
				<span class="meta-sep"> | </span>
												<span class="comments-link"><a href="http://codebetter.com/petervanooijen/2010/10/28/monotouch-your-c-app-on-a-real-iphone/#respond" title="Comment on Monotouch: your C# app on a real iPhone"><span class="dsq-postid" rel="584 /blogs/peter.van.ooijen/archive/2010/10/28/monotouch-your-c-app-on-a-real-iphone.aspx">View Comments</span></a></span>
							</div><!-- #entry-utility -->
		</div><!-- #post-584 -->

		
						
			<div id="post-583" class="post-583 post type-post status-publish format-standard hentry category-coding category-mobile">
			<h2 class="entry-title"><a href="http://codebetter.com/petervanooijen/2010/09/28/monotouch-drawing-an-image-pixel-by-pixel/" title="Permalink to Monotouch: drawing an image pixel by pixel" rel="bookmark">Monotouch: drawing an image pixel by pixel</a></h2>

			<div class="entry-meta">
				<span class="meta-prep meta-prep-author">Posted on </span><a href="http://codebetter.com/petervanooijen/2010/09/28/monotouch-drawing-an-image-pixel-by-pixel/" title="10:52 am" rel="bookmark"><span class="entry-date">September 28, 2010</span></a> <span class="meta-sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://codebetter.com/petervanooijen" title="View all posts by Peter van Ooijen">Peter van Ooijen</a></span>			</div><!-- .entry-meta -->

				<div class="entry-content">
				<p>I have been <a href="/blogs/peter.van.ooijen/archive/2010/08/30/catching-the-iphone-in-the-net.aspx">exploring Monotouch</a>, a C# development environment for the iPhone/iPad,&nbsp; for some time now. And I really do like it. The learning curve is somewhat steep, but after getting familiar with the (rather strict, but not bad at all) philosophy of iOS application architecture it makes my C# skills really shine. In this post I will describe the essence of drawing (a lot of) individual pixels in an image. We will meet the iOS Api as it is wrapped up in the Monotouch framework, working with managed and unmanaged resources and see how the result is used in an iOS app. All in plain C# code.</p>
<h3>The problem</h3>
<p>The graphical API does have a lot of options to draw shapes and colors. But, just like the Windows API, there is no way to write individual pixels. There are tricks like drawing a one by one square, but these are far too expensive to use. The best way is to write directly to the video memory, the iOS API has very useful options to do this. A hurdle is that the encoding of pixel colors is quite different between the iOS api and the video memory.</p>
<h3>Color</h3>
<p>An iOS color is wrapped up in the Monotouch UIColor class. In these color objects the Red, Green, Blue and Alpha value are encoded as floats, with a range between 0 and 1. In the iPhone&rsquo;s video memory these RGBA values are encoded as bytes, just like the Color structure in the&nbsp; .net Framework windows style. This helper Color class bridges these differences. It describes a color in RGB bytes and has a property to translate its value to and from a Monotouch UIcolor.</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt"><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">Color</span></p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">{</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> Color (<span style="color: blue"><span style="color: blue">byte</span></span> r, <span style="color: blue"><span style="color: blue">byte</span></span> g, <span style="color: blue"><span style="color: blue">byte</span></span> b)</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; R = r;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; G = g;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B = b;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">byte</span> R { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">byte</span> G { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">byte</span> B { <span style="color: blue">get</span>; <span style="color: blue">set</span>;}</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> UIColor AsUIColor</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">get</span></p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">float</span> r = (<span style="color: blue">float</span>) R / (<span style="color: blue">float</span>) 255;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">float</span> g = (<span style="color: blue">float</span>) G / (<span style="color: blue">float</span>) 255;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">float</span> b = (<span style="color: blue">float</span>) B / (<span style="color: blue">float</span>) 255;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> <span style="color: blue">new</span> UIColor(r, g, b, 1);</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">set</span></p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">float</span> r, g, b, a;</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">value</span>.GetRGBA(<span style="color: blue">out</span> r, <span style="color: blue">out</span> g, <span style="color: blue">out</span> b, <span style="color: blue">out</span> a);</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; R = (<span style="color: blue">byte</span>) (r * 255);</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; G = (<span style="color: blue">byte</span>) (g * 255);</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B = (<span style="color: blue">byte</span>) (b * 255);</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">}</p>
<p style="margin: 0px;font-family: consolas;background: white;color: black;font-size: 10pt">&nbsp;</p>
<p>The AsUIColor property does the translation.</p>
<h3>Drawing the image</h3>
<p>We are going to build an image, pixel by pixel from a 2-dimensional array of objects having a <em>Color</em> property. Monotouch, in fact the wrapped up iOS API itself, is based on a MVC model. To work with an Image you need an an <em>UIImageView</em> object. The <em>CustomImageView</em> class presented here is a subclass of <em>UIImageView</em>. The View class has an <em>Image</em> property, typed <em>UIImage</em>, which contains the image itself. In the constructor of the custom class the array with the Pixels is passed in. The <em>DrawImage</em> method does build the <em>Image</em> property from this array.</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">class</span> <span style="color: #2b91af">CustomImageView</span> : UIImageView</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> CustomImageView (Cell[][] cells) : <span style="color: blue">base</span>(<span style="color: blue">new</span> RectangleF(0f, 0f, cells[0].Length, cells.Length))</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cells = cells;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">private</span> Cell[][] Cells { <span style="color: blue">get</span>; <span style="color: blue">set</span>; }&nbsp;&nbsp;&nbsp; </p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">void</span> DrawImage ()</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">IntPtr</span> buffer = <span style="color: #2b91af">IntPtr</span>.Zero;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CGBitmapContext context = <span style="color: blue">null</span>;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">try</span> {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> width = Cells[0].Length;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buffer = <span style="color: #2b91af">Marshal</span>.AllocHGlobal (Cells.Length * width * 4);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> colorSpace = CGColorSpace.CreateDeviceRGB ();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; context = <span style="color: blue">new</span> CGBitmapContext (buffer, width, Cells.Length, 8, 4 * width, colorSpace, CGImageAlphaInfo.NoneSkipFirst);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; colorSpace.Dispose ();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; context.InterpolationQuality = CGInterpolationQuality.None;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; context.SetAllowsAntialiasing (<span style="color: blue">false</span>);</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">unsafe</span> {</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> bufPtr = (<span style="color: blue">byte</span>*)((<span style="color: blue">void</span>*)buffer);</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; Cells.Length; i++) {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> ofset = i * width;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">for</span> (<span style="color: blue">int</span> j = 0; j &lt; width; j++) {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> cell = Cells[i][j];</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> bc = 4 * (ofset + j);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">if</span> (cell.State == CellState.Alive) {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bufPtr[bc + 1] = cell.Color.R;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bufPtr[bc + 2] = cell.Color.G;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bufPtr[bc + 3] = cell.Color.B;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">else</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bufPtr[bc + 1] = 0;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bufPtr[bc + 2] = 0;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bufPtr[bc + 3] = 0;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Image = UIImage.FromImage (context.ToImage ());</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <span style="color: blue">finally</span> {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">if</span> (context != <span style="color: blue">null</span>)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; context.Dispose ();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #2b91af">Marshal</span>.FreeHGlobal (buffer);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment--></p>
<p>In the constructor the image is passed in. The constructor invokes the base constructor of the UIImageView class to set the view&rsquo;s size. All work is done in DrawImage</p>
<p>&nbsp;</p>
<ul>
<li>
<p>Declare a bitmap context</p>
</li>
<li>
<p>Allocate a buffer of 4 bytes per pixel</p>
</li>
<li>
<p>Create a colorspace. Here it is a plain RGB colorspace</p>
</li>
<li>
<p>Initialize the bitmapcontext. Some of the parameters are somewhat misty or may seem redundant. The 8 stands for 8 bits per component. Besides the width the number of bytes per row is required as well. The parameterlist is more or less self describing, else just check <a href="http://www.go-mono.com/docs/">the documentation</a>.</p>
</li>
<li>
<p>Dispose the colorcontext. It is an unmanaged resource.</p>
</li>
<li>
<p>Switch of interpolation and antialiasing for the sake of speed. All pixels will be set explicitly anyhow</p>
</li>
</ul>
<p>Next comes the unsafe part. Here we step right into the deepness of the iPhone. The good thing is that C# has the <em>unsafe</em> keyword for isolating unsafe code. It requires setting the &ldquo;allow unsafe code&rdquo; option in the project&rsquo;s property.</p>
<ul>
<li>&nbsp;
<ul>
</ul>
</li>
<li>
<p>bufPtr is pointer to the buffer of the bitmapcontext.</p>
</li>
<li>
<p>In this buffer every 4 bytes encode one pixel.</p>
</li>
<li>
<p>The &ldquo;meaning&rdquo; of these bytes was determined by the colorInfo and CGImageAlphaInfo parameters passed to the constructor of the bitmap-context. In this case it is ARGB.</p>
</li>
<li>
<p>The color bytes form the color are copied into the buffer.</p>
</li>
<li>
<p>Note that you need to set every pixel. There is no guarantee whatsoever that the buffer is clean. In case pixels are not set your image will be filled with a lot of noise. In my case I set the RGB values for pixels whose Cell is not Alive (Yes it is the game of life, but not as you know it <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> ) explicitly to 0.</p>
</li>
<li>
<p>Having filled the buffer the Image is created by invoking context.ToImage()</p>
</li>
<li>
<p>Finally you have to clean up all unmanaged resources. The context is disposed and the buffer is freed. The try finally construct makes sure that the resources are always discarded, also when en error is hit..</p>
</li>
</ul>
<p>&nbsp;</p>
<ul>
</ul>
<h3>Using the view</h3>
<p>&nbsp;</p>
<p><!--EndFragment--></p>
<p>This custom built imageview can be displayed by adding it as a subview to any other view. When you have the array of pixels ready that&rsquo;s straightforward. Like here in main()</p>
<div style="font-family: consolas;background: white;color: black;font-size: 10pt">
<p style="margin: 0px"><span style="color: green">// The name AppDelegate is referenced in the MainWindow.xib file.</span></p>
<p style="margin: 0px"><span style="color: blue">public</span> <span style="color: blue">partial</span> <span style="color: blue">class</span> <span style="color: #2b91af">AppDelegate</span> : UIApplicationDelegate</p>
<p style="margin: 0px">{</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: green">// This method is invoked when the application has loaded its UI and its ready to run</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">override</span> <span style="color: blue">bool</span> FinishedLaunching (UIApplication app, NSDictionary options)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// If you have defined a view, add it here:</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">// window.AddSubview (navigationController.View);</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> LifesGrid = MyGrid();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">var</span> LifesImage = <span style="color: blue">new</span> CustomImageView (LifesGrid);</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.AddSubview(LifesImage);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.MakeKeyAndVisible ();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LifesImage.DrawImage ();</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">return</span> <span style="color: blue">true</span>;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">&nbsp;</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: green">// This method is required in iPhoneOS 3.0</span></p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; <span style="color: blue">public</span> <span style="color: blue">override</span> <span style="color: blue">void</span> OnActivated (UIApplication application)</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; {</p>
<p style="margin: 0px">&nbsp;&nbsp;&nbsp; }</p>
<p style="margin: 0px">}</p>
</div>
<p><!--EndFragment--></p>
<p>The customview is now a part of your app. After manipulating the content of the array updating the image requires a new call to <em>DrawImage</em>.</p>
<h3>Winding down</h3>
<p>In this example we have seen C# and the Monotouch .net framework really shine. No refcounting issues at all, just one pointer. When it comes to working with unmanaged resources the combination of try finally and Idisposable does its work in a clear manner. And when it comes to banging deep inside memory itself <em>unsafe</em> makes that clear code as well.</p>
<p>This way building iPhone apps is plain pleasure. Which would be complete having Resharper for MonoDevelop. As I mentioned before the latter does have some refactoring and code-analysis, but they completely pale compared what I was used to.</p>
							</div><!-- .entry-content -->
	
			<div class="entry-utility">
				<span class="cat-links"><span class="entry-utility-prep entry-utility-prep-cat-links">Posted in <a href="http://codebetter.com/petervanooijen/category/coding/" title="View all posts in Coding" rel="category">Coding</a>, <a href="http://codebetter.com/petervanooijen/category/mobile/" title="View all posts in Mobile" rel="category">Mobile</a></span></span>
				<span class="meta-sep"> | </span>
												<span class="comments-link"><a href="http://codebetter.com/petervanooijen/2010/09/28/monotouch-drawing-an-image-pixel-by-pixel/#respond" title="Comment on Monotouch: drawing an image pixel by pixel"><span class="dsq-postid" rel="583 /blogs/peter.van.ooijen/archive/2010/09/28/monotouch-drawing-an-image-pixel-by-pixel.aspx">View Comments</span></a></span>
							</div><!-- #entry-utility -->
		</div><!-- #post-583 -->

		
			
	<div id="nav-below" class="navigation">
		<div class="nav-next"><a href="?page=1" > Next Page &raquo;</a></div>
		
	</div><!-- #nav-below -->
			</div><!-- #main -->
			<div id="sidebar" class="grid_4">
						<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title">Small bio</h3><div class="ub-grav" style="margin:5px 5px 0px 5px;float: none;"><img alt='' src='http://1.gravatar.com/avatar/5cb0e972c5e405e6bff7e7f2da237c6d?s=96&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D96&amp;r=G' class='avatar avatar-96 photo' height='96' width='96' /></div>
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
					<li id="tag_cloud-3" class="widget-container widget_tag_cloud"><h3 class="widget-title">Post categories</h3><div class="tagcloud"><a href='http://codebetter.com/petervanooijen/category/asp-net/' class='tag-link-1725' title='67 topics' style='font-size: 16.3151515152pt;'>ASP.NET</a>
<a href='http://codebetter.com/petervanooijen/category/chatter/' class='tag-link-6709' title='69 topics' style='font-size: 16.4848484848pt;'>Chatter</a>
<a href='http://codebetter.com/petervanooijen/category/coding/' class='tag-link-6706' title='49 topics' style='font-size: 15.2121212121pt;'>Coding</a>
<a href='http://codebetter.com/petervanooijen/category/data/' class='tag-link-6708' title='45 topics' style='font-size: 14.8727272727pt;'>Data</a>
<a href='http://codebetter.com/petervanooijen/category/featured/' class='tag-link-1356' title='6 topics' style='font-size: 8pt;'>Featured</a>
<a href='http://codebetter.com/petervanooijen/category/hardware/' class='tag-link-4927' title='13 topics' style='font-size: 10.5454545455pt;'>Hardware</a>
<a href='http://codebetter.com/petervanooijen/category/mobile/' class='tag-link-6712' title='13 topics' style='font-size: 10.5454545455pt;'>Mobile</a>
<a href='http://codebetter.com/petervanooijen/category/outofcontrol/' class='tag-link-6705' title='13 topics' style='font-size: 10.5454545455pt;'>Out+of+control</a>
<a href='http://codebetter.com/petervanooijen/category/tabletpc/' class='tag-link-6707' title='45 topics' style='font-size: 14.8727272727pt;'>Tablet+PC</a>
<a href='http://codebetter.com/petervanooijen/category/uncategorized/' class='tag-link-1044' title='318 topics' style='font-size: 22pt;'>Uncategorized</a>
<a href='http://codebetter.com/petervanooijen/category/usergroupsandmeetings/' class='tag-link-6711' title='25 topics' style='font-size: 12.7515151515pt;'>User+groups+and+meetings</a></div>
</li>		<li id="recent-posts-3" class="widget-container widget_recent_entries">		<h3 class="widget-title">Recent Posts</h3>		<ul>
				<li><a href="http://codebetter.com/petervanooijen/2011/01/31/c-for-the-iphone-monotouch-is-here-to-stay/" title="C# for the iPhone: Monotouch is here to stay">C# for the iPhone: Monotouch is here to stay</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2010/12/28/seasons-gifts-from-the-monotouch-iphone-treasure-chest-background-gps-tasks-and-uicontrol/" title="Seasons gifts from the MonoTouch (iPhone) treasure chest. Background (GPS) tasks and UIControl">Seasons gifts from the MonoTouch (iPhone) treasure chest. Background (GPS) tasks and UIControl</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2010/11/05/kalifescope-and-monotouch-from-idea-to-the-appstore/" title="Kalifescope and Monotouch, from idea to the AppStore">Kalifescope and Monotouch, from idea to the AppStore</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2010/10/28/monotouch-your-c-app-on-a-real-iphone/" title="Monotouch: your C# app on a real iPhone">Monotouch: your C# app on a real iPhone</a></li>
				<li><a href="http://codebetter.com/petervanooijen/2010/09/28/monotouch-drawing-an-image-pixel-by-pixel/" title="Monotouch: drawing an image pixel by pixel">Monotouch: drawing an image pixel by pixel</a></li>
			<script type="text/javascript">
	// <![CDATA[
		var disqus_shortname = 'codebetterpetergekkosblog';
		var disqus_domain = 'disqus.com';
		(function () {
			var nodes = document.getElementsByTagName('span');
			for (var i = 0, url; i < nodes.length; i++) {
				if (nodes[i].className.indexOf('dsq-postid') != -1) {
					nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('rel'));
					url = nodes[i].parentNode.href.split('#', 1);
					if (url.length == 1) url = url[0];
					else url = url[1]
					nodes[i].parentNode.href = url + '#disqus_thread';
				}
			}
			var s = document.createElement('script'); s.async = true;
			s.type = 'text/javascript';
			s.src = 'http://' + disqus_domain + '/forums/' + disqus_shortname + '/count.js';
			(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
		}());
	//]]>
	</script>
		</ul>
		</li><li id="linkcat-1046" class="widget-container widget_links"><h3 class="widget-title">Blogroll</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://www.Gekko-Software.nl" title="Website Gekko Software">My company</a></li>

	</ul>
</li>
<li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Post archive</h3>		<ul>
			<li><a href='http://codebetter.com/petervanooijen/2011/01/' title='January 2011'>January 2011</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/12/' title='December 2010'>December 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/11/' title='November 2010'>November 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/10/' title='October 2010'>October 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/09/' title='September 2010'>September 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/08/' title='August 2010'>August 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/07/' title='July 2010'>July 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/06/' title='June 2010'>June 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/05/' title='May 2010'>May 2010</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/04/' title='April 2010'>April 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/03/' title='March 2010'>March 2010</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/02/' title='February 2010'>February 2010</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2010/01/' title='January 2010'>January 2010</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/12/' title='December 2009'>December 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/11/' title='November 2009'>November 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/10/' title='October 2009'>October 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/09/' title='September 2009'>September 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/08/' title='August 2009'>August 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/07/' title='July 2009'>July 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/06/' title='June 2009'>June 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/05/' title='May 2009'>May 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/04/' title='April 2009'>April 2009</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/03/' title='March 2009'>March 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/02/' title='February 2009'>February 2009</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2009/01/' title='January 2009'>January 2009</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/12/' title='December 2008'>December 2008</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/11/' title='November 2008'>November 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/10/' title='October 2008'>October 2008</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/09/' title='September 2008'>September 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/08/' title='August 2008'>August 2008</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/07/' title='July 2008'>July 2008</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/06/' title='June 2008'>June 2008</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/05/' title='May 2008'>May 2008</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/04/' title='April 2008'>April 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/03/' title='March 2008'>March 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/02/' title='February 2008'>February 2008</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2008/01/' title='January 2008'>January 2008</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/12/' title='December 2007'>December 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/11/' title='November 2007'>November 2007</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/10/' title='October 2007'>October 2007</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/09/' title='September 2007'>September 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/08/' title='August 2007'>August 2007</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/07/' title='July 2007'>July 2007</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/06/' title='June 2007'>June 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/05/' title='May 2007'>May 2007</a>&nbsp;(1)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/04/' title='April 2007'>April 2007</a>&nbsp;(2)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/03/' title='March 2007'>March 2007</a>&nbsp;(3)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/02/' title='February 2007'>February 2007</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2007/01/' title='January 2007'>January 2007</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/12/' title='December 2006'>December 2006</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/11/' title='November 2006'>November 2006</a>&nbsp;(7)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/10/' title='October 2006'>October 2006</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/09/' title='September 2006'>September 2006</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/08/' title='August 2006'>August 2006</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/07/' title='July 2006'>July 2006</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/06/' title='June 2006'>June 2006</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/05/' title='May 2006'>May 2006</a>&nbsp;(6)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/04/' title='April 2006'>April 2006</a>&nbsp;(8)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/03/' title='March 2006'>March 2006</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/02/' title='February 2006'>February 2006</a>&nbsp;(10)</li>
	<li><a href='http://codebetter.com/petervanooijen/2006/01/' title='January 2006'>January 2006</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/12/' title='December 2005'>December 2005</a>&nbsp;(4)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/11/' title='November 2005'>November 2005</a>&nbsp;(7)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/10/' title='October 2005'>October 2005</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/09/' title='September 2005'>September 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/08/' title='August 2005'>August 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/07/' title='July 2005'>July 2005</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/06/' title='June 2005'>June 2005</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/05/' title='May 2005'>May 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/04/' title='April 2005'>April 2005</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/03/' title='March 2005'>March 2005</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/02/' title='February 2005'>February 2005</a>&nbsp;(27)</li>
	<li><a href='http://codebetter.com/petervanooijen/2005/01/' title='January 2005'>January 2005</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/12/' title='December 2004'>December 2004</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/11/' title='November 2004'>November 2004</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/10/' title='October 2004'>October 2004</a>&nbsp;(11)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/09/' title='September 2004'>September 2004</a>&nbsp;(9)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/08/' title='August 2004'>August 2004</a>&nbsp;(8)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/07/' title='July 2004'>July 2004</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/06/' title='June 2004'>June 2004</a>&nbsp;(13)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/05/' title='May 2004'>May 2004</a>&nbsp;(13)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/04/' title='April 2004'>April 2004</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/03/' title='March 2004'>March 2004</a>&nbsp;(21)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/02/' title='February 2004'>February 2004</a>&nbsp;(23)</li>
	<li><a href='http://codebetter.com/petervanooijen/2004/01/' title='January 2004'>January 2004</a>&nbsp;(14)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/12/' title='December 2003'>December 2003</a>&nbsp;(15)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/11/' title='November 2003'>November 2003</a>&nbsp;(20)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/10/' title='October 2003'>October 2003</a>&nbsp;(30)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/09/' title='September 2003'>September 2003</a>&nbsp;(13)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/08/' title='August 2003'>August 2003</a>&nbsp;(12)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/07/' title='July 2003'>July 2003</a>&nbsp;(5)</li>
	<li><a href='http://codebetter.com/petervanooijen/2003/06/' title='June 2003'>June 2003</a>&nbsp;(4)</li>
		</ul>
</li>				</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #content -->
	
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.361 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-31 14:06:29 -->
<!-- super cache -->