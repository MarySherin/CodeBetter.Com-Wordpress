<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>An investigation into routes | Kyle Baley</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/kylebaley/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://cdn1.codebetter.com/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/kylebaley/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Kyle Baley' href='http://codebetter.com/kylebaley/' />
<link rel='start' title='The CodeBetter Hillbilly, or &quot;How to build a better banjo&quot;' href='http://codebetter.com/kylebaley/2007/12/13/the-codebetter-hillbilly-or-quot-how-to-build-a-better-banjo-quot/' />
<link rel='prev' title='ASP.NET MVC and the GAAAK!' href='http://codebetter.com/kylebaley/2008/12/12/asp-net-mvc-and-the-gaaak/' />
<link rel='next' title='Many-to-many relationships with data attached in NHibernate' href='http://codebetter.com/kylebaley/2008/12/24/many-to-many-relationships-with-data-attached-in-nhibernate/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/kylebaley/2008/12/18/an-investigation-into-routes/' />
<link rel='shortlink' href='http://codebetter.com/kylebaley/?p=117' />
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/kylebaleycb/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-117" class="post-117 post type-post status-publish format-standard hentry category-asp-net-mvc">
					<h1 class="entry-title">An investigation into routes</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/kylebaley/author/kylebaley/" title="View all posts by Kyle Baley">Kyle Baley</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/kylebaley/2008/12/18/an-investigation-into-routes/" title="11:59 pm" rel="bookmark"><span class="entry-date">December 18, 2008</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/kylebaley/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/kylebaley/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>This post would probably be more entertaining if I dictated it because then you could all have a good chuckle on my Canadian pronunciation on &quot;route&quot;. For the record, it is supposed to be pronounced &quot;root&quot;, which is clean, terse, and polite. Not &quot;r-OW-t&quot;, which, if done correctly (like in Texas), requires your jaw to be double-jointed.</p>
<p>To date, routes have always been something I&#8217;ve kinda, sorta had figured out. I use the default ones as much as possible and when I stray from that, I end up plugging away until they work for my current situation. Sometimes this involves creating hard-coded ones, other times simply re-arranging the order has the desired effect.</p>
<p>Oh sorry, did I just make you throw up a little?</p>
<p>But now it&#8217;s time to tackle these little beasties head-on, thanks in no small part to Ben Scheirman&#8217;s <a href="http://flux88.com/blog/fluent-route-testing-in-asp-net-mvc/" target="_blank">recent addition to MvcContrib</a>, wherein you can test your routing strategy with a call as simple as:</p>
<pre>&quot;~/Still/AddIngredient/Dandelion&quot;.Route().ShouldMapTo( c =&gt; c.AddIngredient( &quot;Dandelion&quot; ) );</pre>
<p>First, let&#8217;s take a look at a concrete example to define the problem space. Here is a sample route table:</p>
<pre>routes.Add(new Route(&quot;{controller}/{action}&quot;, new MvcRouteHandler())
   {
       Defaults = new RouteValueDictionary(new {action = &quot;Index&quot;}),
   }); 

routes.Add(new Route(&quot;{controller}/{id}/{action}&quot;, new MvcRouteHandler())
   {
       Defaults = new RouteValueDictionary(new {action = &quot;Index&quot;, id = &quot;&quot;}),
   }); </pre>
<p>With something like this, and in fact, with routes in general, order is important. More so than I&#8217;d like, quite frankly. A URL like ~/Still/Mix will match the first one but one like ~/Still/101/Dismantle matches the second. Note that in this scenario, the default values in the second one seem meaningless. If no action or id are provided, the first route will be used so there is no need for defaults. We&#8217;ll come back to that.</p>
<p>It should also be noted that the routes come into play not only when parsing URLs but when generating them. This is actually what led to this post. In one of our controllers, we used the RedirectToRoute result. For those of you that can&#8217;t parse out Pascal casing, this just allows you to redirect to another route from within an action.</p>
<p>The final line of that action was: <font face="Courier New" size="2">return RedirectToRouteResult( &quot;Ferment&quot;, &quot;Hooch&quot;, new { id = 123 } );</font></p>
<p>Given the above route table, what do you suppose would be the URL that this generates? If you say ~/Hooch/123/Ferment, give yourself a pat on the back. But it&#8217;ll be just because you&#8217;re a nice guy/gal because it&#8217;s actually wrong. The correct answer is: ~/Hooch/Ferment?id=123.</p>
<p>Here&#8217;s the thought process as I imagine it to be. The route generator checks the first route in the dictionary, which is &quot;{controller}/{action}&quot; and says &quot;Can I make these values match that route?&quot; Well, of course it can. It&#8217;s got a controller and an action. Everything else can be tacked on in the query string.</p>
<p>This URL turned out to be a bit of an issue for me because of another problem that this uncovered. At some point in our controller, we reference <font face="Courier New">ViewContext.RouteData.Values[&quot;id&quot;]</font>. And with the id as part of the query string, this bit of code returns null. The debugger shows that for a URL of ~/Hooch/Ferment?id=123, the RouteData collection contains two values: controller = Hooch and action = Ferment. The id is nowhere to be found, at least by the RouteData.</p>
<p>So how *do* we get the RedirectToRouteResult to generate a shinier URL? Why, we fiddle with the routes until they work, of course! It&#8217;s the principle that bug fixing is based upon.</p>
<p>I jest, of course. But only partly. We do need to fiddle with the routes but we should really write a test to verify that the ViewContext.RouteData is being set properly. Unfortunately, this isn&#8217;t easy without some funky mocking.</p>
<p>One would think that you could just examine the RedirectToRouteResult coming back from the controller action but alas! It appears correct. I.e. It has all three components (controller, action, and id) set properly. I suppose the ViewContext.RouteData is set somewhere else in the bowels of the framework. So I&#8217;ll skip the test because I&#8217;m already over my allotted time. Plus we&#8217;re using Preview 5 still and this could very well be different in the beta.</p>
<p>Let&#8217;s reverse the order of the routes in the table and see what happens. Here&#8217;s what that looks like:</p>
<pre>routes.Add(new Route(&quot;{controller}/{id}/{action}&quot;, new MvcRouteHandler())
   {
       Defaults = new RouteValueDictionary(new {action = &quot;Index&quot;, id = &quot;&quot;}),
   }); 

routes.Add(new Route(&quot;{controller}/{action}&quot;, new MvcRouteHandler())
   {
       Defaults = new RouteValueDictionary(new {action = &quot;Index&quot;}),
   }); </pre>
<p>This immediately caused problems. The URL ~/Still/Mix now maps to the first route. That is, it is invoking the Index action on the Still controller with an id of Mix. Again, the defaults are screwing us over like some sort of mot&#8211;&#8230;actually, let&#8217;s leave the simile out of that one. Part of the reason for our problem is because the {action} is in a different place in each route. But with the defaults in place, this set up will essentially ensure the second route will never be used.</p>
<p>Instead, we need to take out the defaults altogether, like so:</p>
<pre>routes.Add(new Route(&quot;{controller}/{id}/{action}&quot;, new MvcRouteHandler())
   {
       Defaults = new RouteValueDictionary(new {}),
   }); 

routes.Add(new Route(&quot;{controller}/{action}&quot;, new MvcRouteHandler())
   {
       Defaults = new RouteValueDictionary(new {action = &quot;Index&quot;}),
   }); </pre>
<p>Now we&#8217;re cooking. The URL ~/Still/Mix no longer matches the first route because we haven&#8217;t provided an id. But ~/Still/101/Dismantle does meet the requirements. Furthermore, generating a <font face="Courier New">RedirectToRouteResult( &quot;Ferment&quot;, &quot;Hooch&quot;, new { id = 123 } )</font> now gives us a URL in the format: ~/Hooch/123/Ferment. Again, this is because it examines the first route in the table and finds a match.</p>
<p>I&#8217;ve omitted quite a bit of context here, like why we have {id} second in the route and why we&#8217;re referencing ViewContext.RouteData.Values[&quot;id&quot;] in the first place. There is a good reason for all of that. At least as far as you know&#8230;</p>
<p>Kyle the Evasive</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/kylebaley/category/asp-net-mvc/" title="View all posts in ASP.NET MVC" rel="category tag">ASP.NET MVC</a>. Bookmark the <a href="http://codebetter.com/kylebaley/2008/12/18/an-investigation-into-routes/" title="Permalink to An investigation into routes" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/kylebaley/2008/12/18/an-investigation-into-routes/feed/" title="Comments RSS to An investigation into routes" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-117 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/kylebaley/2008/12/12/asp-net-mvc-and-the-gaaak/" rel="prev"><span class="meta-nav">&larr;</span> ASP.NET MVC and the GAAAK!</a></div>
					<div class="nav-next"><a href="http://codebetter.com/kylebaley/2008/12/24/many-to-many-relationships-with-data-attached-in-nhibernate/" rel="next">Many-to-many relationships with data attached in NHibernate <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-646">
					<div id="dsq-comment-header-646" class="dsq-comment-header">
						<cite id="dsq-cite-646">
	http://flux88.com							<span id="dsq-author-user-646">Ben Scheirman</span>
							</cite>
					</div>
					<div id="dsq-comment-body-646" class="dsq-comment-body">
						<div id="dsq-comment-message-646" class="dsq-comment-message"><p>You do know about the routes.MapRoute(..) helper method right?  it makes your routes a tad easier to build.</p>
<p>Also, I modified the code in MvcContrib to take out the Route() method.  It&#8217;s actually still there if you want the raw route data from the string, but now you can just say &#8220;~/candiens/tawk/funneh&#8221;.ShouldRouteTo<foocontroller>(x=>x.Yeehaw());</foocontroller></p>
</div>
					</div>
				</li>
					<li id="dsq-comment-647">
					<div id="dsq-comment-header-647" class="dsq-comment-header">
						<cite id="dsq-cite-647">
	http://chadmyers.lostechies.com							<span id="dsq-author-user-647">Chad Myers</span>
							</cite>
					</div>
					<div id="dsq-comment-body-647" class="dsq-comment-body">
						<div id="dsq-comment-message-647" class="dsq-comment-message"><p>The correct pronunciation is actually &#8220;r-OW-t&#8221;, not &#8220;root&#8221;. Roots are roots, routes are &#8220;r-OW-ts&#8221;. Unless you live in the UK, but they screw up S&#8217;s and Z&#8217;s, and eat human placentas, so I&#8217;m not sure they&#8217;re qualified to be the authority on anything.</p>
<p>Curiously, native Texans generally say &#8220;root&#8221; or &#8220;rut&#8221;, so they actually have MORE in common with the British in this regard. British have silly words like &#8216;loo&#8217; and &#8216;poppycock&#8217;, similar to how Texans say things like &#8220;tump&#8221; and &#8220;ya&#8217;ll&#8221;.</p>
<p>In summary, the civilized world uses the &#8220;r-OW-t&#8221; pronunciation while cross-eyed, mouth-breathing, elbows-on-table barbarians use &#8220;root&#8221;.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-648">
					<div id="dsq-comment-header-648" class="dsq-comment-header">
						<cite id="dsq-cite-648">
								<span id="dsq-author-user-648">Kyle Baley</span>
							</cite>
					</div>
					<div id="dsq-comment-body-648" class="dsq-comment-body">
						<div id="dsq-comment-message-648" class="dsq-comment-message"><p>Lord Tunderin&#8217; Jayzus, it figures the first two commenters here would be a couple o&#8217; Texans.</p>
<p>Ben: I did know about it but it didn&#8217;t occur to me to refactor to it. Hard to see the forest for the trees when you&#8217;re neck deep in it. Thanks.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-649">
					<div id="dsq-comment-header-649" class="dsq-comment-header">
						<cite id="dsq-cite-649">
								<span id="dsq-author-user-649">McOz</span>
							</cite>
					</div>
					<div id="dsq-comment-body-649" class="dsq-comment-body">
						<div id="dsq-comment-message-649" class="dsq-comment-message"><p>Australians say ‘root’.  This is also a colloquialism for engaging in sexual intercourse as popularised by the classic hit ‘Rooting in the Back of the Ute” by Kevin Bloody Wilson.  (‘ute’ being slang for ‘Utility Vehicle’, a two seater car with an open back tray for carrying goods).</p>
<p>“Wanna root?” is considered a typical Australian mating call, usually (but not always) uttered by the male of the species after consuming a minimum 8 cans of larger.  Refusal of such a proposition does not offend as after all, there’s usually plenty more been to be drunk.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-650">
					<div id="dsq-comment-header-650" class="dsq-comment-header">
						<cite id="dsq-cite-650">
								<span id="dsq-author-user-650">Steve Sheldon</span>
							</cite>
					</div>
					<div id="dsq-comment-body-650" class="dsq-comment-body">
						<div id="dsq-comment-message-650" class="dsq-comment-message"><p>I was just reading something similar today.  </p>
<p><a href="http://weblogs.asp.net/leftslipper/archive/2008/12/17/optimizing-your-route-collection-for-url-generation-in-asp-net-mvc-and-more.aspx" rel="nofollow">http://weblogs.asp.net/leftslipper/archive/2008/12/17/optimizing-your-route-collection-for-url-generation-in-asp-net-mvc-and-more.aspx</a></p>
<p>He suggests using named routes, and I know from my playing I have had to do that on occasion to have it use the right route.  I wonder if it might also not be faster as it&#8217;s not going down the list of routes trying to match them?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-651">
					<div id="dsq-comment-header-651" class="dsq-comment-header">
						<cite id="dsq-cite-651">
	http://hadihariri.com							<span id="dsq-author-user-651">Hadi Hariri</span>
							</cite>
					</div>
					<div id="dsq-comment-body-651" class="dsq-comment-body">
						<div id="dsq-comment-message-651" class="dsq-comment-message"><p>Now I don&#8217;t feel awkward when I say &#8220;root&#8221;. And it&#8217;s a &#8220;rooter&#8221; not a &#8220;rawter&#8221;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-652">
					<div id="dsq-comment-header-652" class="dsq-comment-header">
						<cite id="dsq-cite-652">
	http://liz@buckinghampalace.gov.uk							<span id="dsq-author-user-652">Queen Elizabeth II</span>
							</cite>
					</div>
					<div id="dsq-comment-body-652" class="dsq-comment-body">
						<div id="dsq-comment-message-652" class="dsq-comment-message"><p>Now listen to me you rebellious colonials. It&#8217;s my language and I hearby decree that the correct pronunciation (that is pro-NUN-ciation BTW) of route is root.</p>
<p>BTW you now owe us 232 years of back-dated tea taxes. </p>
<p>HRH</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-653">
					<div id="dsq-comment-header-653" class="dsq-comment-header">
						<cite id="dsq-cite-653">
	http://www.alvinashcraft.com							<span id="dsq-author-user-653">Alvin Ashcraft</span>
							</cite>
					</div>
					<div id="dsq-comment-body-653" class="dsq-comment-body">
						<div id="dsq-comment-message-653" class="dsq-comment-message"><p>Gotta agree with Chad on the pronunciation issue. Sorry, your highness&#8230;</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-654">
					<div id="dsq-comment-header-654" class="dsq-comment-header">
						<cite id="dsq-cite-654">
	http://wekempf.spaces.live.com							<span id="dsq-author-user-654">wekempf</span>
							</cite>
					</div>
					<div id="dsq-comment-body-654" class="dsq-comment-body">
						<div id="dsq-comment-message-654" class="dsq-comment-message"><p>According to all the dictionaries I could find, both pronunciations are correct.  So basically, you&#8217;re participating in a religious debate.  Then again, as techies, that seems to be the norm.</p>
<p>Poe-TAY-toe, Poe-TAH-toe, Toe-MAY-toe, Toe-MAH-toe.  Let&#8217;s call the whole thing off.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-655">
					<div id="dsq-comment-header-655" class="dsq-comment-header">
						<cite id="dsq-cite-655">
	http://www.honestillusion.com							<span id="dsq-author-user-655">James Curran</span>
							</cite>
					</div>
					<div id="dsq-comment-body-655" class="dsq-comment-body">
						<div id="dsq-comment-message-655" class="dsq-comment-message"><p>Ok, so you are all right &#038; all wrong.</p>
<p>Route (&#8220;root&#8221;) is a noun.<br />
Route (&#8220;r-OW-t&#8221;) is a verb.</p>
<p>Hence one might  say &#8220;/root/ 80 was backed up, so I /rowted/ him around on /root/ 46&#8243;.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-656">
					<div id="dsq-comment-header-656" class="dsq-comment-header">
						<cite id="dsq-cite-656">
	http://www.blogcoward.com							<span id="dsq-author-user-656">jdn</span>
							</cite>
					</div>
					<div id="dsq-comment-body-656" class="dsq-comment-body">
						<div id="dsq-comment-message-656" class="dsq-comment-message"><p>So, it is:</p>
<p>&#8220;so let&#8217;s route, route, route for the home team, if they don&#8217;t win it&#8217;s a shame&#8221;</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/kylebaley/2008/12/18/an-investigation-into-routes/ ';
	var disqus_identifier = '117 /blogs/kyle.baley/archive/2008/12/18/an-investigation-into-routes.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'kylebaleycb';
	var disqus_title = "An investigation into routes";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=117');
		});
					};
	var facebookXdReceiverPath = 'http://cdn1.codebetter.com/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/kylebaley\/2008\/12\/18\/an-investigation-into-routes\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.246 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-31 07:19:02 -->
<!-- super cache -->