<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>MEF Preview 5, changes and enhancements | Glenn Block</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/glennblock/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/glennblock/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/glennblock/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/glennblock/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/glennblock/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Glenn Block' href='http://codebetter.com/glennblock/' />
<link rel='start' title='IoC.AddComponent&lt;IBloggingStrategy, CodeBetterBloggingStrategy&gt;();' href='http://codebetter.com/glennblock/2008/01/03/ioc-addcomponent-lt-ibloggingstrategy-codebetterbloggingstrategy-gt/' />
<link rel='prev' title='Creating a functional programming model for MEF' href='http://codebetter.com/glennblock/2009/04/03/creating-a-functional-programming-model-for-mef/' />
<link rel='next' title='Poco, Mef, and custom type systems. Are you ready to take the red pill?' href='http://codebetter.com/glennblock/2009/04/27/poco-mef-and-custom-type-systems-are-you-ready-to-take-the-red-pill/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/glennblock/2009/04/12/mef-preview-5-changes-and-enhancements/' />
<link rel='shortlink' href='http://codebetter.com/glennblock/?p=90' />
<link rel="stylesheet" href="http://codebetter.com/glennblock/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><link rel="stylesheet" href="http://disqus.com/stylesheets/mytechnobabble/disqus.css?v=2.0" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/glennblock/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-90" class="post-90 post type-post status-publish format-standard hentry category-mef">
					<h1 class="entry-title">MEF Preview 5, changes and enhancements</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/glennblock/author/glennblock/" title="View all posts by Glenn Block">Glenn Block</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/glennblock/2009/04/12/mef-preview-5-changes-and-enhancements/" title="6:16 am" rel="bookmark"><span class="entry-date">April 12, 2009</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/glennblock/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/glennblock/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/glennblock/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>We recently shipped <a href="http://mef.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=25797">MEF preview 5</a> on <a href="http://mef.codeplex.com/">Codeplex</a>, an exciting release.</p>
<p>In the latest release, you’ll find we’ve made quite a few changes, and some really powerful enhancements to our previous codebase. In this post, I’ll talk about those changes in detail, and why we made them. I’ll also discuss some changes we will be making in the future, in order to give you a heads up, so that you can adjust your code bases now. </p>
<p>Throughout the development of preview 5, we’ve done our best to minimize the impact to you. There are some breaking changes, primarily in terms of namespace refactoring, most of which do <b>not</b> effect part authors, but will effect MEF hosters, and authors of custom programming models or export providers. </p>
<p>Here’s a summary of these changes for those who want to just cut to the chase. For those who want the full skinny, that comes after the summary.</p>
<table border="1" cellspacing="0" cellpadding="0" width="500">
<tbody>
<tr>
<td valign="top" width="103">
<p><b>Change</b></p>
</td>
<td valign="top" width="395">
<p><b>Summary description</b></p>
</td>
</tr>
<tr>
<td valign="top" width="102">New sample application, MEF Studio</td>
<td valign="top" width="396">
<ul>
<li>We have included a new sample application which is a mock pluggable IDE using MEF.</li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">
<p>Namespace changes</p>
</td>
<td valign="top" width="396">
<ul>
<li>System.ComponentModel.Composition – For part authors
<li>System.ComponentModel.Composition.Hosting – For hosters
<li>System.ComponentModel.Composition.Primitives – Infrastructure for defining programming models
<li>System.ComponentModel.Composition.ReflectionModel – Services for implementers of catalog caches, and for reflection based programming models. </li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">
<p>Part Discovery Model and Lifetime Changes</p>
</td>
<td valign="top" width="396">
<ul>
<li>CompositionOptions has been removed
<li>New PartCreationPolicyAttribute&nbsp; for specifying part lifetime (Replaces CompositionOptionsAttribute.CreationPolicy )
<li>Exports are not discovered on base classes by default
<li>New PartNotDiscoverable attribute for specifying that a part should not be discovered by the catalog. (replaces [CompositionOptions(DiscoveryMode = DiscoveryMode.Never)])
<li>New PartExportsInherited attribute allows a base class / interface to declare itself as discoverable by inheritors. (replaces [CompositionOptions(DiscoveryMode = DiscoveryMode.Always)] ) </li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">
<p>Collection Imports</p>
</td>
<td valign="top" width="396">
<ul>
<li>New ImportManyAttribute replaces ImportAttribute on collections in the future.
<li>Array imports are now supported </li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">
<p>Typed Import/Exports</p>
</td>
<td valign="top" width="396">
<ul>
<li>Imports and Exports now match on type as well as contract.
<li>Exporters of string contracts such&nbsp; as [Export(“Foo”)] must now specify the type they expect to be imported as well. e.g. [Export(“Foo”, typeof(string))] </li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">
<p>Custom delegates</p>
</td>
<td valign="top" width="396">
<ul>
<li>Method exports can now use custom delegates in addition to Action and Func </li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">
<p>Directory Catalog changes</p>
</td>
<td valign="top" width="396">
<ul>
<li>DirectoryCatalog no longer has watching functionality. We’ve added a Refresh() method for explicit refresh. </li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">
<p>Removal of caching / new infrastructure</p>
</td>
<td valign="top" width="396">
<ul>
<li>Old caching infrastructure has been ripped. We’ve added a new more general purpose API that is more flexible, and supports builders of custom programming models. We are not shipping a default caching implementation of that API in the box, but one is available in our samples. </li>
</ul>
</td>
</tr>
<tr>
<td valign="top" width="102">&nbsp;</td>
<td valign="top" width="396">&nbsp;</td>
</tr>
</tbody>
</table>
<h2><span style="background: white;color: black">MEF Studio</h2>
<p>MEF Studio is a designer hosting sample. It has an IDE that hosts various designers like Windows Forms, UserControl, etc. One can add controls on to these designers from the toolbox, set properties using the property grid, view generated code, etc. It provides design time experience for the designers and has extension points for extending the adding custom parts.</p>
<p><a href="http://11011.net/software/vspaste"></a></span><br />
<h2><a href="http://codebetter.com/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/glenn.block/image_5F00_0180E8EB.png"><img style="border-bottom: 0px;border-left: 0px;border-top: 0px;border-right: 0px" border="0" alt="image" src="http://s3.amazonaws.com:80/CodeBetter/CommunityServer.Blogs.Components.WeblogFiles/glenn/block/image_thumb_7FD01D16.png?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1920566609&amp;Signature=FwAByIZuhNknX%2bzQGK%2f8Y%2f26rCI%3d" width="507" height="378"></a> </h2>
<h2>Migrating from preview 4</h2>
<p>When you upgrade your existing apps, you will likely run into a few issues. <a href="http://weblogs.asp.net/whaggard/">Wes</a> put together the following useful list of common errors that you might run into when migrating.</p>
<ul>
<li>System.ComponentModel.Composition.Container does not exist -&gt; Add reference to System.ComponentModel.Composition.Hosting namespace
<li>CompositionContainer does not container method AddPart or Compose -&gt; Need to start using CompositionBatch, or one of the helper extension methods ComposeParts or ComposeExportedObjects
<li>CompositionOptionsAttribute does not exist -&gt; For CreationPolicy use PartCreationPolicyAttribute
<li>INotifyImportCompleted does not exist -&gt; Use IPartImportsSatisfiedNotification interface and change method from ImportCompleted to OnImportsSatisfied </li>
</ul>
<h2>Part Lifetime changes</h2>
<p>Previously, the CreationPolicy property of the CompositionOptions attribute was used to declare a part’s lifetime. We found this was less discoverable for customers as they have to know about the existence of the attribute. We also found that CreationPolicy was ambiguous in name, as it does not make clear whether or not the policy applies to the part or the export.</p>
<p>With the new changes, you will use the new PartCreationPolicyAttribute. CompositionOptions has been removed. Having part in the name of the attribute makes it easier to discover, and also removes ambiguity as to it’s scope.</p>
<p>Below the Logger class is declared as shared:</p>
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">PartCreationPolicy</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">CreationPolicy.Shared</span><span style="background: white;color: black">)]
[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">ILogger</span><span style="background: white;color: black">))]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">Logger </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">ILogger
</span><span style="background: white;color: black">{
}</span></pre>
<h2>Part Discovery / Inheritance</h2>
<p>In MEF Preview 4, a part by default would be discovered if there was an export on the most derived class. Additionally a part author could decorate the part with the CompositionOptions attribute, and set the DiscoveryMode property to change the behavior. Regardless of which mode was chosen, we would always look at all exports in the inheritance chain and discover them once we determined a part was a part. </p>
<p>We heard quite a bit of feedback both internally and externally around both the naming of the different enum values for DiscoveryModel, and the resulting behavior. </p>
<h3>Default Behavior</h3>
<p>By default we will only look only at the most derived type to discover exports. If exports are found, then we will do a deep dive to discover all imports wherever they live in the hierarchy, <em>including interface members. </em>This is because imports are an implementation detail of a part, and the part many not function without them. </p>
<p>In the example, we will discover a single export of IOrderScreen, and the OrderList import.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">IOrderScreen</span><span style="background: white;color: black">))]
</span><span style="background: white;color: blue">public abstract class </span><span style="background: white;color: #2b91af">OrderScreen </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">IOrderScreen
</span><span style="background: white;color: black">{
 [</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">]
 </span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">IOrderListView </span><span style="background: white;color: black">OrderList { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }
}

[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">IOrderScreen</span><span style="background: white;color: black">))]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">NorthwindOrderScreen </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">OrderScreen
</span><span style="background: white;color: black">{
}</span></pre>
<p>Below, we will not discover anything, as the export is on the base. </p>
<p><span style="background: white;color: black"><font face="Courier New"></font><a href="http://11011.net/software/vspaste"></a></span>
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">IOrderScreen</span><span style="background: white;color: black">))]
</span><span style="background: white;color: blue">public abstract class </span><span style="background: white;color: #2b91af">OrderScreen </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">IOrderScreen
</span><span style="background: white;color: black">{
}

</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">NorthwindOrderScreen </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">OrderScreen
</span><span style="background: white;color: black">{
 [</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">]
 </span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">IOrderListView </span><span style="background: white;color: black">OrderList { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }
}</span></pre>
<h3>Inherited exports behavior – using the PartExportsInheritedAttributed</h3>
<p>The PartExportsInherited attribute allows declaring on a base class or an <strong>interface</strong> that it’s exports should be discovered by inheritors / implementers. This replaces the previous [CompositionOptions(DiscoveryMode = DiscoveryMode.Always)]. This basically allows you to define a template for a part, and is useful hiding MEF’s implementation details from a part author. Implementers can further extend on what has been provided, such as adding their own exports and imports. </p>
<p>There’s a few guidelines / caveats to using this feature. </p>
<ul>
<li>PartExportsInheritedAttribute only makes the exports of the type it decorates discoverable by inheritors. It does not make exports of derivers of that type discoverable. The deriver itself needs to be decorated in order to make its exports discoverable.
<li>We will ignore loose ExportMetadata attributes (and custom metadata attributes) that do not have an associated export.
<li>If an inheritor overrides a member from the base which has an export, and decorates the overridden member with an export, two exports will be discovered,<em> even if the contract names are the same. </em>This means if you expect implementers to add their own metadata, this might not be the best option, or at least you will need to provide special handling. We are looking into changing this behavior to have the inheritor override rather than be additive.</li>
</ul>
<p>In the example below, NorthwindOrderScreen will automatically export IOrderScreen.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">PartExportsInherited</span><span style="background: white;color: black">]
[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public interface </span><span style="background: white;color: #2b91af">IOrderScreen
</span><span style="background: white;color: black">{
}

</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">NorthwindOrderScreen </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">IOrderScreen
</span><span style="background: white;color: black">{
}</pre>
<p><span style="background: white;color: black">Below NorthwindOrderScreen exports 2 instances of IOrderScreen, one with metadata and one without. The explicit export of IOrderScreen by NorthwindOrderScreen is in addition to the existing export.</span></p>
<p><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">PartExportsInherited</span><span style="background: white;color: black">]<br />[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">]<br /></span><span style="background: white;color: blue">public interface </span><span style="background: white;color: #2b91af">IOrderScreen<br /></span><span style="background: white;color: black">{<br />}</p>
<p>[</span><span style="background: white;color: #2b91af">ExportMetadata</span><span style="background: white;color: black">("Customer", "Northwind"]<br />[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">IOrderScreen</span><span style="background: white;color: black">))]<br /></span><span style="background: white;color: blue">public class</span><span style="background: white;color: #2b91af">NorthwindOrderScreen </span><span style="background: white;color: black">:</span><span style="background: white;color: #2b91af">IOrderScreen<br /></span><span style="background: white;color: black">{<br />}</p>
<p><a href="http://11011.net/software/vspaste"></a><br />
<h3>Ignoring part discovery – Using the PartNotDiscoverableAttribute</h3>
<p>This attribute replaces replaces [CompositionOptions(DiscoveryMode.Never).&nbsp; It is useful for when a part author has parts that they do not want to be automatically discovered by catalogs and .&nbsp; The scenarios where this make sense are where you either have a part which you will manually compose outside of a catalog, or you have a part that you intend for inheritors to use in a catalog but which cannot be made abstract.
<p>In the sample below,&nbsp; class OrderScreen will be ignored by the catalog. However, when class NorthwindOrderScreen is scanned, we will discover IOrderScreen, and will satisfy the OrderList import.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">PartNotDiscoverable</span><span style="background: white;color: black">]
[</span><span style="background: white;color: #2b91af">PartExportsInherited</span><span style="background: white;color: black">]
[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">IOrderScreen</span><span style="background: white;color: black">))]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">OrderScreen </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">IOrderScreen
</span><span style="background: white;color: black">{
 [</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">]
 </span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">IOrderListView </span><span style="background: white;color: black">OrderList { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }
}

</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">NorthwindOrderScreen </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">OrderScreen
</span><span style="background: white;color: black">{
}</span></pre>
<h2>Changes to collection imports</h2>
<h3>ImportMany attribute</h3>
<p>We’ve added a new [ImportMany] attribute. This attribute is to be used for specifying that an importer is expected to import all parts that match the contract. This attribute is equivalent to using [Import] on collections today. By our next release however, [Import] will change to mean import an exported collection.
<p>Once we make the switch, the [ImportMany] attribute will be required on both properties and importing constructor parameters in order to get the same behavior as today.
<p>As an example let’s take an importer of a collection of IOperation contacts.
<p>With the new build the following will have identical results.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">IEnumerable</span><span style="background: white;color: black">&lt;</span><span style="background: white;color: #2b91af">IOperation</span><span style="background: white;color: black">&gt; Operations { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }

[</span><span style="background: white;color: #2b91af">ImportMany</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">IEnumerable</span><span style="background: white;color: black">&lt;</span><span style="background: white;color: #2b91af">IOperation</span><span style="background: white;color: black">&gt; Operations { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }</span></pre>
<p>In the next drop,&nbsp; the behavior of the first will change. Instead of importing all exports of IOperation, it will instead be looking for an exporter of IEnumerable&lt;IOperation&gt;. The main reason for this is to support custom collections. Today for example the following code won’t yield the expected results if IRepository&lt;T&gt; is an ICollection&lt;T&gt;.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">IRepository</span><span style="background: white;color: black">&lt;</span><span style="background: white;color: #2b91af">Customer</span><span style="background: white;color: black">&gt; Customers { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }</span></pre>
<p>What the part author is intending here is to import a repository of customers. The repository as a whole is the import. Instead what will happen today is the container will set Customers to a new instance of Repository&lt;Customer&gt;. It will then query for all the Customer exports and add them to the Repository.<br />
<h3>Array imports</h3>
<p>In this release we’ve added support for array imports.&nbsp; This allows the following syntax to be supported.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">ImportMany</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">IOperation</span><span style="background: white;color: black">[] Operations { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }</span></pre>
<h3><a name="_Toc226739122">Future Deprecation of ExportCollection&lt;T&gt; and ExportCollection&lt;T,M&gt;</a></h3>
<p>In the next preview (not this one) we will be removing ExportCollection from MEF. The reasoning is that ExportCollection does not introduce any additional functionality, and we don’t want to introduce a collection which is solely there for syntactic sugar. The alternative recommended syntax for doing ExportCollection will be to use the new array support. Using the new syntax is significantly more compact than using ExportCollection, and is also less cryptic as arrays are very clear as to how they function.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">ImportMany</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">&lt;</span><span style="background: white;color: #2b91af">IOperation</span><span style="background: white;color: black">&gt;[] Operations { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }

[</span><span style="background: white;color: #2b91af">ImportMany</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">&lt;</span><span style="background: white;color: #2b91af">IOperation</span><span style="background: white;color: black">, </span><span style="background: white;color: #2b91af">IOperationMetadata</span><span style="background: white;color: black">&gt;[] Operations { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }</span></pre>
<p>Additionally we support custom derived collections, thus you can easily create your own collections that provide the sugar.<br />
<h2>Typed Import/Exports</h2>
<p>In Preview 4, MEF discovers exports based on contract name, and not based on the type of the exporter. This means that an export can actually have an incompatible type with the importer. At the time when the export is set on the import, if the cast fails, then an exception is thrown.
<p>This new feature in Preview 5 enables MEF to match imports and exports on contract AND type. When a part imports a contract, it additionally specifies the specific type that it is looking for. Only those exporters that also match on the importer type are matched. This means instead of failing, if the exporter’s type is incompatible, then it will not be matched.
<p>In most cases, the type specification is done implicitly, and does not require any work on the part of the part author. The overloads of Export and Import that used to take Type as param, will now in addition to converting to the string contract representation, also embed the type information.
<p>For example the code below works as it would have before.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">Editor
</span><span style="background: white;color: black">{
 [</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">]
 </span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">ISpellChecker </span><span style="background: white;color: black">SpellChecker { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }
}

[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">ISpellChecker</span><span style="background: white;color: black">))]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">SpellChecker </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">ISpellChecker
</span><span style="background: white;color: black">{
}</span></pre>
<p>However code that uses pure string contracts, will yield a different result than it would have before. The SpellChecker below will not be imported into the Editor. </p>
<p><span style="background: white;color: black">
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">Editor
</span><span style="background: white;color: black">{
 [</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">(</span><span style="background: white;color: #a31515">"SpellChecker"</span><span style="background: white;color: black">)]
 </span><span style="background: white;color: blue">public </span><span style="background: white;color: #2b91af">ISpellChecker </span><span style="background: white;color: black">SpellChecker { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }
}

[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: #a31515">"SpellChecker"</span><span style="background: white;color: black">)]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">SpellChecker </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">ISpellChecker
</span><span style="background: white;color: black">{
}</span></pre>
<p>Although SpellChecker implements ISpellChecker the type that the export carries is SpellChecker. The importer on the other hand is of type ISpellChecker so they do not match. In order to make the above code work, the export needs to specify the type.
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: #a31515">"SpellChecker"</span><span style="background: white;color: black">,</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">ISpellChecker</span><span style="background: white;color: black">))]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">SpellChecker </span><span style="background: white;color: black">: </span><span style="background: white;color: #2b91af">ISpellChecker
</span><span style="background: white;color: black">{
}</span></pre>
<p>This works as long as the type of the importer is ISpellChecker. Another option is for the importer to lift the restriction altogether by specifying the type as object.</p>
<p><font face="Courier New"></font>
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">Editor
</span><span style="background: white;color: black">{
 [</span><span style="background: white;color: #2b91af">Import</span><span style="background: white;color: black">(</span><span style="background: white;color: #a31515">"EditorContracts.SpellChecker"</span><span style="background: white;color: black">,</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">object</span><span style="background: white;color: black">))]
 </span><span style="background: white;color: blue">public </span><span style="background: white;color: black">EditorContracts.</span><span style="background: white;color: #2b91af">ISpellChecker </span><span style="background: white;color: black">SpellChecker { </span><span style="background: white;color: blue">get</span><span style="background: white;color: black">; </span><span style="background: white;color: blue">set</span><span style="background: white;color: black">; }
}</span></pre>
<p>Now SpellChecker can be imported by any importer with the same contract name as long as the importer is either a SpellChecker or a derived type.</p>
<p><span style="background: white;color: black"><a href="http://11011.net/software/vspaste"></a></span><span style="background: white;color: black"><a href="http://11011.net/software/vspaste"></a></span><br />
<h2>Custom delegates</h2>
<p>In Preview 4, we only support Func and Action delegates for exports. Back by popular demand, we now support custom delegates again as we did in our earlier previews. This means that when you export a method, you can use a custom delegate, as opposed to having to use one of the pre-baked ones. For example in the code below, the Validate method is exporting ValidatorDelegate&lt;Customer&gt; which CustomerView is importing. String contracts are also fully supported.
<pre><span style="background: white;color: blue">public delegate bool </span><span style="background: white;color: #2b91af">ValidatorDelegate</span><span style="background: white;color: black">&lt;T&gt;(T value);

</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">CustomerValidator
</span><span style="background: white;color: black">{
  [</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">(</span><span style="background: white;color: blue">typeof</span><span style="background: white;color: black">(</span><span style="background: white;color: #2b91af">ValidatorDelegate</span><span style="background: white;color: black">&lt;</span><span style="background: white;color: #2b91af">Customer</span><span style="background: white;color: black">&gt;))]
  </span><span style="background: white;color: blue">public bool </span><span style="background: white;color: black">Validate(</span><span style="background: white;color: #2b91af">Customer </span><span style="background: white;color: black">customer)
  {
    </span><span style="background: white;color: blue">return </span><span style="background: white;color: black">customer.Name != </span><span style="background: white;color: blue">null </span><span style="background: white;color: black">&amp;&amp; customer.Name != </span><span style="background: white;color: #2b91af">String</span><span style="background: white;color: black">.Empty;
  }
}</span></pre>
<pre><span style="background: white;color: black">[</span><span style="background: white;color: #2b91af">Export</span><span style="background: white;color: black">]
</span><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">CustomerView
</span><span style="background: white;color: black">{
</span><span style="background: white;color: black">  [</span><span style="background: white;color: #2b91af">ImportingConstructor</span><span style="background: white;color: black">]
  </span><span style="background: white;color: blue">public </span><span style="background: white;color: black">CustomerView(</span><span style="background: white;color: #2b91af">ValidatorDelegate</span><span style="background: white;color: black">&lt;</span><span style="background: white;color: #2b91af">Customer</span><span style="background: white;color: black">&gt; validator)
  {
  }
</span><span style="background: white;color: black">}
</pre>
<h2>Directory Catalog changes</h2>
<p>Prior versions of the DirectoryCatalog internally used a FileSystemWatcher in order to notify the catalog that changes have occurred within the watched directory. Using the watcher was problematic for many reasons usually related to MEF trying to grab the file too early. Today it is very common for apps that enable the watcher to fail whenever a file is dropped in the folder.
<p>As such we removed the watching functionality and replaced it with an explicit Refresh() method. The advantage of the refresh is it allows the host to determine when the refresh should occur. For example, a .NET Reflector type app could have a refresh button on the addins screen, the rescans the folders on demand. Once the folder is scanned, the catalog will do the delta to determine any changes, and it will fire change notifications as it does today, thus triggering re-composition in the container.</p>
<p><a href="http://11011.net/software/vspaste"></a></span><span style="background: white;color: black"><a href="http://11011.net/software/vspaste"></a></span>
<pre><span style="background: white;color: blue">public class </span><span style="background: white;color: #2b91af">Application
</span><span style="background: white;color: black">{
  </span><span style="background: white;color: blue">private </span><span style="background: white;color: #2b91af">DirectoryCatalog </span><span style="background: white;color: black">catalog;

  </span><span style="background: white;color: green">//triggered by the user clicking the Refresh button on the addins page
  </span><span style="background: white;color: blue">public void </span><span style="background: white;color: black">Refresh()
  {
    catalog.Refresh();
  }
}</span></pre>
<h2><a name="_Toc226739126">Removal of caching / new infrastructure</a></h2>
<p>We found several issues with our previous caching design which was black box. We’ve completely removed the old caching apis. We’ve added in a new API that can be used for caching, however we are not including a default caching implementation within MEF itself. We will however be shipping a caching API sample which illustrates how to use the APIs. The new APIs provides the further benefit of making it much easier to build new programming models that utilize reflection for are reflection based.
<p>We’ve now introduced a new set of classes in System.ComponentModel.Composition.ReflectionModel that can be used by cache implementers. ReflectionModelServices provides a set of static helper methods that can be used for manufacturing part definitions from a cache store.</p>
<p><span style="background: white;color: black"><br />
<h2>Summary</h2>
<p>A lot of new things to play with in preview 5. My personal favorite is the support we’ve now added for exports on interfaces, though I am sure if you ask different members of the team you’ll get a different answer.&nbsp; </p>
<p>Thanks as always to the team for all their efforts, and thank you for your continual patience and feedback. We’re getting closer and closer to RTM!</p>
<p>So what are you waiting for? Go download MEF Preview 5 <a href="http://mef.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=25797">here</a>.</p>
<p>&nbsp;</p>
<p><a href="http://11011.net/software/vspaste"></a></span><a href="http://11011.net/software/vspaste"></a></span></span></span></p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/glennblock/category/mef/" title="View all posts in MEF" rel="category tag">MEF</a>. Bookmark the <a href="http://codebetter.com/glennblock/2009/04/12/mef-preview-5-changes-and-enhancements/" title="Permalink to MEF Preview 5, changes and enhancements" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/glennblock/2009/04/12/mef-preview-5-changes-and-enhancements/feed/" title="Comments RSS to MEF Preview 5, changes and enhancements" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-90 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/glennblock/2009/04/03/creating-a-functional-programming-model-for-mef/" rel="prev"><span class="meta-nav">&larr;</span> Creating a functional programming model for MEF</a></div>
					<div class="nav-next"><a href="http://codebetter.com/glennblock/2009/04/27/poco-mef-and-custom-type-systems-are-you-ready-to-take-the-red-pill/" rel="next">Poco, Mef, and custom type systems. Are you ready to take the red pill? <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://codebetter.com/glennblock/2009/04/12/mef-preview-5-changes-and-enhancements/ ';
	var disqus_identifier = '90 /blogs/glenn.block/archive/2009/04/11/mef-preview-5-changes-and-enhancements.aspx';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'mytechnobabble';
	var disqus_title = "MEF Preview 5, changes and enhancements";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=90');
		});
					};
	var facebookXdReceiverPath = 'http://codebetter.com/glennblock/wp-content/plugins/disqus-comment-system/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/codebetter.com\/glennblock\/2009\/04\/12\/mef-preview-5-changes-and-enhancements\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='/wp-content/plugins/syntaxhighlighter//third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.312 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-25 15:06:07 -->
<!-- super cache -->