<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Generic constraint for Rhino Mocks &#8211; make unit tests more readable | Jeffery Palermo</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/jefferypalermo/xmlrpc.php" />
	                <link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://cdn1.codebetter.com/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/jefferypalermo/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://cdn1.codebetter.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Jeffery Palermo' href='http://codebetter.com/jefferypalermo/' />
<link rel='start' title='ASP.NET 1.1 Request Validation.' href='http://codebetter.com/jefferypalermo/2004/04/16/asp-net-1-1-request-validation/' />
<link rel='prev' title='Does the Single Responsibility Principle still apply in SOA? . . . YES!' href='http://codebetter.com/jefferypalermo/2007/09/30/does-the-single-responsibility-principle-still-apply-in-soa-yes/' />
<link rel='next' title='altnetconf &#8211; Alt.Net kicks off with clarification of &quot;What is Alt.Net&quot;' href='http://codebetter.com/jefferypalermo/2007/10/06/altnetconf-alt-net-kicks-off-with-clarification-of-quot-what-is-alt-net-quot/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/' />
<link rel='shortlink' href='http://codebetter.com/jefferypalermo/?p=562' />
<link rel="stylesheet" href="http://cdn1.codebetter.com/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://cdn1.codebetter.com/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-562" class="post-562 post type-post status-publish format-standard hentry category-uncategorized">
					<h1 class="entry-title">Generic constraint for Rhino Mocks &#8211; make unit tests more readable</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/jefferypalermo/author/jefferypalermo/" title="View all posts by jefferypalermo">jefferypalermo</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/" title="12:56 pm" rel="bookmark"><span class="entry-date">October 2, 2007</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/jefferypalermo/feed/rss/"  rel="nofollow"><img src="http://cdn1.codebetter.com/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/jefferypalermo/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>I use Rhino Mocks, and I encourage you to do the same.&nbsp; When unit testing, sometimes its necessary to interrogate an object that was passed to a dependency.</p>
<p>Consider the following test code:</p>
<p><!-- code formatted by http://manoli.net/csharpformat/ --><br />
.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, &#8220;Courier New&#8221;, courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}</p>
<p>.csharpcode pre { margin: 0em; }</p>
<p>.csharpcode .rem { color: #008000; }</p>
<p>.csharpcode .kwrd { color: #0000ff; }</p>
<p>.csharpcode .str { color: #006080; }</p>
<p>.csharpcode .op { color: #0000c0; }</p>
<p>.csharpcode .preproc { color: #cc6633; }</p>
<p>.csharpcode .asp { background-color: #ffff00; }</p>
<p>.csharpcode .html { color: #800000; }</p>
<p>.csharpcode .attr { color: #ff0000; }</p>
<p>.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}</p>
<p>.csharpcode .lnum { color: #606060; }</p>
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>[Test]</pre>
<pre><span class="lnum">   2:  </span><span class="kwrd">public</span> <span class="kwrd">void</span> ShouldSaveObjectWithAllInformation()</pre>
<pre><span class="lnum">   3:  </span>{</pre>
<pre><span class="lnum">   4:  </span>    <span class="kwrd">string</span> firstName = <span class="str">"Jeffrey"</span>;</pre>
<pre><span class="lnum">   5:  </span>    <span class="kwrd">string</span> lastName = <span class="str">"Palermo"</span>;</pre>
<pre><span class="lnum">   6:  </span>&nbsp;</pre>
<pre><span class="lnum">   7:  </span>    MockRepository mocks = <span class="kwrd">new</span> MockRepository();</pre>
<pre><span class="lnum">   8:  </span>    IPersonRepository personRepository = (IPersonRepository) mocks.CreateMock(<span class="kwrd">typeof</span> (IPersonRepository));</pre>
<pre><span class="lnum">   9:  </span>&nbsp;</pre>
<pre><span class="lnum">  10:  </span>    personRepository.SavePerson(<span class="kwrd">null</span>);</pre>
<pre><span class="lnum">  11:  </span>    GenericConstraint personConstraint = <span class="kwrd">new</span> GenericConstraint();</pre>
<pre><span class="lnum">  12:  </span>    LastCall.On(personRepository).Constraints(personConstraint);</pre>
<pre><span class="lnum">  13:  </span>&nbsp;</pre>
<pre><span class="lnum">  14:  </span>    mocks.ReplayAll();</pre>
<pre><span class="lnum">  15:  </span>&nbsp;</pre>
<pre><span class="lnum">  16:  </span>    PersonController controller = <span class="kwrd">new</span> PersonController(personRepository);</pre>
<pre><span class="lnum">  17:  </span>    controller.PersonFirstName = <span class="str">"Jeffrey"</span>;</pre>
<pre><span class="lnum">  18:  </span>    controller.PersonLastName = <span class="str">"Palermo"</span>;</pre>
<pre><span class="lnum">  19:  </span>    controller.Save();</pre>
<pre><span class="lnum">  20:  </span>&nbsp;</pre>
<pre><span class="lnum">  21:  </span>    mocks.VerifyAll();</pre>
<pre><span class="lnum">  22:  </span>&nbsp;</pre>
<pre><span class="lnum">  23:  </span>    Person person = (Person) personConstraint.GetParameterObject();</pre>
<pre><span class="lnum">  24:  </span>    Assert.That(person.FirstName, Is.EqualTo(firstName));</pre>
<pre><span class="lnum">  25:  </span>    Assert.That(person.LastName, Is.EqualTo(lastName));</pre>
<pre><span class="lnum">  26:  </span>}</pre>
<pre><font face="Trebuchet MS"></font>&nbsp;</pre>
<pre></pre>
</div>
<p>This is a case where we have a class that takes information, creates an object and sends it to a dependency. The dependency doesn&#8217;t need to return what was just passed to it, but in our unit test, we need to be able to assert that the object was created correctly before being passed to the dependency.&nbsp; This is not an edge case.&nbsp; I run into this scenario quite often.</p>
<p><strong>What did I do to keep my test readable?&nbsp; </strong>I created a Rhino Mocks constraint class that captures the argument passed to a dependency.&nbsp; Later, I can write plain old asserts that verify the state of the object.&nbsp;&nbsp; Here is the class:</p>
<p><!-- code formatted by http://manoli.net/csharpformat/ --></p>
<p>.csharpcode, .csharpcode pre<br />
{<br />
	font-size: small;<br />
	color: black;<br />
	font-family: consolas, &#8220;Courier New&#8221;, courier, monospace;<br />
	background-color: #ffffff;<br />
	/*white-space: pre;*/<br />
}</p>
<p>.csharpcode pre { margin: 0em; }</p>
<p>.csharpcode .rem { color: #008000; }</p>
<p>.csharpcode .kwrd { color: #0000ff; }</p>
<p>.csharpcode .str { color: #006080; }</p>
<p>.csharpcode .op { color: #0000c0; }</p>
<p>.csharpcode .preproc { color: #cc6633; }</p>
<p>.csharpcode .asp { background-color: #ffff00; }</p>
<p>.csharpcode .html { color: #800000; }</p>
<p>.csharpcode .attr { color: #ff0000; }</p>
<p>.csharpcode .alt<br />
{<br />
	background-color: #f4f4f4;<br />
	width: 100%;<br />
	margin: 0em;<br />
}</p>
<p>.csharpcode .lnum { color: #606060; }</p>
<div class="csharpcode">
<pre><span class="lnum">   1:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> GenericConstraint : AbstractConstraint</pre>
<pre><span class="lnum">   2:  </span>{</pre>
<pre><span class="lnum">   3:  </span>    <span class="kwrd">object</span> _theObject;</pre>
<pre><span class="lnum">   4:  </span>&nbsp;</pre>
<pre><span class="lnum">   5:  </span>    <span class="kwrd">public</span> <span class="kwrd">override</span> <span class="kwrd">bool</span> Eval(<span class="kwrd">object</span> obj)</pre>
<pre><span class="lnum">   6:  </span>    {</pre>
<pre><span class="lnum">   7:  </span>        _theObject = obj;</pre>
<pre><span class="lnum">   8:  </span>        <span class="kwrd">return</span> <span class="kwrd">true</span>;</pre>
<pre><span class="lnum">   9:  </span>    }</pre>
<pre><span class="lnum">  10:  </span>&nbsp;</pre>
<pre><span class="lnum">  11:  </span>    <span class="kwrd">public</span> <span class="kwrd">object</span> GetParameterObject()</pre>
<pre><span class="lnum">  12:  </span>    {</pre>
<pre><span class="lnum">  13:  </span>        <span class="kwrd">return</span> _theObject;</pre>
<pre><span class="lnum">  14:  </span>    }</pre>
<pre><span class="lnum">  15:  </span>&nbsp;</pre>
<pre><span class="lnum">  16:  </span>    <span class="kwrd">public</span> <span class="kwrd">override</span> <span class="kwrd">string</span> Message</pre>
<pre><span class="lnum">  17:  </span>    {</pre>
<pre><span class="lnum">  18:  </span>        get { <span class="kwrd">return</span> <span class="str">""</span>; }</pre>
<pre><span class="lnum">  19:  </span>    }</pre>
<pre><span class="lnum">  20:  </span>}</pre>
</div>
<p>I prefer this over even the built-in constraints Rhino Mocks provides because I find the Assert syntax to be more familiar with more programmers than the in-line constraint syntax.&nbsp; Notice on line 12 of the test listing that I&#8217;m assigning this constraint to the mocked call to IPersonRepository.&nbsp; This allows me to come back later on line 23 and pull the object for interrogation.&nbsp; Once I have a reference to the object that was passed to my dependency, I can write the appropriate asserts.</p>
<p>Feel free to use this constraint class or comment with how you&#8217;ve handled this situation.</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/jefferypalermo/category/uncategorized/" title="View all posts in Uncategorized" rel="category tag">Uncategorized</a>. Bookmark the <a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/" title="Permalink to Generic constraint for Rhino Mocks &#8211; make unit tests more readable" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/feed/" title="Comments RSS to Generic constraint for Rhino Mocks &#8211; make unit tests more readable" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-562 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/jefferypalermo/2007/09/30/does-the-single-responsibility-principle-still-apply-in-soa-yes/" rel="prev"><span class="meta-nav">&larr;</span> Does the Single Responsibility Principle still apply in SOA? . . . YES!</a></div>
					<div class="nav-next"><a href="http://codebetter.com/jefferypalermo/2007/10/06/altnetconf-alt-net-kicks-off-with-clarification-of-quot-what-is-alt-net-quot/" rel="next">altnetconf &#8211; Alt.Net kicks off with clarification of &quot;What is Alt.Net&quot; <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">18 Responses to <em>Generic constraint for Rhino Mocks &#8211; make unit tests more readable</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-2037">
		<div id="comment-2037">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://stevenharman.net' rel='external nofollow' class='url'>Steven Harman</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2037">March 3, 2008 at 4:25 pm</a></div>

		<div class="comment-body"><p>I know the .Do() method will work, but I&#8217;ve found that sometimes it&#8217;s a bit more verbose and less obvious than the GenericConstraints way of doing it. So I&#8217;ve added a genericised version of the class:</p>
<p>public class Constraint<t> : AbstractConstraint where T : class<br />
{<br />
    T _theObject;</p>
<p>    public override bool Eval(object obj)<br />
    {</p>
<p>        _theObject = obj as T;<br />
        return _theObject != null;<br />
    }</p>
<p>    public T GetParameterObject()<br />
    {<br />
        return _theObject;<br />
    }</p>
<p>    public override string Message<br />
    {<br />
        get { return &#8220;&#8221;; }<br />
    }<br />
}</p>
<p>Which works well and saves that fugly cast. <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </t></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2036">
		<div id="comment-2036">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">jsmith</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2036">November 21, 2007 at 11:02 pm</a></div>

		<div class="comment-body"><p>Thank you!!</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2035">
		<div id="comment-2035">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.aaronfeng.com' rel='external nofollow' class='url'>Aaron Feng</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2035">October 8, 2007 at 11:26 am</a></div>

		<div class="comment-body"><p>Another reason for Rhino Mocks Generic Constraint&#8230;</p>
<p><a href="http://aaronfeng.com/articles/2007/10/08/another-reason-for-rhino-mocks-generic-constraint" rel="nofollow">http://aaronfeng.com/articles/2007/10/08/another-reason-for-rhino-mocks-generic-constraint</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2034">
		<div id="comment-2034">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://community.ative.dk/blogs/' rel='external nofollow' class='url'>Martin Jul</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2034">October 8, 2007 at 8:33 am</a></div>

		<div class="comment-body"><p>@Robert:</p>
<p>Regarding Equals or constraints you wrote </p>
<p>&#8220;@Martin: I prefer that too but in some cases i have a property on my object that is meant to be set to an autonumber or the current date (something out of my control), so i want to ignore that property *for just this test*<br />
&#8221;</p>
<p>In cases like this I would factor out the magic into an &#8220;IMagicProvider&#8221; &#8211; for example, a class that can provide the current time. This way you have control over your environment in the test &#8211; just use, say, a mock or a stub that provides a fixed timestamp, and you will be able to use Equals.</p>
<p>I prefer this static approach to having to deal with dynamic magic in my tests.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2033">
		<div id="comment-2033">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://justsaret.wordpress.com' rel='external nofollow' class='url'>saret</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2033">October 6, 2007 at 12:35 am</a></div>

		<div class="comment-body"><p>And that is why commenting about stuff and using a text editor to scrap up code after 2 am is a bad idea (Predicate<account> should be Predicate
<person>)</p>
<p>sorry folks</person></account></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2032">
		<div id="comment-2032">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://justsaret.wordpress.com' rel='external nofollow' class='url'>Justin Saret &lt;aka saret&gt;</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2032">October 6, 2007 at 12:19 am</a></div>

		<div class="comment-body"><p>sorry hit post button just before i finished off,<br />
(if my post can be fixed much appreciated <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  )<br />
the c# example should read:<br />
string firstName = &#8220;Jeffrey&#8221;;<br />
string lastName = &#8220;Palermo&#8221;;</p>
<p>Predicate
<person> constraint = new Predicate<account>(delegate(Person p)<br />
 {<br />
   return p.FirstName == firstName &#038;&#038; p.LastName == lastName ;</p>
<p> });</p>
<p>MockRepository mocks = new MockRepository();</p>
<p>IPersonRepository personRepository = mocks.CreateMock<ipersonrepository>();</p>
<p>personRepository.SavePerson(null);<br />
LastCall.On(personRepository).Constraints(Is.Matching
<person>(constraint));</p>
<p>mocks.ReplayAll();</p>
<p>PersonController controller = new PersonController(personRepository);<br />
controller.PersonFirstName = firstName;<br />
controller.PersonLastName = lastName;<br />
controller.Save();</p>
<p>mocks.VerifyAll();</person></ipersonrepository></account></person>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2031">
		<div id="comment-2031">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://justsaret.wordpress.com' rel='external nofollow' class='url'>saret</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2031">October 6, 2007 at 12:07 am</a></div>

		<div class="comment-body"><p>Lol, me too, been playing with a similar idea recently<br />
I also tend to use the Equals(obj) method, however sometimes (such as in my newest project using Boo) I&#8217;ve tended to also use a different technique that can be done in c# 2, but really doesn&#8217;t look really nearly as clean compared to Boo&#8217;s closures (or the new lambda expressions in c# 3).<br />
This way also allows you to just optionally test certain values of the expected object passed which handles Robert&#8217;s autonumber issue.<br />
(upgraded to generics &#8211; but not the record/playback layout)<br />
________________________________________________<br />
using Rhino.Mocks;<br />
using Rhino.Mocks.Constraints;</p>
<p>string firstName = &#8220;Jeffrey&#8221;;<br />
string lastName = &#8220;Palermo&#8221;;</p>
<p>Predicate
<person> constraint = new Predicate<account>(delegate(Person p)<br />
	{<br />
		return p.FirstName == firstName &#038;&#038; p.LastName == lastName ;<br />
	});</p>
<p>MockRepository mocks = new MockRepository();</p>
<p>IPersonRepository personRepository = mocks.CreateMock<ipersonrepository>();</p>
<p>personRepository.SavePerson(null);</p>
<p>GenericConstraint personConstraint = new GenericConstraint();</p>
<p>LastCall.On(personRepository).Constraints(Is.Matching
<person>(constraint));</p>
<p>mocks.ReplayAll();</p>
<p>PersonController controller = new PersonController(personRepository);<br />
controller.PersonFirstName = firstName;<br />
controller.PersonLastName = lastName;<br />
controller.Save();</p>
<p>mocks.VerifyAll();<br />
_____________________________________</p>
<p>Haven&#8217;t really gotten into blogging yet (not like I&#8217;ve tried hard &#8230; got like 15 drafts and one published rant), but was wierdly enough already writing a post on this technique a day or two ago before I saw this, which including some ways that I&#8217;ve used to handle the multiple calls Robert is mentioning.</p>
<p>I&#8217;m gonna still blog a bit about this technique (this one I&#8217;m am actually gonna publish! <shmuck avoidance incentive by stating this -  I better actually post this weekend>) and &#8220;extensions&#8221; to it I&#8217;ve used such as currying ala: </p>
<p>(note it&#8217;s in boo I&#8217;ll post c# version as well)<br />
[Test]<br />
def sometest():<br />
	invalidReason = &#8220;my reason&#8221;<br />
	constraint = def(player as Player) as Predicate[of InvalidMoveEventArgs]:<br />
		return {e as InvalidMoveEventArgs | e.Player == player &#038; e.Reason = invalidReason}<br />
	/&#8230;&#8230;./ </p>
<p>This technique is ideally suited to ordered, but the regular straight closure route could be used in unordered (by keeping some state as to which one of the expected values has/hasn&#8217;t been passed yet in the enclosing method/data holder&#8230;)</shmuck></person></ipersonrepository></account></person>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2030">
		<div id="comment-2030">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Robert Ensor</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2030">October 5, 2007 at 4:38 am</a></div>

		<div class="comment-body"><p>You stole my idea! <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' />  Now maybe you can steal an idea off me that i haven&#8217;t thought of yet:</p>
<p>What happens when your test expects that SavePerson be called twice, with completely different parameters? Rhino can handle this (ordered or unordered) for cases where the pbject properties are &#8220;unrolled&#8221; into the method args, but if you want to test data objects, you&#8217;re in trouble (or should i say, i&#8217;m in trouble)</p>
<p>What I ended up doing is creating another contstraint that stores EACH argument into a list, and then checking the contents of that list. But that seems very far from the original intent of rhino <img src='http://cdn1.codebetter.com/wp-includes/images/smilies/icon_sad.gif' alt=':(' class='wp-smiley' /> </p>
<p>What do you think?</p>
<p>@Martin: I prefer that too but in some cases i have a property on my object that is meant to be set to an autonumber or the current date (something out of my control), so i want to ignore that property *for just this test*</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2029">
		<div id="comment-2029">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.jeffreypalermo.com' rel='external nofollow' class='url'>Jeffrey Palermo</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2029">October 3, 2007 at 12:32 pm</a></div>

		<div class="comment-body"><p>@Martin,<br />
I, too, favor overriding the Equals(obj) method, and encourage that whenever possible (and over the technique described here).</p>
<p>In cases where that won&#8217;t work or is insufficient, the above is the best I&#8217;m come up with in .Net 1.1</p>
<p>Note, in .Net 2.0 and the latest release of Rhino Mocks, the &#8220;Do( )&#8221; method can be used with an anonymous delegate to hold the NUnit asserts.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2028">
		<div id="comment-2028">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://community.ative.dk/blogs/' rel='external nofollow' class='url'>Martin Jul</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2028">October 3, 2007 at 11:29 am</a></div>

		<div class="comment-body"><p>I favour implementing Equals on the parameter object over using the constraints.</p>
<p>This way I get very simple code like</p>
<p>Person expectedPerson = new Person(firstName, lastName);</p>
<p>personRepository.SavePerson(expectedPerson);<br />
LastCall.On(personRepository);</p>
<p>// &#8230;</p>
<p>mockRepository.VerifyAll();</p>
<p>The Asserts are that in a way they circumvent the object-orientation by asserting state outside of the object itself &#8211; and they make for bulky test-code that needs to change in synch with changes to the Person class.</p>
<p>Using Equals this reduces to a matter of constructing the expected object (standard constructor) and using its built-in Equality method.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2027">
		<div id="comment-2027">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.jeffreypalermo.com' rel='external nofollow' class='url'>Jeffrey Palermo</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2027">October 2, 2007 at 9:25 pm</a></div>

		<div class="comment-body"><p>@Garry,<br />
Your description is correct.</p>
<p>If the dependency required 3 arguments, then you would create 3 instances of GenericConstraint, and each one would receive a method argument.  If the method has 7 arguments, you have to provide 7 GenericConstraint instances, and you can name each one appropriately so it will be easy to retrieve the parameter objects one at a time.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2026">
		<div id="comment-2026">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Garry Shutler</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2026">October 2, 2007 at 9:11 pm</a></div>

		<div class="comment-body"><p>It took me a few reads to get it but (please correct me if I&#8217;m wrong):</p>
<p>A constraint is checked  by passing the parameters fed to the method to the Eval function as an object. Jeff&#8217;s object stores this parameter for later use and returns true (as if the constraint was satisfied). This means we have a copy of what was passed to the method and we use the GetParameterObject function to later retrieve the object so we can test its contents against our expectations.</p>
<p>One question that this has raised for myself is how this works for multi-parameter methods, is the parameter object an array of objects which we need to cast individually? This would make sense to me but I haven&#8217;t had chance to try it out.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2025">
		<div id="comment-2025">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.lostechies.com/blogs/joe_ocampo' rel='external nofollow' class='url'>Joe Ocampo</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2025">October 2, 2007 at 8:06 pm</a></div>

		<div class="comment-body"><p>@Joe </p>
<p>That is the new behavioral constraint assertion model of NUnit 2.4</p>
<p><a href="http://www.lostechies.com/blogs/joe_ocampo/archive/2007/07/22/nunit-s-new-constraint-model.aspx" rel="nofollow">http://www.lostechies.com/blogs/joe_ocampo/archive/2007/07/22/nunit-s-new-constraint-model.aspx</a></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2024">
		<div id="comment-2024">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://scottic.us' rel='external nofollow' class='url'>ScottBellware</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2024">October 2, 2007 at 6:18 pm</a></div>

		<div class="comment-body"><p>I don&#8217;t get the test.  Looks like interesting re-use, and it&#8217;s certainly &#8220;readable&#8221;, but I&#8217;m not getting it on first through fifth glance.  If you have time at some point, I&#8217;d like to dissect it.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2023">
		<div id="comment-2023">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://scourtrille.wordpress.com' rel='external nofollow' class='url'>Shane Courtrille</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2023">October 2, 2007 at 6:11 pm</a></div>

		<div class="comment-body"><p>Awesome example.  This is much easier then doing a Do() to test the parameters.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2022">
		<div id="comment-2022">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Joe</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2022">October 2, 2007 at 2:53 pm</a></div>

		<div class="comment-body"><p>What test framework uses &#8220;Assert.That&#8221;?</p>
<p>ps and I hate to ask and seem nit-picky, but do you think you could turn line numbers off when you post code?   I understand that it has its aesthetic advantages, but to simpletons like myself who have to cut and paste and try everything out in the IDE to see how it really works, they&#8217;re a pain.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-2021">
		<div id="comment-2021">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://www.jeffreypalermo.com' rel='external nofollow' class='url'>Jeffrey Palermo</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2021">October 2, 2007 at 2:07 pm</a></div>

		<div class="comment-body"><p>@Garry,<br />
Yes, I do use the Generic syntax.  I happened to be working in a VS2003 project when I whipped up this sample code.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-2020">
		<div id="comment-2020">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Garry Shutler</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#comment-2020">October 2, 2007 at 1:21 pm</a></div>

		<div class="comment-body"><p>Very interesting! I&#8217;ll be trying this out soon. I agree that the assertions contained in your expectations can be quite hidden at times and this looks like a good way of dragging those out.</p>
<p>As an aside, have you seen the generic syntax for MockRepository.CreateMock? I find it makes my mock object creation look much nicer:</p>
<p>IPersonRepository personRepository = mocks.CreateMock<ipersonrepository>();</p>
<p>Excuse anything lost in the VB to C# translation.</ipersonrepository></p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/jefferypalermo/2007/10/02/generic-constraint-for-rhino-mocks-make-unit-tests-more-readable/#respond" style="display:none;">Cancel reply</a></small></h3>
									<p class="must-log-in">You must be <a href="http://codebetter.com/jefferypalermo/wp-login.php?redirect_to=http%3A%2F%2Fcodebetter.com%2Fjefferypalermo%2F2007%2F10%2F02%2Fgeneric-constraint-for-rhino-mocks-make-unit-tests-more-readable%2F">logged in</a> to post a comment.</p>												</div><!-- #respond -->
						
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.265 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-31 12:19:29 -->
<!-- super cache -->