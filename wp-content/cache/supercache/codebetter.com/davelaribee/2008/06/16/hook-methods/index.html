<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta charset="UTF-8" />
    <title>Hook Methods | Dave Laribee</title>
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	
	<link href="http://feeds.feedburner.com/CodeBetter" title="CodeBetter.Com &raquo; Feed" type="application/rss+xml" rel="alternate">
	
		<link rel="pingback" href="http://codebetter.com/davelaribee/xmlrpc.php" />
	                <link rel="stylesheet" href="http://codebetter.com/davelaribee/wp-content/uploads/spacker-cache/ea73517eb74a545f51c376487c94dc9f.css" type="text/css" media="all" /><!-- Is Cache! -->
                <script type='text/javascript' src='http://codebetter.com/davelaribee/wp-includes/js/l10n.js?ver=20101110'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://codebetter.com/davelaribee/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://codebetter.com/davelaribee/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Dave Laribee' href='http://codebetter.com/davelaribee/' />
<link rel='start' title='Self Re-Introduction' href='http://codebetter.com/davelaribee/2007/09/17/self-re-introduction/' />
<link rel='prev' title='Super Models, Part 1: Sexy Specifications' href='http://codebetter.com/davelaribee/2008/06/15/super-models-part-1-sexy-specifications/' />
<link rel='next' title='Test Your NHibernate Mappings!' href='http://codebetter.com/davelaribee/2008/06/18/test-your-nhibernate-mappings/' />
<meta name="generator" content="WordPress 3.1-beta1-16732" />
<link rel='canonical' href='http://codebetter.com/davelaribee/2008/06/16/hook-methods/' />
<link rel='shortlink' href='http://codebetter.com/davelaribee/?p=54' />
<link rel="stylesheet" href="http://codebetter.com/davelaribee/wp-content/plugins/digg-digg/include/../css/diggdigg-style.css?ver=4.5.0.7" type="text/css" media="screen" /><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.1" />
                <script type="text/javascript" src="http://codebetter.com/davelaribee/wp-content/uploads/spacker-cache/a8046d2f1fc1c08af413701218a11c1d.js">/*Is Cache!*/</script>
                	<style type="text/css">body { padding-top:0px !important; } html { margin-top: 0px !important; }</style>

</head>

<body>

			
		<div class="container_12 ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs">			
			<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
				<li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#ui-tabs-1">CodeBetter.Com</a></li>
				<li class="ui-state-default ui-corner-top"><a href="http://devlicio.us">Devlicio.Us</a></li>				
				<div id="top-search">
				<form action="http://codebetter.com/globalsearch/" id="cse-search-box">
  <div>
   <fieldset id="search">
		<input type="hidden" name="cx" value="005178204031477491434:2bg5jtwgsfe" />
		<input type="hidden" name="cof" value="FORID:9" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text"  class="text-input" id="s" name="q" size="31" />
		<input type="image" src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/search-img.png" class="form-button" id="searchsubmit" value="GO" name="">				   	
	</fieldset>
  </div>
</form>
<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en&sitesearch=true"></script>
				</div>				
			</ul><div id="ui-tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"></div><div id="ui-tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"></div>
		</div>
			
		<div id="main" class="container_12">
		
			<div id="logo" class="grid_3"><a href="/" title="CodeBetter.Com - Stuff you need to Code Better!"><image src="http://cdn1.codebetter.com/wp-content/themes/codebetter/images/codebetter_logo.png" height="48" width="223"></image></a></div>
			<div id="ad_leaderboard" class="grid_9">			</div>
			
			<div id="globalNav" class="grid_12">
				<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=EFEFEF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
				</ul>
								
			</div><!-- end div#globalNav.container_12 -->				
	
		<div id="content" class="container_12">
			<div id="main" class="grid_8">


				<div id="post-54" class="post-54 post type-post status-publish format-standard hentry category-net category-c category-code category-design category-patterns">
					<h1 class="entry-title">Hook Methods</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted by </span>
						<span class="author vcard"><a class="url fn n" href="http://codebetter.com/davelaribee/author/davelaribee/" title="View all posts by davelaribee">davelaribee</a></span>
						<span class="meta-sep"> on  </span>
						<a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/" title="5:06 pm" rel="bookmark"><span class="entry-date">June 16, 2008</span></a>
											</div><!-- .entry-meta -->

					<div class="entry-content">
						<div id="greet_block"><noscript><div class="greet_block wpgb_cornered"><div class="greet_text"><div class="greet_image"><a href="http://codebetter.com/davelaribee/feed/rss/"  rel="nofollow"><img src="http://codebetter.com/davelaribee/wp-content/plugins/wp-greet-box/images/rss_icon.png" alt="WP Greet Box icon"/></a></div>Hello there! If you are new here, you might want to <a href="http://codebetter.com/davelaribee/feed/rss/" rel="nofollow"><strong>subscribe to the RSS feed</strong></a> for updates on this topic.<div style="clear:both"></div><div class="greet_block_powered_by">Powered by <a href="http://omninoggin.com/projects/wordpress-plugins/wp-greet-box-wordpress-plugin/" title="WP Greet Box WordPress Plugin" style="text-decoration:none;">WP Greet Box</a> <a href="http://omninoggin.com/" title="WordPress Plugin" style="text-decoration:none;">WordPress Plugin</a></div><div style="clear:both"></div></div></div></noscript></div><p>I&#8217;ve written about the <a href="http://laribee.com/blog/2007/04/17/refactoring-my-template-method-post/">template method pattern</a> before. For my money it&#8217;s still a very useful pattern for building super lightweight frameworks and enabling <a href="http://en.wikipedia.org/wiki/Open/closed_principle">the open-closed principle</a> which states:</p>
<blockquote><p>
Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.
</p></blockquote>
<p>So let&#8217;s review quickly what a template method looks like and what it can do for our code:</p>
<pre>

public abstract class PriceCalculator
{
  public Money Calculate(Product product)
  {
    Money retailPrice = GetRetailPrice();
    Discount discount = CalculateDiscount(product);
    return discount.Apply(retailPrice);
  }

  public abstract Discount CalculateDiscount(Product product);

  public Rate GetRetailPrice() { //... }
}

public class GoldCustomerPriceCalculator : PriceCalculator
{
  public override Discount CalculateDiscount(Product product)
  {
    // Gold customers get 20% off, OR
    // We could use per-product discounts.
    return new Discount(20);
  }
} 

public class StandardCustomerPriceCalculator : PriceCalculator
{
  public override Discount CalculateDiscount(Product product)
  {
    // Standard customers receive no discount
    return new Discount(0);
  }
}
</pre>
<p>
It&#8217;s pretty easy to see we&#8217;ve gotten some variation. This is a simple example off the top of my head and there&#8217;s probably a better way to tackle this domain problem, but it shows template method in action so I&#8217;ll leave it alone.
</p>
<p>
This is all well and good, but what if we encountered a scenario where our class <i>could</i> function autonomously but we want to provide an hook or extensibility point for edge cases or later extension (beware of YAGNI on the latter). I&#8217;ll call this technique a <b>hook method</b>.
</p>
<p>
What&#8217;s a hook method? By playing with the physics of template method a bit to we can make derivations elective by lifting the abstract constraint on our base class and making the template method virtual. The former move is optional and the later is required. Your solution will dictate whether or not the base class should or should not be declared abstract.
</p>
<p>
Let&#8217;s consider an example where we want a start/finish semantic for an implementation of model view presenter. In this example I want to have a base presenter that provides some common functionality: attaching the presenter to the view and raising events to signify the presenter has been started. I want to provide a hook so my presenter implementations can do some processing, call services, obtain reference data, etc. I can accomplish this with a hook method style of template method like so:</p>
<pre>

public abstract class Presenter : IPresenter
{

  public void Start()
  {
    if (Starting != null) Starting(this, EventArgs.Empty);
    View.Attach(this);
    Startup();
    if (Started != null) Started(this, EventArgs.Empty);
  }

  protected virtual void Startup() {};

  public event EventHandler Starting;
  public event EventHandler Started;
}
</pre>
<p>Or we can return to the contrived example of the price calculator to illustrate a non-abstract class:</p>
<pre>

public class PriceCalculator
{
  public Money Calculate(Product product)
  {
    Money retailPrice = GetRetailPrice();
    Discount discount = CalculateDiscount(product);
    return discount.Apply(retailPrice);
  }

  public virtual Discount CalculateDiscount(Product product)
  {
    return new Discount(0);
  }

  public Rate GetRetailPrice() { //... }
}

public class GoldCustomerPriceCalculator : PriceCalculator
{
  public override Discount CalculateDiscount(Product product)
  {
    // Gold customers get 20% off, OR
    // We could use per-product discounts.
    return new Discount(20);
  }
}

Money price = new PriceCalculator.Calculate(someProduct);
// or
Money price = new GoldCutomerPriceCalculator.Calculate(someProduct);
</pre>
<p>I&#8217;m sure many of you have seen examples of this in the wild. I&#8217;d file this under &#8220;pattern life hack.&#8221; That is, a simple and subtle shift in thinking around template method that expands its many uses in DRYing up your codebase.</p>
											</div><!-- .entry-content -->


					<div class="entry-utility">
					This entry was posted in <a href="http://codebetter.com/davelaribee/category/net/" title="View all posts in .net" rel="category tag">.net</a>, <a href="http://codebetter.com/davelaribee/category/c/" title="View all posts in C#" rel="category tag">C#</a>, <a href="http://codebetter.com/davelaribee/category/code/" title="View all posts in code" rel="category tag">code</a>, <a href="http://codebetter.com/davelaribee/category/design/" title="View all posts in design" rel="category tag">design</a>, <a href="http://codebetter.com/davelaribee/category/patterns/" title="View all posts in patterns" rel="category tag">patterns</a>. Bookmark the <a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/" title="Permalink to Hook Methods" rel="bookmark">permalink</a>. Follow any comments here with the <a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/feed/" title="Comments RSS to Hook Methods" rel="alternate" type="application/rss+xml">RSS feed for this post</a>.
					</div><!-- .entry-utility -->
				</div><!-- #post-54 -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://codebetter.com/davelaribee/2008/06/15/super-models-part-1-sexy-specifications/" rel="prev"><span class="meta-nav">&larr;</span> Super Models, Part 1: Sexy Specifications</a></div>
					<div class="nav-next"><a href="http://codebetter.com/davelaribee/2008/06/18/test-your-nhibernate-mappings/" rel="next">Test Your NHibernate Mappings! <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

							<div id="comments">


			<h3 id="comments-title">15 Responses to <em>Hook Methods</em> </h3>


			<ol class="commentlist">
						<li class="comment even thread-even depth-1" id="li-comment-334">
		<div id="comment-334">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://colinjack.blogspot.com' rel='external nofollow' class='url'>Colin Jack</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-334">June 20, 2008 at 7:05 am</a></div>

		<div class="comment-body"><p>@Dave<br />
Excellent, looking forward to the visitor/anti-corruption entries.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-333">
		<div id="comment-333">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/david_laribee/' rel='external nofollow' class='url'>Dave Laribee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-333">June 19, 2008 at 6:40 pm</a></div>

		<div class="comment-body"><p>Good point. Another: template method *can* really limit testing liability (as testing goes into the supertype).</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-332">
		<div id="comment-332">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://colinjack.blogspot.com' rel='external nofollow' class='url'>Colin Jack</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-332">June 19, 2008 at 6:02 pm</a></div>

		<div class="comment-body"><p>On the composition argument, even if you did use composition you might well use a template method approach if all the strategies share some aspects of their behavior.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-331">
		<div id="comment-331">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/david_laribee/' rel='external nofollow' class='url'>Dave Laribee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-331">June 19, 2008 at 4:27 pm</a></div>

		<div class="comment-body"><p>@Nate &#8211; Sure. I&#8217;ve got a bad example here. Where inheritance is a natural choice is layer supertypes. The presenter example is a better application and these kinds of things tend to be the exception to the &#8220;favor composition over inheritance&#8221; rule.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-330">
		<div id="comment-330">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://kohari.org/' rel='external nofollow' class='url'>Nate Kohari</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-330">June 19, 2008 at 1:04 pm</a></div>

		<div class="comment-body"><p>This is a good pattern to follow, but I would argue that you should typically favor composition over inheritance. In a lot of cases, this problem can be solved via dependency injection (really just the strategy pattern) &#8212; by introducing a DiscountCalculator dependency, for example, which can be injected into the PriceCalculator.</p>
<p>Sometimes, when using the template method pattern, you might just be giving the *appearance* of extensibility. For example, if PriceCalculator had a bunch of different template methods rather than just the one for calculating discounts, you would be forced to implement each of these in a subtype just to alter the discount calculation. If you instead create a dependency that fulfills each of those concerns, you might end up making your type easier to extend.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-329">
		<div id="comment-329">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/david_laribee/' rel='external nofollow' class='url'>Dave Laribee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-329">June 18, 2008 at 8:16 pm</a></div>

		<div class="comment-body"><p>@Colin</p>
<p>Blogging again?! Okay, okay, so I slowed way down there for a while <img src='http://codebetter.com/davelaribee/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
<p>I can tackle that problem in an upcoming post, sure. I&#8217;m not done with specifications yet, so let me clear that. I had in mind this technique about anti-corruption layers and the visitor pattern for pulling stuff in your model which I&#8217;ll get to (probably) next week.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-328">
		<div id="comment-328">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://colinjack.blogspot.com' rel='external nofollow' class='url'>Colin Jack</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-328">June 18, 2008 at 6:15 pm</a></div>

		<div class="comment-body"><p>The virtual method approach, with a do-nothing implementation in the base class, we&#8217;ve used that a lot. Very useful approach</p>
<p>@David<br />
Since you&#8217;re blogging again are you thinking of doing posts on your domain model, for example the way you structure your different sub domains and use anti-corruption layers between them. You&#8217;ve only alluded to this stuff in the past and it seems quite interesting to me.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-327">
		<div id="comment-327">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/david_laribee/' rel='external nofollow' class='url'>Dave Laribee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-327">June 18, 2008 at 12:35 am</a></div>

		<div class="comment-body"><p>@Phil &#8211; Maybe. It depends <img src='http://codebetter.com/davelaribee/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' />  I can see their point; why not let the &#8220;main&#8221; method of the pattern be overridden? Obviously you know this, but virtual means proxy-able and testable&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-326">
		<div id="comment-326">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://haacked.com/' rel='external nofollow' class='url'>Haacked</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-326">June 17, 2008 at 4:08 pm</a></div>

		<div class="comment-body"><p>Nice description. I find this funny because we (mvc team) get chastised for following this pattern. Someone would come along and say, &#8220;Hey, public Money Calculate(Product product) should be virtual!!!&#8221; which defeats the whole point of the Template method pattern. <img src='http://codebetter.com/davelaribee/wp-includes/images/smilies/icon_wink.gif' alt=';)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-325">
		<div id="comment-325">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Skwr</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-325">June 17, 2008 at 12:31 am</a></div>

		<div class="comment-body"><p>It should be Empty not empty <img src='http://codebetter.com/davelaribee/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-324">
		<div id="comment-324">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/david_laribee/' rel='external nofollow' class='url'>Dave Laribee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-324">June 16, 2008 at 8:12 pm</a></div>

		<div class="comment-body"><p>@Michael &#8211; Wow, I&#8217;m batting a thousand today. Thanks for the heads up. It&#8217;s corrected now.</p>
<p>@Jason &#8211; RE: your preference. I hear you loud and clear. Where template method can really shine (and inheritance in general) is in layer supertypes. For types with more diverse variation I go with the conventional &#8220;favor composition&#8221; wisdom. I bought the book you mentioned but haven&#8217;t read it yet. Will have to dig in a bit more&#8230;</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-323">
		<div id="comment-323">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://jason.lostechies.com' rel='external nofollow' class='url'>Jason Meridth</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-323">June 16, 2008 at 7:08 pm</a></div>

		<div class="comment-body"><p>The Design Patterns in Ruby book also has an excellent example and explanation of the Hook Methods.</p>
<p>I prefer Strategy to avoid inheritence, but you can&#8217;t avoid it sometimes.</p>
<p>Good post David.</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-322">
		<div id="comment-322">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">Michael O. Schoneman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-322">June 16, 2008 at 6:37 pm</a></div>

		<div class="comment-body"><p>I think:<br />
if (Started != null) Starting(this, EventArgs.empty);<br />
should be:<br />
if (Started != null) Started(this, EventArgs.empty);</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-321">
		<div id="comment-321">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn"><a href='http://codebetter.com/blogs/david_laribee/' rel='external nofollow' class='url'>Dave Laribee</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-321">June 16, 2008 at 6:01 pm</a></div>

		<div class="comment-body"><p>Thanks for catching that. Fixed!</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
		<li class="comment even thread-even depth-1" id="li-comment-320">
		<div id="comment-320">
		<div class="comment-author vcard">
			<img alt='' src='http://0.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />			<cite class="fn">guy</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://codebetter.com/davelaribee/2008/06/16/hook-methods/#comment-320">June 16, 2008 at 5:59 pm</a></div>

		<div class="comment-body"><p>Your standardcustomer class has the same discount as your gold one. HTH</p>
</div>

		<div class="reply">
					</div>
	</div>

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/davelaribee/2008/06/16/hook-methods/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://codebetter.com/davelaribee/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name</label> <span class="required">*</span><input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email</label> <span class="required">*</span><input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label><input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='54' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="1e70ab8f37" /></p>					</form>
							</div><!-- #respond -->
						
</div><!-- #comments -->

		</div><!-- #main -->
			<div id="sidebar" class="grid_4">

		<div id="primary" class="widget-area">
			<ul class="xoxo">
				<div class="ad-container">
					<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-new-features?utm_source=cb&utm_medium=button&utm_term=4328&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="125" height="125" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/ANTSPP5_125x125_M1.gif"></a>
					<embed width="125" height="125" flashvars="clickTARGET=_blank&amp;clickTAG=http%3A%2F%2Fd1.openx.org%2Fck.php%3Foaparams%3D2__bannerid%3D62753__zoneid%3D29419__cb%3Da0471ce5e8__r_id%3Dd42118811971f057012db20aa261c5c1__r_ts%3Dldef6x__oadest%3Dhttp%253A%252F%252Fwww.jetbrains.com%252Fresharper%252F%253Frs4cb125" allowscriptaccess="always" quality="high" name="Advertisement" id="Advertisement" style="" src="http://s3.amazonaws.com/CodeBetter/Creative/tc_125x125_simple2.swf" type="application/x-shockwave-flash">
				</div>
			
				<li id="user_bio-2" class="widget-container widget_user_bio"><h3 class="widget-title"></h3>One of these days I will add something to my user profile! For now, I shall remain mysterious.
</li>		
						
			</ul>
			
		</div><!-- #primary .widget-area -->
		
		<div id="secondary" class="widget-area">
				<script type="text/javascript" src="http://engine.theloungenet.com/z/15/adzerk1_2_5"></script>
				<div id="adzerk1"></div>
				
				<ul class="xoxo">		
									</ul>	
				
				<a target="_blank" href="http://www.red-gate.com/products/dotnet-development/ants-performance-profiler/entrypage/version-6-csharp?utm_source=cb&utm_medium=rectangle&utm_term=4327&utm_content=app6release&utm_campaign=antsperformanceprofiler"><img width="300" height="250" border="0" title="" alt="" src="http://s3.amazonaws.com/CodeBetter/Creative/APP6_Launch_C%23_Jun10_300x250_M1.gif?AWSAccessKeyId=0KMA35HT86EVXB99Z302&amp;Expires=1458095516&amp;Signature=BIBDilUaLnZe1uKfVKyyTBxr%2BvE%3D"></a>
				
		</div><!-- #secondary .widget-area -->			</div><!--sidebar-->
		</div><!-- #container -->
</div><!-- end div tabs see header.php -->
	
	<div id="footer">
		<div class="container_12">
		<div id="footer-widget-area">
				<div class="grid_4">					
					<ul>
					<li><a href="http://codebetter.com" title="home">Home</a></li>
					<li class="page_item page-item-2"><a href="http://codebetter.com/about/" title="About">About</a></li>
<li class="page_item page-item-8"><a href="http://codebetter.com/codebetter-ci/" title="CodeBetter CI">CodeBetter CI</a></li>
<li class="page_item page-item-6"><a href="http://codebetter.com/community/" title="Community">Community</a></li>
<li class="page_item page-item-10"><a href="http://codebetter.com/editors/" title="Editors">Editors</a></li>
<li class="page_item page-item-41"><a href="http://codebetter.com/globalsearch/" title="Search Results">Search Results</a></li>
					<li><a href="http://feeds.feedburner.com/CodeBetter" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a><a href="http://feeds.feedburner.com/CodeBetter"><img src="http://feeds.feedburner.com/~fc/CodeBetter?bg=FFFFFF&amp;fg=2E9BD2&amp;anim=1" height="26" width="88" style="vertical-align:middle;border:0"/></a></li>
					</ul>
				</div><!-- #second .widget-area -->
				<div class="grid_4">
					
					<h3>Friends of CodeBetter.Com</h3>
<ul>

<li><a href="/blogs/products/pages/64386.aspx">Red-Gate Tools For SQL and .NET</a></li>
<li><a href="/blogs/products/pages/64615.aspx">Telerik</a></li>
<li><a href="/blogs/products/pages/142174.aspx">JetBrains - ReSharper</a></li>
<li><a href="/blogs/products/pages/Beyond-Compare.aspx">Beyond Compare</a></li>
<li><a href="/blogs/products/pages/.NET-Memory-Profiler.aspx">.NET Memory Profiler</a></li>
<li><a href="http://www.ndepend.com/">NDepend</a></li>
<li><a href="http://www.sapphiresteel.com/">Ruby In Steel</a></li>
<li><a href="http://www.slickedit.com/">SlickEdit</a></li>
<li><a href="http://www.gurock.com/products/smartinspect/">SmartInspect .NET Logging</a></li>
<li>NGEDIT: <a href="http://www.viemu.com/">ViEmu</a> and <a href="http://www.codekana.com/">Codekana</a> </li>
<li><a href="http://www.devexpress.com/" target="_blank">DevExpress</a></li>
<li><a href="http://nhprof.com" target="_blank">NHibernate Profiler</a></li>
<li><a href="http://unfuddle.com" target="_blank">Unfuddle</a></li>
<li><a href="http://www.balsamiq.com/products/mockups" target="_blank">Balsamiq Mockups</a></li>
<li><a href="http://scrumy.com" target="_blank">Scrumy</a> &lt;-- NEW Friend!</li>

	</ul>				
				</div><!-- #third .widget-area -->
				<div class="grid_4">
					CodeBetter.Com &copy; '11<br />
						Stuff you need to Code Better!<br />
				Proudly powered by <span id="generator-link"><a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">WordPress</a></span>.					
				</div><!-- #fourth .widget-area -->
			</div><!-- #footer-widget-area -->		
		
			</div><!-- end div.container_12 -->

	</div><!-- end div#footer -->
		
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-531207-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0.83b'></script>
<script type='text/javascript' src='http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushFSharp.js?ver=3.0.83b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://cdn1.codebetter.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['gutter'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 2;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = false; 
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
 
</body>
</html>
<!-- Dynamic page generated in 0.282 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2011-01-27 13:23:16 -->
<!-- super cache -->